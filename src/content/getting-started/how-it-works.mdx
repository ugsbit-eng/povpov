---
title: "How It Works"
description: "High-level architecture: wallets, DEXs, and order engine"
author: "P.O.V Team"
updatedAt: "January 2025"
version: "1.0"
tags: ["architecture", "technical"]
readTime: "8 min read"
---

# How P.O.V Sniper BOT Works

Understanding the architecture behind P.O.V Sniper BOT will help you use it effectively and troubleshoot issues. This guide explains how your trades go from strategy configuration to executed orders on-chain.

## High-Level Architecture

```
┌─────────────────┐
│   Your Wallet   │ (Phantom, Ledger, Solflare)
└────────┬────────┘
         │
         ▼
┌─────────────────────────────────┐
│   P.O.V Sniper BOT Engine       │
│  ┌─────────────────────────┐   │
│  │  Strategy Manager       │   │
│  │  - Grid, DCA, Scalping  │   │
│  │  - Custom Logic         │   │
│  └───────────┬─────────────┘   │
│              ▼                   │
│  ┌─────────────────────────┐   │
│  │  Signal Processor       │   │
│  │  - Price Analysis       │   │
│  │  - Orderflow Detection  │   │
│  │  - Volume Profiling     │   │
│  └───────────┬─────────────┘   │
│              ▼                   │
│  ┌─────────────────────────┐   │
│  │  Risk Manager           │   │
│  │  - Position Sizing      │   │
│  │  - Stop Loss / TP       │   │
│  │  - Slippage Control     │   │
│  └───────────┬─────────────┘   │
│              ▼                   │
│  ┌─────────────────────────┐   │
│  │  Order Execution        │   │
│  │  - Transaction Building │   │
│  │  - Fee Optimization     │   │
│  │  - Retry Logic          │   │
│  └───────────┬─────────────┘   │
└──────────────┼─────────────────┘
               │
               ▼
┌──────────────────────────────────┐
│      Solana RPC Node             │
│  (Helius, QuickNode, Triton)     │
└────────────┬─────────────────────┘
             │
             ▼
┌──────────────────────────────────┐
│    Solana Blockchain             │
└────────────┬─────────────────────┘
             │
             ▼
┌──────────────────────────────────┐
│    DEX Smart Contracts           │
│  - Raydium CLMM                  │
│  - Orca Whirlpools               │
│  - Jupiter Aggregator            │
│  - Serum (OpenBook)              │
└──────────────────────────────────┘
```

## Component Breakdown

### 1. Wallet Integration

Your wallet is the **source of truth** for all transactions. P.O.V Sniper BOT integrates with:

**Supported Wallets:**
- **Phantom** (most popular, browser extension + mobile)
- **Solflare** (advanced features, better for devs)
- **Ledger** (hardware wallet, maximum security)
- **Custom Keypair** (for VPS deployments, advanced users only)

**Connection Flow:**
1. Bot requests public key from wallet
2. Wallet displays connection approval prompt
3. User approves connection
4. Bot can now request transaction signatures
5. Each trade requires separate approval (unless auto-approve enabled)

**Security Note**: The bot **never** sees your private key. It only requests signatures for transactions you've configured.

### 2. Strategy Manager

The brain of the operation. This component:

- Loads your saved strategies from configuration
- Monitors market conditions continuously
- Decides **when** to trigger buy/sell signals
- Passes signals to the Signal Processor

**Example: Grid Trading Logic**
```
IF price < grid_level[i] AND position_size < max_position:
    SIGNAL: BUY at grid_level[i]
ELIF price > grid_level[i+1] AND position_size > 0:
    SIGNAL: SELL at grid_level[i+1]
```

### 3. Signal Processor (The "P.O.V" Part)

This is what makes P.O.V Sniper BOT unique. Three parallel analyzers work simultaneously:

#### Price Analysis
- Tracks price across all configured DEXs
- Identifies best execution venue (lowest slippage)
- Detects price divergence opportunities (arbitrage)

#### Orderflow Detection
- Monitors mempool for large pending transactions
- Identifies whale buy/sell patterns
- Tracks smart money wallets (configurable list)

#### Volume Profiling
- Analyzes volume spikes and patterns
- Distinguishes organic growth from wash trading
- Validates breakout authenticity

**Combined Score**:
Each signal gets a confidence score (0-100) based on all three factors. Only signals above your configured threshold trigger trades.

### 4. Risk Manager

Safety first. Every signal passes through risk checks:

**Position Sizing**
```
max_trade_size = account_balance * risk_per_trade (default: 5%)
IF signal_confidence > 80:
    position_size = max_trade_size
ELIF signal_confidence > 60:
    position_size = max_trade_size * 0.5
ELSE:
    SKIP TRADE (confidence too low)
```

**Stop Loss / Take Profit**
- Automatically sets SL/TP orders based on your config
- Trailing stop-loss option (follows price up, locks in gains)
- Percentage-based or fixed SOL amount

**Slippage Protection**
- Calculates expected price impact before execution
- Aborts trade if slippage exceeds your tolerance
- Dynamic slippage adjustment for volatile markets

### 5. Order Execution Engine

The fastest component — optimized for speed and reliability.

**Transaction Building:**
1. Fetches latest blockhash from RPC
2. Constructs swap instruction (Raydium/Orca/Jupiter)
3. Adds compute budget instruction (priority fees)
4. Serializes transaction
5. Requests wallet signature
6. Submits to RPC with retry logic

**Fee Optimization:**
- Dynamically adjusts priority fees based on network congestion
- Uses `getRecentPrioritizationFees` RPC method
- Falls back to default if RPC call fails

**Retry Logic:**
- Monitors transaction confirmation
- Retries with higher priority fee if stuck (max 3 attempts)
- Falls back to alternative DEX if primary fails

## Data Flow: Buy Order Example

Let's walk through a complete buy order:

**Step 1: Signal Generation** (t=0ms)
```
Market: SOL/USDC on Raydium
Current Price: $100.50
Grid Strategy: Buy at $100.00
→ SIGNAL: BUY 0.5 SOL
```

**Step 2: Signal Processing** (t=10ms)
```
Price Score: 85 (good entry relative to 24h range)
Orderflow Score: 70 (no major sells detected)
Volume Score: 75 (above average, organic)
→ Combined Score: 77 (PASS threshold of 60)
```

**Step 3: Risk Checks** (t=15ms)
```
Account Balance: 10 SOL
Risk Per Trade: 5% = 0.5 SOL ✓
Max Slippage: 1% ✓
Current Volatility: Normal ✓
→ APPROVED for execution
```

**Step 4: Order Execution** (t=20ms)
```
Fetching latest blockhash... ✓
Building swap instruction (Raydium CLMM)... ✓
Adding compute budget (0.001 SOL priority fee)... ✓
Requesting signature from wallet... 
```

**Step 5: User Approval** (t=500ms - depends on user)
```
Wallet displays transaction preview
User clicks "Approve"
Signature returned to bot
```

**Step 6: Submission** (t=550ms)
```
Submitting transaction to RPC...
Waiting for confirmation... (2-5 seconds typical)
Transaction confirmed! ✓
```

**Step 7: Post-Trade** (t=3000ms)
```
Recording trade in database
Updating portfolio balance
Sending Telegram notification
Setting TP/SL orders at configured levels
```

## DEX Integration Details

### Raydium (Concentrated Liquidity)
- **Best for**: High liquidity pairs (SOL/USDC, memecoins)
- **Fees**: 0.25% (0.01% to LPs, 0.24% to protocol)
- **Speed**: Fastest execution on Solana
- **API**: Direct smart contract interaction

### Orca (Whirlpools)
- **Best for**: Stable pairs, concentrated liquidity
- **Fees**: 0.01% - 1% (tier-based)
- **Speed**: Very fast, slightly slower than Raydium
- **API**: Whirlpools SDK

### Jupiter Aggregator
- **Best for**: Best price across all DEXs
- **Fees**: 0% (Jupiter itself), plus DEX fees
- **Speed**: Slower (routing takes extra time)
- **API**: Jupiter API v4

### Serum / OpenBook
- **Best for**: Limit orders, order book trading
- **Fees**: Variable (maker/taker model)
- **Speed**: Depends on liquidity
- **API**: Serum SDK

## RPC Node Requirements

Your RPC node is critical for performance. Requirements:

**Minimum:**
- Solana Mainnet RPC endpoint
- 100 requests/second rate limit
- WebSocket support for real-time updates

**Recommended:**
- Premium RPC (Helius, QuickNode, Triton)
- 1000+ requests/second
- Dedicated node (not shared)
- Geographic proximity to your location

**Bot makes these RPC calls per trade:**
- `getLatestBlockhash` (1 call)
- `getRecentPrioritizationFees` (1 call)
- `simulateTransaction` (1 call, optional)
- `sendTransaction` (1-3 calls with retries)
- `getTransaction` (polling for confirmation)

**Total**: ~5-10 RPC calls per trade

## Performance Benchmarks

Typical execution speeds (from signal to on-chain confirmation):

- **Grid Trading**: 2-4 seconds (normal priority)
- **DCA**: 3-5 seconds (no rush)
- **Scalping**: 1-2 seconds (high priority)
- **Sniper Mode**: <1 second (maximum priority)

Factors affecting speed:
- Network congestion (higher during US trading hours)
- RPC node performance
- DEX liquidity (low liquidity = slower fills)
- Your priority fee setting

---

**Next Steps**: [Quickstart: Setup in 10 Minutes →](/knowledge-base/getting-started/quickstart)