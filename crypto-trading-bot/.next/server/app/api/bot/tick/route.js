/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/bot/tick/route";
exports.ids = ["app/api/bot/tick/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbot%2Ftick%2Froute&page=%2Fapi%2Fbot%2Ftick%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbot%2Ftick%2Froute.ts&appDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbot%2Ftick%2Froute&page=%2Fapi%2Fbot%2Ftick%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbot%2Ftick%2Froute.ts&appDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_JP_ppppppppppppppppp_pov_crypto_trading_bot_src_app_api_bot_tick_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/bot/tick/route.ts */ \"(rsc)/./src/app/api/bot/tick/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/bot/tick/route\",\n        pathname: \"/api/bot/tick\",\n        filename: \"route\",\n        bundlePath: \"app/api/bot/tick/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\JP\\\\ppppppppppppppppp\\\\pov\\\\crypto-trading-bot\\\\src\\\\app\\\\api\\\\bot\\\\tick\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_JP_ppppppppppppppppp_pov_crypto_trading_bot_src_app_api_bot_tick_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/bot/tick/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZib3QlMkZ0aWNrJTJGcm91dGUmcGFnZT0lMkZhcGklMkZib3QlMkZ0aWNrJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYm90JTJGdGljayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKUCU1Q3BwcHBwcHBwcHBwcHBwcHBwJTVDcG92JTVDY3J5cHRvLXRyYWRpbmctYm90JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNKUCU1Q3BwcHBwcHBwcHBwcHBwcHBwJTVDcG92JTVDY3J5cHRvLXRyYWRpbmctYm90JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ3dEO0FBQzFIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRDtB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MEZBQXFCO0FBQ2xFO0FBQ0Esa0JBQWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOLDZCQUE2Qiw2RkFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcSlBcXFxccHBwcHBwcHBwcHBwcHBwcHBcXFxccG92XFxcXGNyeXB0by10cmFkaW5nLWJvdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxib3RcXFxcdGlja1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYm90L3RpY2svcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ib3QvdGlja1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYm90L3RpY2svcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcSlBcXFxccHBwcHBwcHBwcHBwcHBwcHBcXFxccG92XFxcXGNyeXB0by10cmFkaW5nLWJvdFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxib3RcXFxcdGlja1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICB2YXIgX25leHRDb25maWdfZXhwZXJpbWVudGFsO1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL2JvdC90aWNrL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbot%2Ftick%2Froute&page=%2Fapi%2Fbot%2Ftick%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbot%2Ftick%2Froute.ts&appDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/bot/tick/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/bot/tick/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_backgroundWorker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/backgroundWorker */ \"(rsc)/./src/lib/backgroundWorker.ts\");\n\n\nasync function POST(request) {\n    try {\n        // Asynchronously process the bot tick without awaiting the result\n        (0,_lib_backgroundWorker__WEBPACK_IMPORTED_MODULE_1__.processBotTick)().catch(console.error);\n        // Immediately return a success response\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: 'Bot tick processing started',\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error('Bot tick error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : 'Failed to process tick'\n        }, {\n            status: 500\n        });\n    }\n}\n// Allow GET as well for easy polling\nasync function GET(request) {\n    return POST(request);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9ib3QvdGljay9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXdEO0FBQ0E7QUFFakQsZUFBZUUsS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLGtFQUFrRTtRQUNsRUYscUVBQWNBLEdBQUdHLEtBQUssQ0FBQ0MsUUFBUUMsS0FBSztRQUVwQyx3Q0FBd0M7UUFDeEMsT0FBT04scURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QkMsU0FBUztZQUNUQyxTQUFTO1lBQ1RDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztJQUNGLEVBQUUsT0FBT04sT0FBTztRQUNkRCxRQUFRQyxLQUFLLENBQUMsbUJBQW1CQTtRQUNqQyxPQUFPTixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RGLE9BQU9BLGlCQUFpQk8sUUFBUVAsTUFBTUcsT0FBTyxHQUFHO1FBQ2xELEdBQ0E7WUFBRUssUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFQSxxQ0FBcUM7QUFDOUIsZUFBZUMsSUFBSVosT0FBb0I7SUFDNUMsT0FBT0QsS0FBS0M7QUFDZCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKUFxccHBwcHBwcHBwcHBwcHBwcHBcXHBvdlxcY3J5cHRvLXRyYWRpbmctYm90XFxzcmNcXGFwcFxcYXBpXFxib3RcXHRpY2tcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwcm9jZXNzQm90VGljayB9IGZyb20gJ0AvbGliL2JhY2tncm91bmRXb3JrZXInO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIEFzeW5jaHJvbm91c2x5IHByb2Nlc3MgdGhlIGJvdCB0aWNrIHdpdGhvdXQgYXdhaXRpbmcgdGhlIHJlc3VsdFxuICAgIHByb2Nlc3NCb3RUaWNrKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgXG4gICAgLy8gSW1tZWRpYXRlbHkgcmV0dXJuIGEgc3VjY2VzcyByZXNwb25zZVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0JvdCB0aWNrIHByb2Nlc3Npbmcgc3RhcnRlZCcsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdCb3QgdGljayBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBwcm9jZXNzIHRpY2snLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gQWxsb3cgR0VUIGFzIHdlbGwgZm9yIGVhc3kgcG9sbGluZ1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICByZXR1cm4gUE9TVChyZXF1ZXN0KTtcbn1cblxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcm9jZXNzQm90VGljayIsIlBPU1QiLCJyZXF1ZXN0IiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJqc29uIiwic3VjY2VzcyIsIm1lc3NhZ2UiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJFcnJvciIsInN0YXR1cyIsIkdFVCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/bot/tick/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/constants/config.ts":
/*!*********************************!*\
  !*** ./src/constants/config.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BRAND: () => (/* binding */ BRAND),\n/* harmony export */   DEFAULT_CAPITAL: () => (/* binding */ DEFAULT_CAPITAL),\n/* harmony export */   DEFAULT_MAX_POSITION_SIZE: () => (/* binding */ DEFAULT_MAX_POSITION_SIZE),\n/* harmony export */   DEFAULT_RISK_LEVEL: () => (/* binding */ DEFAULT_RISK_LEVEL),\n/* harmony export */   DEFAULT_STOP_LOSS: () => (/* binding */ DEFAULT_STOP_LOSS),\n/* harmony export */   DEFAULT_TAKE_PROFIT: () => (/* binding */ DEFAULT_TAKE_PROFIT),\n/* harmony export */   MONTHLY_ROI_RANGE: () => (/* binding */ MONTHLY_ROI_RANGE),\n/* harmony export */   POV_STRATEGIES: () => (/* binding */ POV_STRATEGIES),\n/* harmony export */   PRICE_CACHE_DURATION: () => (/* binding */ PRICE_CACHE_DURATION),\n/* harmony export */   SIMULATION_SPEEDS: () => (/* binding */ SIMULATION_SPEEDS),\n/* harmony export */   SLIPPAGE_RANGE: () => (/* binding */ SLIPPAGE_RANGE),\n/* harmony export */   THEME_COLORS: () => (/* binding */ THEME_COLORS),\n/* harmony export */   TICK_INTERVAL: () => (/* binding */ TICK_INTERVAL),\n/* harmony export */   TRADING_PAIRS: () => (/* binding */ TRADING_PAIRS),\n/* harmony export */   WIN_RATE_RANGE: () => (/* binding */ WIN_RATE_RANGE)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n\nconst TRADING_PAIRS = [\n    {\n        value: _types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.SOL_USDC,\n        label: 'SOL/USDC',\n        coinGeckoId: 'solana'\n    },\n    {\n        value: _types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.BTC_USDT,\n        label: 'BTC/USDT',\n        coinGeckoId: 'bitcoin'\n    },\n    {\n        value: _types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.ETH_USDC,\n        label: 'ETH/USDC',\n        coinGeckoId: 'ethereum'\n    }\n];\nconst DEFAULT_CAPITAL = 10000;\nconst DEFAULT_RISK_LEVEL = 50;\nconst DEFAULT_STOP_LOSS = 2; // 2%\nconst DEFAULT_TAKE_PROFIT = 5; // 5%\nconst DEFAULT_MAX_POSITION_SIZE = 20; // 20% of capital\nconst SLIPPAGE_RANGE = {\n    min: 0.001,\n    max: 0.005\n};\nconst WIN_RATE_RANGE = {\n    min: 0.65,\n    max: 0.80\n};\nconst MONTHLY_ROI_RANGE = {\n    min: 0.08,\n    max: 0.25\n};\nconst TICK_INTERVAL = 10000; // 10 seconds\nconst PRICE_CACHE_DURATION = 5000; // 5 seconds\nconst POV_STRATEGIES = [\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.MOMENTUM_SURGE,\n        name: 'Momentum Surge',\n        description: 'Detects rapid price momentum shifts using RSI and volume spike detection',\n        icon: '⚡'\n    },\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.VOLATILITY_HARVEST,\n        name: 'Volatility Harvest',\n        description: 'Exploits market volatility patterns with Bollinger Bands and ATR',\n        icon: '🌊'\n    },\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.TREND_REVERSAL_PRO,\n        name: 'Trend Reversal Pro',\n        description: 'Identifies trend reversals before they happen using MACD and candlestick patterns',\n        icon: '🔄'\n    },\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.SMART_ENTRY_POINTS,\n        name: 'Smart Entry Points',\n        description: 'AI-powered optimal entry/exit timing with multiple indicator confluence',\n        icon: '🎯'\n    },\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.MULTI_TIMEFRAME_SYNC,\n        name: 'Multi-Timeframe Sync',\n        description: 'Combines signals across 1h, 4h, and 1d timeframes for maximum accuracy',\n        icon: '📊'\n    },\n    {\n        type: _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.LIQUIDITY_FLOW,\n        name: 'Liquidity Flow',\n        description: 'Follows whale wallet movements and liquidity patterns',\n        icon: '🐋'\n    }\n];\nconst SIMULATION_SPEEDS = [\n    {\n        value: 1,\n        label: '1x (Real-time)'\n    },\n    {\n        value: 10,\n        label: '10x (Fast)'\n    },\n    {\n        value: 50,\n        label: '50x (Very Fast)'\n    },\n    {\n        value: 100,\n        label: '100x (Ultra Fast)'\n    }\n];\nconst BRAND = {\n    name: 'P.O.V TRADING BOT',\n    team: 'P.O.V',\n    tagline: 'Elite Algorithmic Trading for Crypto',\n    fullTagline: 'Exclusive Proprietary Strategies'\n};\nconst THEME_COLORS = {\n    navy: '#0a0e27',\n    cyan: '#00d9ff',\n    emerald: '#00ff88',\n    violet: '#b000ff',\n    lime: '#00ff00',\n    red: '#ff0055',\n    orange: '#ff9500'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29uc3RhbnRzL2NvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBRTdDLE1BQU1FLGdCQUFnQjtJQUMzQjtRQUFFQyxPQUFPRiwrQ0FBV0EsQ0FBQ0csUUFBUTtRQUFFQyxPQUFPO1FBQVlDLGFBQWE7SUFBUztJQUN4RTtRQUFFSCxPQUFPRiwrQ0FBV0EsQ0FBQ00sUUFBUTtRQUFFRixPQUFPO1FBQVlDLGFBQWE7SUFBVTtJQUN6RTtRQUFFSCxPQUFPRiwrQ0FBV0EsQ0FBQ08sUUFBUTtRQUFFSCxPQUFPO1FBQVlDLGFBQWE7SUFBVztDQUMzRSxDQUFDO0FBRUssTUFBTUcsa0JBQWtCLE1BQU07QUFDOUIsTUFBTUMscUJBQXFCLEdBQUc7QUFDOUIsTUFBTUMsb0JBQW9CLEVBQUUsQ0FBQyxLQUFLO0FBQ2xDLE1BQU1DLHNCQUFzQixFQUFFLENBQUMsS0FBSztBQUNwQyxNQUFNQyw0QkFBNEIsR0FBRyxDQUFDLGlCQUFpQjtBQUV2RCxNQUFNQyxpQkFBaUI7SUFDNUJDLEtBQUs7SUFDTEMsS0FBSztBQUNQLEVBQUU7QUFFSyxNQUFNQyxpQkFBaUI7SUFDNUJGLEtBQUs7SUFDTEMsS0FBSztBQUNQLEVBQUU7QUFFSyxNQUFNRSxvQkFBb0I7SUFDL0JILEtBQUs7SUFDTEMsS0FBSztBQUNQLEVBQUU7QUFFSyxNQUFNRyxnQkFBZ0IsTUFBTSxDQUFDLGFBQWE7QUFDMUMsTUFBTUMsdUJBQXVCLEtBQUssQ0FBQyxZQUFZO0FBRS9DLE1BQU1DLGlCQUFpQjtJQUM1QjtRQUNFQyxNQUFNdEIsZ0RBQVlBLENBQUN1QixjQUFjO1FBQ2pDQyxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUosTUFBTXRCLGdEQUFZQSxDQUFDMkIsa0JBQWtCO1FBQ3JDSCxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUosTUFBTXRCLGdEQUFZQSxDQUFDNEIsa0JBQWtCO1FBQ3JDSixNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUosTUFBTXRCLGdEQUFZQSxDQUFDNkIsa0JBQWtCO1FBQ3JDTCxNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUosTUFBTXRCLGdEQUFZQSxDQUFDOEIsb0JBQW9CO1FBQ3ZDTixNQUFNO1FBQ05DLGFBQWE7UUFDYkMsTUFBTTtJQUNSO0lBQ0E7UUFDRUosTUFBTXRCLGdEQUFZQSxDQUFDK0IsY0FBYztRQUNqQ1AsTUFBTTtRQUNOQyxhQUFhO1FBQ2JDLE1BQU07SUFDUjtDQUNELENBQUM7QUFFSyxNQUFNTSxvQkFBb0I7SUFDL0I7UUFBRTdCLE9BQU87UUFBR0UsT0FBTztJQUFpQjtJQUNwQztRQUFFRixPQUFPO1FBQUlFLE9BQU87SUFBYTtJQUNqQztRQUFFRixPQUFPO1FBQUlFLE9BQU87SUFBa0I7SUFDdEM7UUFBRUYsT0FBTztRQUFLRSxPQUFPO0lBQW9CO0NBQzFDLENBQUM7QUFFSyxNQUFNNEIsUUFBUTtJQUNuQlQsTUFBTTtJQUNOVSxNQUFNO0lBQ05DLFNBQVM7SUFDVEMsYUFBYTtBQUNmLEVBQUU7QUFFSyxNQUFNQyxlQUFlO0lBQzFCQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsU0FBUztJQUNUQyxRQUFRO0lBQ1JDLE1BQU07SUFDTkMsS0FBSztJQUNMQyxRQUFRO0FBQ1YsRUFBRSIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKUFxccHBwcHBwcHBwcHBwcHBwcHBcXHBvdlxcY3J5cHRvLXRyYWRpbmctYm90XFxzcmNcXGNvbnN0YW50c1xcY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cmF0ZWd5VHlwZSwgVHJhZGluZ1BhaXIgfSBmcm9tICdAL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBUUkFESU5HX1BBSVJTID0gW1xyXG4gIHsgdmFsdWU6IFRyYWRpbmdQYWlyLlNPTF9VU0RDLCBsYWJlbDogJ1NPTC9VU0RDJywgY29pbkdlY2tvSWQ6ICdzb2xhbmEnIH0sXHJcbiAgeyB2YWx1ZTogVHJhZGluZ1BhaXIuQlRDX1VTRFQsIGxhYmVsOiAnQlRDL1VTRFQnLCBjb2luR2Vja29JZDogJ2JpdGNvaW4nIH0sXHJcbiAgeyB2YWx1ZTogVHJhZGluZ1BhaXIuRVRIX1VTREMsIGxhYmVsOiAnRVRIL1VTREMnLCBjb2luR2Vja29JZDogJ2V0aGVyZXVtJyB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfQ0FQSVRBTCA9IDEwMDAwO1xyXG5leHBvcnQgY29uc3QgREVGQVVMVF9SSVNLX0xFVkVMID0gNTA7XHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NUT1BfTE9TUyA9IDI7IC8vIDIlXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1RBS0VfUFJPRklUID0gNTsgLy8gNSVcclxuZXhwb3J0IGNvbnN0IERFRkFVTFRfTUFYX1BPU0lUSU9OX1NJWkUgPSAyMDsgLy8gMjAlIG9mIGNhcGl0YWxcclxuXHJcbmV4cG9ydCBjb25zdCBTTElQUEFHRV9SQU5HRSA9IHtcclxuICBtaW46IDAuMDAxLCAvLyAwLjElXHJcbiAgbWF4OiAwLjAwNSwgLy8gMC41JVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IFdJTl9SQVRFX1JBTkdFID0ge1xyXG4gIG1pbjogMC42NSwgLy8gNjUlXHJcbiAgbWF4OiAwLjgwLCAvLyA4MCVcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBNT05USExZX1JPSV9SQU5HRSA9IHtcclxuICBtaW46IDAuMDgsIC8vIDglXHJcbiAgbWF4OiAwLjI1LCAvLyAyNSVcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBUSUNLX0lOVEVSVkFMID0gMTAwMDA7IC8vIDEwIHNlY29uZHNcclxuZXhwb3J0IGNvbnN0IFBSSUNFX0NBQ0hFX0RVUkFUSU9OID0gNTAwMDsgLy8gNSBzZWNvbmRzXHJcblxyXG5leHBvcnQgY29uc3QgUE9WX1NUUkFURUdJRVMgPSBbXHJcbiAge1xyXG4gICAgdHlwZTogU3RyYXRlZ3lUeXBlLk1PTUVOVFVNX1NVUkdFLFxyXG4gICAgbmFtZTogJ01vbWVudHVtIFN1cmdlJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnRGV0ZWN0cyByYXBpZCBwcmljZSBtb21lbnR1bSBzaGlmdHMgdXNpbmcgUlNJIGFuZCB2b2x1bWUgc3Bpa2UgZGV0ZWN0aW9uJyxcclxuICAgIGljb246ICfimqEnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdHlwZTogU3RyYXRlZ3lUeXBlLlZPTEFUSUxJVFlfSEFSVkVTVCxcclxuICAgIG5hbWU6ICdWb2xhdGlsaXR5IEhhcnZlc3QnLFxyXG4gICAgZGVzY3JpcHRpb246ICdFeHBsb2l0cyBtYXJrZXQgdm9sYXRpbGl0eSBwYXR0ZXJucyB3aXRoIEJvbGxpbmdlciBCYW5kcyBhbmQgQVRSJyxcclxuICAgIGljb246ICfwn4yKJyxcclxuICB9LFxyXG4gIHtcclxuICAgIHR5cGU6IFN0cmF0ZWd5VHlwZS5UUkVORF9SRVZFUlNBTF9QUk8sXHJcbiAgICBuYW1lOiAnVHJlbmQgUmV2ZXJzYWwgUHJvJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnSWRlbnRpZmllcyB0cmVuZCByZXZlcnNhbHMgYmVmb3JlIHRoZXkgaGFwcGVuIHVzaW5nIE1BQ0QgYW5kIGNhbmRsZXN0aWNrIHBhdHRlcm5zJyxcclxuICAgIGljb246ICfwn5SEJyxcclxuICB9LFxyXG4gIHtcclxuICAgIHR5cGU6IFN0cmF0ZWd5VHlwZS5TTUFSVF9FTlRSWV9QT0lOVFMsXHJcbiAgICBuYW1lOiAnU21hcnQgRW50cnkgUG9pbnRzJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQUktcG93ZXJlZCBvcHRpbWFsIGVudHJ5L2V4aXQgdGltaW5nIHdpdGggbXVsdGlwbGUgaW5kaWNhdG9yIGNvbmZsdWVuY2UnLFxyXG4gICAgaWNvbjogJ/Cfjq8nLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgdHlwZTogU3RyYXRlZ3lUeXBlLk1VTFRJX1RJTUVGUkFNRV9TWU5DLFxyXG4gICAgbmFtZTogJ011bHRpLVRpbWVmcmFtZSBTeW5jJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQ29tYmluZXMgc2lnbmFscyBhY3Jvc3MgMWgsIDRoLCBhbmQgMWQgdGltZWZyYW1lcyBmb3IgbWF4aW11bSBhY2N1cmFjeScsXHJcbiAgICBpY29uOiAn8J+TiicsXHJcbiAgfSxcclxuICB7XHJcbiAgICB0eXBlOiBTdHJhdGVneVR5cGUuTElRVUlESVRZX0ZMT1csXHJcbiAgICBuYW1lOiAnTGlxdWlkaXR5IEZsb3cnLFxyXG4gICAgZGVzY3JpcHRpb246ICdGb2xsb3dzIHdoYWxlIHdhbGxldCBtb3ZlbWVudHMgYW5kIGxpcXVpZGl0eSBwYXR0ZXJucycsXHJcbiAgICBpY29uOiAn8J+QiycsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBTSU1VTEFUSU9OX1NQRUVEUyA9IFtcclxuICB7IHZhbHVlOiAxLCBsYWJlbDogJzF4IChSZWFsLXRpbWUpJyB9LFxyXG4gIHsgdmFsdWU6IDEwLCBsYWJlbDogJzEweCAoRmFzdCknIH0sXHJcbiAgeyB2YWx1ZTogNTAsIGxhYmVsOiAnNTB4IChWZXJ5IEZhc3QpJyB9LFxyXG4gIHsgdmFsdWU6IDEwMCwgbGFiZWw6ICcxMDB4IChVbHRyYSBGYXN0KScgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBCUkFORCA9IHtcclxuICBuYW1lOiAnUC5PLlYgVFJBRElORyBCT1QnLFxyXG4gIHRlYW06ICdQLk8uVicsXHJcbiAgdGFnbGluZTogJ0VsaXRlIEFsZ29yaXRobWljIFRyYWRpbmcgZm9yIENyeXB0bycsXHJcbiAgZnVsbFRhZ2xpbmU6ICdFeGNsdXNpdmUgUHJvcHJpZXRhcnkgU3RyYXRlZ2llcycsXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVEhFTUVfQ09MT1JTID0ge1xyXG4gIG5hdnk6ICcjMGEwZTI3JyxcclxuICBjeWFuOiAnIzAwZDlmZicsXHJcbiAgZW1lcmFsZDogJyMwMGZmODgnLFxyXG4gIHZpb2xldDogJyNiMDAwZmYnLFxyXG4gIGxpbWU6ICcjMDBmZjAwJyxcclxuICByZWQ6ICcjZmYwMDU1JyxcclxuICBvcmFuZ2U6ICcjZmY5NTAwJyxcclxufTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIlN0cmF0ZWd5VHlwZSIsIlRyYWRpbmdQYWlyIiwiVFJBRElOR19QQUlSUyIsInZhbHVlIiwiU09MX1VTREMiLCJsYWJlbCIsImNvaW5HZWNrb0lkIiwiQlRDX1VTRFQiLCJFVEhfVVNEQyIsIkRFRkFVTFRfQ0FQSVRBTCIsIkRFRkFVTFRfUklTS19MRVZFTCIsIkRFRkFVTFRfU1RPUF9MT1NTIiwiREVGQVVMVF9UQUtFX1BST0ZJVCIsIkRFRkFVTFRfTUFYX1BPU0lUSU9OX1NJWkUiLCJTTElQUEFHRV9SQU5HRSIsIm1pbiIsIm1heCIsIldJTl9SQVRFX1JBTkdFIiwiTU9OVEhMWV9ST0lfUkFOR0UiLCJUSUNLX0lOVEVSVkFMIiwiUFJJQ0VfQ0FDSEVfRFVSQVRJT04iLCJQT1ZfU1RSQVRFR0lFUyIsInR5cGUiLCJNT01FTlRVTV9TVVJHRSIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJWT0xBVElMSVRZX0hBUlZFU1QiLCJUUkVORF9SRVZFUlNBTF9QUk8iLCJTTUFSVF9FTlRSWV9QT0lOVFMiLCJNVUxUSV9USU1FRlJBTUVfU1lOQyIsIkxJUVVJRElUWV9GTE9XIiwiU0lNVUxBVElPTl9TUEVFRFMiLCJCUkFORCIsInRlYW0iLCJ0YWdsaW5lIiwiZnVsbFRhZ2xpbmUiLCJUSEVNRV9DT0xPUlMiLCJuYXZ5IiwiY3lhbiIsImVtZXJhbGQiLCJ2aW9sZXQiLCJsaW1lIiwicmVkIiwib3JhbmdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/constants/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/backgroundWorker.ts":
/*!*************************************!*\
  !*** ./src/lib/backgroundWorker.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processBotTick: () => (/* binding */ processBotTick),\n/* harmony export */   startBackgroundWorker: () => (/* binding */ startBackgroundWorker)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _priceFeeds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./priceFeeds */ \"(rsc)/./src/lib/priceFeeds.ts\");\n/* harmony import */ var _tradingEngine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tradingEngine */ \"(rsc)/./src/lib/tradingEngine.ts\");\n\n\n\n\nasync function processBotTick() {\n    try {\n        // Fetch current prices\n        const prices = await (0,_priceFeeds__WEBPACK_IMPORTED_MODULE_2__.fetchCoinGeckoPrices)();\n        const priceMap = new Map(prices.map((p)=>[\n                p.pair,\n                p.price\n            ]));\n        // Get all active bots\n        const botsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_1__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_1__.COLLECTIONS.BOTS);\n        const activeBots = await botsCollection.find({\n            status: _types__WEBPACK_IMPORTED_MODULE_0__.BotStatus.ACTIVE\n        }).toArray();\n        let totalNewTrades = 0;\n        // Process each active bot\n        for (const bot of activeBots){\n            try {\n                // Update open positions (check for stop loss / take profit)\n                await (0,_tradingEngine__WEBPACK_IMPORTED_MODULE_3__.updateOpenPositions)(bot, priceMap);\n                // Evaluate strategy and potentially execute new trades\n                const newTrades = await (0,_tradingEngine__WEBPACK_IMPORTED_MODULE_3__.evaluateAndExecuteStrategy)(bot, priceMap);\n                totalNewTrades += newTrades.length;\n                // Update bot's last tick timestamp\n                await botsCollection.updateOne({\n                    _id: bot._id\n                }, {\n                    $set: {\n                        lastTickAt: new Date()\n                    }\n                });\n            } catch (error) {\n                console.error(`Error processing bot ${bot._id}:`, error);\n                // Log error\n                const logsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_1__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_1__.COLLECTIONS.LOGS);\n                await logsCollection.insertOne({\n                    userId: bot.userId,\n                    botId: bot._id.toString(),\n                    type: 'ERROR',\n                    message: `Error processing bot tick: ${error instanceof Error ? error.message : 'Unknown error'}`,\n                    timestamp: new Date()\n                });\n            }\n        }\n        return {\n            success: true,\n            processedBots: activeBots.length,\n            newTrades: totalNewTrades,\n            prices\n        };\n    } catch (error) {\n        console.error('Error in processBotTick:', error);\n        return {\n            success: false,\n            processedBots: 0,\n            newTrades: 0,\n            prices: [],\n            error: error instanceof Error ? error.message : 'Unknown error'\n        };\n    }\n}\nasync function startBackgroundWorker() {\n    // This function would start a continuous worker\n    // For Next.js, we'll implement this through API polling from the client\n    console.log('Background worker started (client-side polling mode)');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2JhY2tncm91bmRXb3JrZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9EO0FBQ0c7QUFDSDtBQUM4QjtBQUUzRSxlQUFlTTtJQU9wQixJQUFJO1FBQ0YsdUJBQXVCO1FBQ3ZCLE1BQU1DLFNBQVMsTUFBTUosaUVBQW9CQTtRQUN6QyxNQUFNSyxXQUFXLElBQUlDLElBQUlGLE9BQU9HLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBSztnQkFBQ0EsRUFBRUMsSUFBSTtnQkFBRUQsRUFBRUUsS0FBSzthQUFDO1FBRTFELHNCQUFzQjtRQUN0QixNQUFNQyxpQkFBaUIsTUFBTWIsdURBQWFBLENBQUNDLGlEQUFXQSxDQUFDYSxJQUFJO1FBQzNELE1BQU1DLGFBQWEsTUFBTUYsZUFDdEJHLElBQUksQ0FBQztZQUFFQyxRQUFRbEIsNkNBQVNBLENBQUNtQixNQUFNO1FBQUMsR0FDaENDLE9BQU87UUFFVixJQUFJQyxpQkFBaUI7UUFFckIsMEJBQTBCO1FBQzFCLEtBQUssTUFBTUMsT0FBT04sV0FBWTtZQUM1QixJQUFJO2dCQUNGLDREQUE0RDtnQkFDNUQsTUFBTVosbUVBQW1CQSxDQUFDa0IsS0FBS2Q7Z0JBRS9CLHVEQUF1RDtnQkFDdkQsTUFBTWUsWUFBWSxNQUFNbEIsMEVBQTBCQSxDQUFDaUIsS0FBS2Q7Z0JBQ3hEYSxrQkFBa0JFLFVBQVVDLE1BQU07Z0JBRWxDLG1DQUFtQztnQkFDbkMsTUFBTVYsZUFBZVcsU0FBUyxDQUM1QjtvQkFBRUMsS0FBS0osSUFBSUksR0FBRztnQkFBQyxHQUNmO29CQUFFQyxNQUFNO3dCQUFFQyxZQUFZLElBQUlDO29CQUFPO2dCQUFFO1lBRXZDLEVBQUUsT0FBT0MsT0FBTztnQkFDZEMsUUFBUUQsS0FBSyxDQUFDLENBQUMscUJBQXFCLEVBQUVSLElBQUlJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRUk7Z0JBRWxELFlBQVk7Z0JBQ1osTUFBTUUsaUJBQWlCLE1BQU0vQix1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUMrQixJQUFJO2dCQUMzRCxNQUFNRCxlQUFlRSxTQUFTLENBQUM7b0JBQzdCQyxRQUFRYixJQUFJYSxNQUFNO29CQUNsQkMsT0FBT2QsSUFBSUksR0FBRyxDQUFFVyxRQUFRO29CQUN4QkMsTUFBTTtvQkFDTkMsU0FBUyxDQUFDLDJCQUEyQixFQUFFVCxpQkFBaUJVLFFBQVFWLE1BQU1TLE9BQU8sR0FBRyxpQkFBaUI7b0JBQ2pHRSxXQUFXLElBQUlaO2dCQUNqQjtZQUNGO1FBQ0Y7UUFFQSxPQUFPO1lBQ0xhLFNBQVM7WUFDVEMsZUFBZTNCLFdBQVdRLE1BQU07WUFDaENELFdBQVdGO1lBQ1hkO1FBQ0Y7SUFDRixFQUFFLE9BQU91QixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO1FBQzFDLE9BQU87WUFDTFksU0FBUztZQUNUQyxlQUFlO1lBQ2ZwQixXQUFXO1lBQ1hoQixRQUFRLEVBQUU7WUFDVnVCLE9BQU9BLGlCQUFpQlUsUUFBUVYsTUFBTVMsT0FBTyxHQUFHO1FBQ2xEO0lBQ0Y7QUFDRjtBQUVPLGVBQWVLO0lBQ3BCLGdEQUFnRDtJQUNoRCx3RUFBd0U7SUFDeEViLFFBQVFjLEdBQUcsQ0FBQztBQUNkIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEpQXFxwcHBwcHBwcHBwcHBwcHBwcFxccG92XFxjcnlwdG8tdHJhZGluZy1ib3RcXHNyY1xcbGliXFxiYWNrZ3JvdW5kV29ya2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJvdCwgQm90U3RhdHVzLCBQcmljZURhdGEgfSBmcm9tICdAL3R5cGVzJztcclxuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiwgQ09MTEVDVElPTlMgfSBmcm9tICcuL21vbmdvZGInO1xyXG5pbXBvcnQgeyBmZXRjaENvaW5HZWNrb1ByaWNlcyB9IGZyb20gJy4vcHJpY2VGZWVkcyc7XHJcbmltcG9ydCB7IHVwZGF0ZU9wZW5Qb3NpdGlvbnMsIGV2YWx1YXRlQW5kRXhlY3V0ZVN0cmF0ZWd5IH0gZnJvbSAnLi90cmFkaW5nRW5naW5lJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9jZXNzQm90VGljaygpOiBQcm9taXNlPHtcclxuICBzdWNjZXNzOiBib29sZWFuO1xyXG4gIHByb2Nlc3NlZEJvdHM6IG51bWJlcjtcclxuICBuZXdUcmFkZXM6IG51bWJlcjtcclxuICBwcmljZXM6IFByaWNlRGF0YVtdO1xyXG4gIGVycm9yPzogc3RyaW5nO1xyXG59PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIEZldGNoIGN1cnJlbnQgcHJpY2VzXHJcbiAgICBjb25zdCBwcmljZXMgPSBhd2FpdCBmZXRjaENvaW5HZWNrb1ByaWNlcygpO1xyXG4gICAgY29uc3QgcHJpY2VNYXAgPSBuZXcgTWFwKHByaWNlcy5tYXAocCA9PiBbcC5wYWlyLCBwLnByaWNlXSkpO1xyXG4gICAgXHJcbiAgICAvLyBHZXQgYWxsIGFjdGl2ZSBib3RzXHJcbiAgICBjb25zdCBib3RzQ29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTlMuQk9UUyk7XHJcbiAgICBjb25zdCBhY3RpdmVCb3RzID0gYXdhaXQgYm90c0NvbGxlY3Rpb25cclxuICAgICAgLmZpbmQoeyBzdGF0dXM6IEJvdFN0YXR1cy5BQ1RJVkUgfSlcclxuICAgICAgLnRvQXJyYXkoKSBhcyB1bmtub3duIGFzIEJvdFtdO1xyXG4gICAgXHJcbiAgICBsZXQgdG90YWxOZXdUcmFkZXMgPSAwO1xyXG4gICAgXHJcbiAgICAvLyBQcm9jZXNzIGVhY2ggYWN0aXZlIGJvdFxyXG4gICAgZm9yIChjb25zdCBib3Qgb2YgYWN0aXZlQm90cykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFVwZGF0ZSBvcGVuIHBvc2l0aW9ucyAoY2hlY2sgZm9yIHN0b3AgbG9zcyAvIHRha2UgcHJvZml0KVxyXG4gICAgICAgIGF3YWl0IHVwZGF0ZU9wZW5Qb3NpdGlvbnMoYm90LCBwcmljZU1hcCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRXZhbHVhdGUgc3RyYXRlZ3kgYW5kIHBvdGVudGlhbGx5IGV4ZWN1dGUgbmV3IHRyYWRlc1xyXG4gICAgICAgIGNvbnN0IG5ld1RyYWRlcyA9IGF3YWl0IGV2YWx1YXRlQW5kRXhlY3V0ZVN0cmF0ZWd5KGJvdCwgcHJpY2VNYXApO1xyXG4gICAgICAgIHRvdGFsTmV3VHJhZGVzICs9IG5ld1RyYWRlcy5sZW5ndGg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gVXBkYXRlIGJvdCdzIGxhc3QgdGljayB0aW1lc3RhbXBcclxuICAgICAgICBhd2FpdCBib3RzQ29sbGVjdGlvbi51cGRhdGVPbmUoXHJcbiAgICAgICAgICB7IF9pZDogYm90Ll9pZCB9LFxyXG4gICAgICAgICAgeyAkc2V0OiB7IGxhc3RUaWNrQXQ6IG5ldyBEYXRlKCkgfSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGJvdCAke2JvdC5faWR9OmAsIGVycm9yKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBMb2cgZXJyb3JcclxuICAgICAgICBjb25zdCBsb2dzQ29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTlMuTE9HUyk7XHJcbiAgICAgICAgYXdhaXQgbG9nc0NvbGxlY3Rpb24uaW5zZXJ0T25lKHtcclxuICAgICAgICAgIHVzZXJJZDogYm90LnVzZXJJZCxcclxuICAgICAgICAgIGJvdElkOiBib3QuX2lkIS50b1N0cmluZygpLFxyXG4gICAgICAgICAgdHlwZTogJ0VSUk9SJyxcclxuICAgICAgICAgIG1lc3NhZ2U6IGBFcnJvciBwcm9jZXNzaW5nIGJvdCB0aWNrOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWAsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgcHJvY2Vzc2VkQm90czogYWN0aXZlQm90cy5sZW5ndGgsXHJcbiAgICAgIG5ld1RyYWRlczogdG90YWxOZXdUcmFkZXMsXHJcbiAgICAgIHByaWNlcyxcclxuICAgIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIHByb2Nlc3NCb3RUaWNrOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBwcm9jZXNzZWRCb3RzOiAwLFxyXG4gICAgICBuZXdUcmFkZXM6IDAsXHJcbiAgICAgIHByaWNlczogW10sXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRCYWNrZ3JvdW5kV29ya2VyKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIC8vIFRoaXMgZnVuY3Rpb24gd291bGQgc3RhcnQgYSBjb250aW51b3VzIHdvcmtlclxyXG4gIC8vIEZvciBOZXh0LmpzLCB3ZSdsbCBpbXBsZW1lbnQgdGhpcyB0aHJvdWdoIEFQSSBwb2xsaW5nIGZyb20gdGhlIGNsaWVudFxyXG4gIGNvbnNvbGUubG9nKCdCYWNrZ3JvdW5kIHdvcmtlciBzdGFydGVkIChjbGllbnQtc2lkZSBwb2xsaW5nIG1vZGUpJyk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkJvdFN0YXR1cyIsImdldENvbGxlY3Rpb24iLCJDT0xMRUNUSU9OUyIsImZldGNoQ29pbkdlY2tvUHJpY2VzIiwidXBkYXRlT3BlblBvc2l0aW9ucyIsImV2YWx1YXRlQW5kRXhlY3V0ZVN0cmF0ZWd5IiwicHJvY2Vzc0JvdFRpY2siLCJwcmljZXMiLCJwcmljZU1hcCIsIk1hcCIsIm1hcCIsInAiLCJwYWlyIiwicHJpY2UiLCJib3RzQ29sbGVjdGlvbiIsIkJPVFMiLCJhY3RpdmVCb3RzIiwiZmluZCIsInN0YXR1cyIsIkFDVElWRSIsInRvQXJyYXkiLCJ0b3RhbE5ld1RyYWRlcyIsImJvdCIsIm5ld1RyYWRlcyIsImxlbmd0aCIsInVwZGF0ZU9uZSIsIl9pZCIsIiRzZXQiLCJsYXN0VGlja0F0IiwiRGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZ3NDb2xsZWN0aW9uIiwiTE9HUyIsImluc2VydE9uZSIsInVzZXJJZCIsImJvdElkIiwidG9TdHJpbmciLCJ0eXBlIiwibWVzc2FnZSIsIkVycm9yIiwidGltZXN0YW1wIiwic3VjY2VzcyIsInByb2Nlc3NlZEJvdHMiLCJzdGFydEJhY2tncm91bmRXb3JrZXIiLCJsb2ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/backgroundWorker.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/calculations.ts":
/*!*********************************!*\
  !*** ./src/lib/calculations.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   applySlippage: () => (/* binding */ applySlippage),\n/* harmony export */   calculateMonthlyROI: () => (/* binding */ calculateMonthlyROI),\n/* harmony export */   calculatePerformanceMetrics: () => (/* binding */ calculatePerformanceMetrics),\n/* harmony export */   calculatePnL: () => (/* binding */ calculatePnL),\n/* harmony export */   calculatePositionSize: () => (/* binding */ calculatePositionSize),\n/* harmony export */   shouldTriggerStopLoss: () => (/* binding */ shouldTriggerStopLoss),\n/* harmony export */   shouldTriggerTakeProfit: () => (/* binding */ shouldTriggerTakeProfit)\n/* harmony export */ });\nfunction calculatePnL(entryPrice, currentPrice, quantity, tradeType) {\n    let pnl;\n    if (tradeType === 'BUY') {\n        pnl = (currentPrice - entryPrice) * quantity;\n    } else {\n        pnl = (entryPrice - currentPrice) * quantity;\n    }\n    const pnlPercentage = pnl / (entryPrice * quantity) * 100;\n    return {\n        pnl,\n        pnlPercentage\n    };\n}\nfunction calculatePerformanceMetrics(trades) {\n    if (trades.length === 0) {\n        return {\n            roi: 0,\n            winRate: 0,\n            totalProfit: 0,\n            totalLoss: 0,\n            netProfit: 0,\n            drawdown: 0,\n            sharpeRatio: 0,\n            totalTrades: 0,\n            winningTrades: 0,\n            losingTrades: 0,\n            averageWin: 0,\n            averageLoss: 0,\n            profitFactor: 0\n        };\n    }\n    // Only consider closed trades for metrics\n    const closedTrades = trades.filter((t)=>!t.isOpen && t.pnl !== undefined);\n    if (closedTrades.length === 0) {\n        return {\n            roi: 0,\n            winRate: 0,\n            totalProfit: 0,\n            totalLoss: 0,\n            netProfit: 0,\n            drawdown: 0,\n            sharpeRatio: 0,\n            totalTrades: 0,\n            winningTrades: 0,\n            losingTrades: 0,\n            averageWin: 0,\n            averageLoss: 0,\n            profitFactor: 0\n        };\n    }\n    const winningTrades = closedTrades.filter((t)=>(t.pnl || 0) > 0);\n    const losingTrades = closedTrades.filter((t)=>(t.pnl || 0) < 0);\n    const totalProfit = winningTrades.reduce((sum, t)=>sum + (t.pnl || 0), 0);\n    const totalLoss = Math.abs(losingTrades.reduce((sum, t)=>sum + (t.pnl || 0), 0));\n    const netProfit = totalProfit - totalLoss;\n    const totalCapitalInvested = closedTrades.reduce((sum, t)=>sum + t.entryPrice * t.quantity, 0);\n    const roi = totalCapitalInvested > 0 ? netProfit / totalCapitalInvested * 100 : 0;\n    const winRate = winningTrades.length / closedTrades.length * 100;\n    const averageWin = winningTrades.length > 0 ? totalProfit / winningTrades.length : 0;\n    const averageLoss = losingTrades.length > 0 ? totalLoss / losingTrades.length : 0;\n    const profitFactor = totalLoss > 0 ? totalProfit / totalLoss : totalProfit > 0 ? 999 : 0;\n    // Calculate drawdown\n    let peak = 0;\n    let maxDrawdown = 0;\n    let runningPnL = 0;\n    closedTrades.forEach((trade)=>{\n        runningPnL += trade.pnl || 0;\n        if (runningPnL > peak) {\n            peak = runningPnL;\n        }\n        const drawdown = peak - runningPnL;\n        if (drawdown > maxDrawdown) {\n            maxDrawdown = drawdown;\n        }\n    });\n    const drawdownPercentage = peak > 0 ? maxDrawdown / peak * 100 : 0;\n    // Calculate Sharpe Ratio (simplified)\n    const returns = closedTrades.map((t)=>(t.pnlPercentage || 0) / 100);\n    const avgReturn = returns.reduce((sum, r)=>sum + r, 0) / returns.length;\n    const variance = returns.reduce((sum, r)=>sum + Math.pow(r - avgReturn, 2), 0) / returns.length;\n    const stdDev = Math.sqrt(variance);\n    const sharpeRatio = stdDev > 0 ? avgReturn / stdDev * Math.sqrt(252) : 0; // Annualized\n    return {\n        roi,\n        winRate,\n        totalProfit,\n        totalLoss,\n        netProfit,\n        drawdown: drawdownPercentage,\n        sharpeRatio,\n        totalTrades: closedTrades.length,\n        winningTrades: winningTrades.length,\n        losingTrades: losingTrades.length,\n        averageWin,\n        averageLoss,\n        profitFactor\n    };\n}\nfunction calculatePositionSize(capital, riskPercentage, entryPrice, stopLossPercentage) {\n    // Calculate maximum trade amount based on risk percentage\n    const maxTradeAmount = capital * (riskPercentage / 100);\n    // Calculate position size based on available capital and entry price\n    const positionSize = maxTradeAmount / entryPrice;\n    // Ensure we don't exceed available capital\n    const maxAffordableSize = capital / entryPrice;\n    return Math.min(positionSize, maxAffordableSize);\n}\nfunction shouldTriggerStopLoss(entryPrice, currentPrice, stopLossPercentage, tradeType) {\n    if (tradeType === 'BUY') {\n        const lossPercentage = (currentPrice - entryPrice) / entryPrice * 100;\n        return lossPercentage <= -stopLossPercentage;\n    } else {\n        const lossPercentage = (entryPrice - currentPrice) / entryPrice * 100;\n        return lossPercentage <= -stopLossPercentage;\n    }\n}\nfunction shouldTriggerTakeProfit(entryPrice, currentPrice, takeProfitPercentage, tradeType) {\n    if (tradeType === 'BUY') {\n        const profitPercentage = (currentPrice - entryPrice) / entryPrice * 100;\n        return profitPercentage >= takeProfitPercentage;\n    } else {\n        const profitPercentage = (entryPrice - currentPrice) / entryPrice * 100;\n        return profitPercentage >= takeProfitPercentage;\n    }\n}\nfunction applySlippage(price, minSlippage, maxSlippage) {\n    const slippage = minSlippage + Math.random() * (maxSlippage - minSlippage);\n    return price * (1 + slippage);\n}\nfunction calculateMonthlyROI(totalROI, daysElapsed) {\n    if (daysElapsed === 0) return 0;\n    return totalROI / daysElapsed * 30;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2R0RCxVQUFrQixFQUNsQkMsWUFBb0IsRUFDcEJnRCxrQkFBMEIsRUFDMUI5QyxTQUF5QjtJQUV6QixJQUFJQSxjQUFjLE9BQU87UUFDdkIsTUFBTW9ELGlCQUFpQixDQUFFdEQsZUFBZUQsVUFBUyxJQUFLQSxhQUFjO1FBQ3BFLE9BQU91RCxrQkFBa0IsQ0FBQ047SUFDNUIsT0FBTztRQUNMLE1BQU1NLGlCQUFpQixDQUFFdkQsYUFBYUMsWUFBVyxJQUFLRCxhQUFjO1FBQ3BFLE9BQU91RCxrQkFBa0IsQ0FBQ047SUFDNUI7QUFDRjtBQUVPLFNBQVNPLHdCQUNkeEQsVUFBa0IsRUFDbEJDLFlBQW9CLEVBQ3BCd0Qsb0JBQTRCLEVBQzVCdEQsU0FBeUI7SUFFekIsSUFBSUEsY0FBYyxPQUFPO1FBQ3ZCLE1BQU11RCxtQkFBbUIsQ0FBRXpELGVBQWVELFVBQVMsSUFBS0EsYUFBYztRQUN0RSxPQUFPMEQsb0JBQW9CRDtJQUM3QixPQUFPO1FBQ0wsTUFBTUMsbUJBQW1CLENBQUUxRCxhQUFhQyxZQUFXLElBQUtELGFBQWM7UUFDdEUsT0FBTzBELG9CQUFvQkQ7SUFDN0I7QUFDRjtBQUVPLFNBQVNFLGNBQWNDLEtBQWEsRUFBRUMsV0FBbUIsRUFBRUMsV0FBbUI7SUFDbkYsTUFBTUMsV0FBV0YsY0FBY2hDLEtBQUttQyxNQUFNLEtBQU1GLENBQUFBLGNBQWNELFdBQVU7SUFDeEUsT0FBT0QsUUFBUyxLQUFJRyxRQUFPO0FBQzdCO0FBRU8sU0FBU0Usb0JBQW9CQyxRQUFnQixFQUFFQyxXQUFtQjtJQUN2RSxJQUFJQSxnQkFBZ0IsR0FBRyxPQUFPO0lBQzlCLE9BQU8sV0FBWUEsY0FBZTtBQUNwQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKUFxccHBwcHBwcHBwcHBwcHBwcHBcXHBvdlxcY3J5cHRvLXRyYWRpbmctYm90XFxzcmNcXGxpYlxcY2FsY3VsYXRpb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYWRlLCBQZXJmb3JtYW5jZU1ldHJpY3MgfSBmcm9tICdAL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVBuTChcbiAgZW50cnlQcmljZTogbnVtYmVyLFxuICBjdXJyZW50UHJpY2U6IG51bWJlcixcbiAgcXVhbnRpdHk6IG51bWJlcixcbiAgdHJhZGVUeXBlOiAnQlVZJyB8ICdTRUxMJ1xuKTogeyBwbmw6IG51bWJlcjsgcG5sUGVyY2VudGFnZTogbnVtYmVyIH0ge1xuICBsZXQgcG5sOiBudW1iZXI7XG4gIFxuICBpZiAodHJhZGVUeXBlID09PSAnQlVZJykge1xuICAgIHBubCA9IChjdXJyZW50UHJpY2UgLSBlbnRyeVByaWNlKSAqIHF1YW50aXR5O1xuICB9IGVsc2Uge1xuICAgIHBubCA9IChlbnRyeVByaWNlIC0gY3VycmVudFByaWNlKSAqIHF1YW50aXR5O1xuICB9XG4gIFxuICBjb25zdCBwbmxQZXJjZW50YWdlID0gKHBubCAvIChlbnRyeVByaWNlICogcXVhbnRpdHkpKSAqIDEwMDtcbiAgXG4gIHJldHVybiB7IHBubCwgcG5sUGVyY2VudGFnZSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUGVyZm9ybWFuY2VNZXRyaWNzKHRyYWRlczogVHJhZGVbXSk6IFBlcmZvcm1hbmNlTWV0cmljcyB7XG4gIGlmICh0cmFkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvaTogMCxcbiAgICAgIHdpblJhdGU6IDAsXG4gICAgICB0b3RhbFByb2ZpdDogMCxcbiAgICAgIHRvdGFsTG9zczogMCxcbiAgICAgIG5ldFByb2ZpdDogMCxcbiAgICAgIGRyYXdkb3duOiAwLFxuICAgICAgc2hhcnBlUmF0aW86IDAsXG4gICAgICB0b3RhbFRyYWRlczogMCxcbiAgICAgIHdpbm5pbmdUcmFkZXM6IDAsXG4gICAgICBsb3NpbmdUcmFkZXM6IDAsXG4gICAgICBhdmVyYWdlV2luOiAwLFxuICAgICAgYXZlcmFnZUxvc3M6IDAsXG4gICAgICBwcm9maXRGYWN0b3I6IDAsXG4gICAgfTtcbiAgfVxuICBcbiAgLy8gT25seSBjb25zaWRlciBjbG9zZWQgdHJhZGVzIGZvciBtZXRyaWNzXG4gIGNvbnN0IGNsb3NlZFRyYWRlcyA9IHRyYWRlcy5maWx0ZXIodCA9PiAhdC5pc09wZW4gJiYgdC5wbmwgIT09IHVuZGVmaW5lZCk7XG4gIFxuICBpZiAoY2xvc2VkVHJhZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICByb2k6IDAsXG4gICAgICB3aW5SYXRlOiAwLFxuICAgICAgdG90YWxQcm9maXQ6IDAsXG4gICAgICB0b3RhbExvc3M6IDAsXG4gICAgICBuZXRQcm9maXQ6IDAsXG4gICAgICBkcmF3ZG93bjogMCxcbiAgICAgIHNoYXJwZVJhdGlvOiAwLFxuICAgICAgdG90YWxUcmFkZXM6IDAsXG4gICAgICB3aW5uaW5nVHJhZGVzOiAwLFxuICAgICAgbG9zaW5nVHJhZGVzOiAwLFxuICAgICAgYXZlcmFnZVdpbjogMCxcbiAgICAgIGF2ZXJhZ2VMb3NzOiAwLFxuICAgICAgcHJvZml0RmFjdG9yOiAwLFxuICAgIH07XG4gIH1cbiAgXG4gIGNvbnN0IHdpbm5pbmdUcmFkZXMgPSBjbG9zZWRUcmFkZXMuZmlsdGVyKHQgPT4gKHQucG5sIHx8IDApID4gMCk7XG4gIGNvbnN0IGxvc2luZ1RyYWRlcyA9IGNsb3NlZFRyYWRlcy5maWx0ZXIodCA9PiAodC5wbmwgfHwgMCkgPCAwKTtcbiAgXG4gIGNvbnN0IHRvdGFsUHJvZml0ID0gd2lubmluZ1RyYWRlcy5yZWR1Y2UoKHN1bSwgdCkgPT4gc3VtICsgKHQucG5sIHx8IDApLCAwKTtcbiAgY29uc3QgdG90YWxMb3NzID0gTWF0aC5hYnMobG9zaW5nVHJhZGVzLnJlZHVjZSgoc3VtLCB0KSA9PiBzdW0gKyAodC5wbmwgfHwgMCksIDApKTtcbiAgY29uc3QgbmV0UHJvZml0ID0gdG90YWxQcm9maXQgLSB0b3RhbExvc3M7XG4gIFxuICBjb25zdCB0b3RhbENhcGl0YWxJbnZlc3RlZCA9IGNsb3NlZFRyYWRlcy5yZWR1Y2UoXG4gICAgKHN1bSwgdCkgPT4gc3VtICsgdC5lbnRyeVByaWNlICogdC5xdWFudGl0eSxcbiAgICAwXG4gICk7XG4gIFxuICBjb25zdCByb2kgPSB0b3RhbENhcGl0YWxJbnZlc3RlZCA+IDAgPyAobmV0UHJvZml0IC8gdG90YWxDYXBpdGFsSW52ZXN0ZWQpICogMTAwIDogMDtcbiAgY29uc3Qgd2luUmF0ZSA9ICh3aW5uaW5nVHJhZGVzLmxlbmd0aCAvIGNsb3NlZFRyYWRlcy5sZW5ndGgpICogMTAwO1xuICBcbiAgY29uc3QgYXZlcmFnZVdpbiA9IHdpbm5pbmdUcmFkZXMubGVuZ3RoID4gMCA/IHRvdGFsUHJvZml0IC8gd2lubmluZ1RyYWRlcy5sZW5ndGggOiAwO1xuICBjb25zdCBhdmVyYWdlTG9zcyA9IGxvc2luZ1RyYWRlcy5sZW5ndGggPiAwID8gdG90YWxMb3NzIC8gbG9zaW5nVHJhZGVzLmxlbmd0aCA6IDA7XG4gIFxuICBjb25zdCBwcm9maXRGYWN0b3IgPSB0b3RhbExvc3MgPiAwID8gdG90YWxQcm9maXQgLyB0b3RhbExvc3MgOiB0b3RhbFByb2ZpdCA+IDAgPyA5OTkgOiAwO1xuICBcbiAgLy8gQ2FsY3VsYXRlIGRyYXdkb3duXG4gIGxldCBwZWFrID0gMDtcbiAgbGV0IG1heERyYXdkb3duID0gMDtcbiAgbGV0IHJ1bm5pbmdQbkwgPSAwO1xuICBcbiAgY2xvc2VkVHJhZGVzLmZvckVhY2godHJhZGUgPT4ge1xuICAgIHJ1bm5pbmdQbkwgKz0gdHJhZGUucG5sIHx8IDA7XG4gICAgaWYgKHJ1bm5pbmdQbkwgPiBwZWFrKSB7XG4gICAgICBwZWFrID0gcnVubmluZ1BuTDtcbiAgICB9XG4gICAgY29uc3QgZHJhd2Rvd24gPSBwZWFrIC0gcnVubmluZ1BuTDtcbiAgICBpZiAoZHJhd2Rvd24gPiBtYXhEcmF3ZG93bikge1xuICAgICAgbWF4RHJhd2Rvd24gPSBkcmF3ZG93bjtcbiAgICB9XG4gIH0pO1xuICBcbiAgY29uc3QgZHJhd2Rvd25QZXJjZW50YWdlID0gcGVhayA+IDAgPyAobWF4RHJhd2Rvd24gLyBwZWFrKSAqIDEwMCA6IDA7XG4gIFxuICAvLyBDYWxjdWxhdGUgU2hhcnBlIFJhdGlvIChzaW1wbGlmaWVkKVxuICBjb25zdCByZXR1cm5zID0gY2xvc2VkVHJhZGVzLm1hcCh0ID0+ICh0LnBubFBlcmNlbnRhZ2UgfHwgMCkgLyAxMDApO1xuICBjb25zdCBhdmdSZXR1cm4gPSByZXR1cm5zLnJlZHVjZSgoc3VtLCByKSA9PiBzdW0gKyByLCAwKSAvIHJldHVybnMubGVuZ3RoO1xuICBjb25zdCB2YXJpYW5jZSA9IHJldHVybnMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIE1hdGgucG93KHIgLSBhdmdSZXR1cm4sIDIpLCAwKSAvIHJldHVybnMubGVuZ3RoO1xuICBjb25zdCBzdGREZXYgPSBNYXRoLnNxcnQodmFyaWFuY2UpO1xuICBjb25zdCBzaGFycGVSYXRpbyA9IHN0ZERldiA+IDAgPyAoYXZnUmV0dXJuIC8gc3RkRGV2KSAqIE1hdGguc3FydCgyNTIpIDogMDsgLy8gQW5udWFsaXplZFxuICBcbiAgcmV0dXJuIHtcbiAgICByb2ksXG4gICAgd2luUmF0ZSxcbiAgICB0b3RhbFByb2ZpdCxcbiAgICB0b3RhbExvc3MsXG4gICAgbmV0UHJvZml0LFxuICAgIGRyYXdkb3duOiBkcmF3ZG93blBlcmNlbnRhZ2UsXG4gICAgc2hhcnBlUmF0aW8sXG4gICAgdG90YWxUcmFkZXM6IGNsb3NlZFRyYWRlcy5sZW5ndGgsXG4gICAgd2lubmluZ1RyYWRlczogd2lubmluZ1RyYWRlcy5sZW5ndGgsXG4gICAgbG9zaW5nVHJhZGVzOiBsb3NpbmdUcmFkZXMubGVuZ3RoLFxuICAgIGF2ZXJhZ2VXaW4sXG4gICAgYXZlcmFnZUxvc3MsXG4gICAgcHJvZml0RmFjdG9yLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb25TaXplKFxuICBjYXBpdGFsOiBudW1iZXIsXG4gIHJpc2tQZXJjZW50YWdlOiBudW1iZXIsXG4gIGVudHJ5UHJpY2U6IG51bWJlcixcbiAgc3RvcExvc3NQZXJjZW50YWdlOiBudW1iZXJcbik6IG51bWJlciB7XG4gIC8vIENhbGN1bGF0ZSBtYXhpbXVtIHRyYWRlIGFtb3VudCBiYXNlZCBvbiByaXNrIHBlcmNlbnRhZ2VcbiAgY29uc3QgbWF4VHJhZGVBbW91bnQgPSBjYXBpdGFsICogKHJpc2tQZXJjZW50YWdlIC8gMTAwKTtcbiAgXG4gIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBzaXplIGJhc2VkIG9uIGF2YWlsYWJsZSBjYXBpdGFsIGFuZCBlbnRyeSBwcmljZVxuICBjb25zdCBwb3NpdGlvblNpemUgPSBtYXhUcmFkZUFtb3VudCAvIGVudHJ5UHJpY2U7XG4gIFxuICAvLyBFbnN1cmUgd2UgZG9uJ3QgZXhjZWVkIGF2YWlsYWJsZSBjYXBpdGFsXG4gIGNvbnN0IG1heEFmZm9yZGFibGVTaXplID0gY2FwaXRhbCAvIGVudHJ5UHJpY2U7XG4gIFxuICByZXR1cm4gTWF0aC5taW4ocG9zaXRpb25TaXplLCBtYXhBZmZvcmRhYmxlU2l6ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRUcmlnZ2VyU3RvcExvc3MoXG4gIGVudHJ5UHJpY2U6IG51bWJlcixcbiAgY3VycmVudFByaWNlOiBudW1iZXIsXG4gIHN0b3BMb3NzUGVyY2VudGFnZTogbnVtYmVyLFxuICB0cmFkZVR5cGU6ICdCVVknIHwgJ1NFTEwnXG4pOiBib29sZWFuIHtcbiAgaWYgKHRyYWRlVHlwZSA9PT0gJ0JVWScpIHtcbiAgICBjb25zdCBsb3NzUGVyY2VudGFnZSA9ICgoY3VycmVudFByaWNlIC0gZW50cnlQcmljZSkgLyBlbnRyeVByaWNlKSAqIDEwMDtcbiAgICByZXR1cm4gbG9zc1BlcmNlbnRhZ2UgPD0gLXN0b3BMb3NzUGVyY2VudGFnZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBsb3NzUGVyY2VudGFnZSA9ICgoZW50cnlQcmljZSAtIGN1cnJlbnRQcmljZSkgLyBlbnRyeVByaWNlKSAqIDEwMDtcbiAgICByZXR1cm4gbG9zc1BlcmNlbnRhZ2UgPD0gLXN0b3BMb3NzUGVyY2VudGFnZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkVHJpZ2dlclRha2VQcm9maXQoXG4gIGVudHJ5UHJpY2U6IG51bWJlcixcbiAgY3VycmVudFByaWNlOiBudW1iZXIsXG4gIHRha2VQcm9maXRQZXJjZW50YWdlOiBudW1iZXIsXG4gIHRyYWRlVHlwZTogJ0JVWScgfCAnU0VMTCdcbik6IGJvb2xlYW4ge1xuICBpZiAodHJhZGVUeXBlID09PSAnQlVZJykge1xuICAgIGNvbnN0IHByb2ZpdFBlcmNlbnRhZ2UgPSAoKGN1cnJlbnRQcmljZSAtIGVudHJ5UHJpY2UpIC8gZW50cnlQcmljZSkgKiAxMDA7XG4gICAgcmV0dXJuIHByb2ZpdFBlcmNlbnRhZ2UgPj0gdGFrZVByb2ZpdFBlcmNlbnRhZ2U7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcHJvZml0UGVyY2VudGFnZSA9ICgoZW50cnlQcmljZSAtIGN1cnJlbnRQcmljZSkgLyBlbnRyeVByaWNlKSAqIDEwMDtcbiAgICByZXR1cm4gcHJvZml0UGVyY2VudGFnZSA+PSB0YWtlUHJvZml0UGVyY2VudGFnZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTbGlwcGFnZShwcmljZTogbnVtYmVyLCBtaW5TbGlwcGFnZTogbnVtYmVyLCBtYXhTbGlwcGFnZTogbnVtYmVyKTogbnVtYmVyIHtcbiAgY29uc3Qgc2xpcHBhZ2UgPSBtaW5TbGlwcGFnZSArIE1hdGgucmFuZG9tKCkgKiAobWF4U2xpcHBhZ2UgLSBtaW5TbGlwcGFnZSk7XG4gIHJldHVybiBwcmljZSAqICgxICsgc2xpcHBhZ2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTW9udGhseVJPSSh0b3RhbFJPSTogbnVtYmVyLCBkYXlzRWxhcHNlZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKGRheXNFbGFwc2VkID09PSAwKSByZXR1cm4gMDtcbiAgcmV0dXJuICh0b3RhbFJPSSAvIGRheXNFbGFwc2VkKSAqIDMwO1xufVxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJjYWxjdWxhdGVQbkwiLCJlbnRyeVByaWNlIiwiY3VycmVudFByaWNlIiwicXVhbnRpdHkiLCJ0cmFkZVR5cGUiLCJwbmwiLCJwbmxQZXJjZW50YWdlIiwiY2FsY3VsYXRlUGVyZm9ybWFuY2VNZXRyaWNzIiwidHJhZGVzIiwibGVuZ3RoIiwicm9pIiwid2luUmF0ZSIsInRvdGFsUHJvZml0IiwidG90YWxMb3NzIiwibmV0UHJvZml0IiwiZHJhd2Rvd24iLCJzaGFycGVSYXRpbyIsInRvdGFsVHJhZGVzIiwid2lubmluZ1RyYWRlcyIsImxvc2luZ1RyYWRlcyIsImF2ZXJhZ2VXaW4iLCJhdmVyYWdlTG9zcyIsInByb2ZpdEZhY3RvciIsImNsb3NlZFRyYWRlcyIsImZpbHRlciIsInQiLCJpc09wZW4iLCJ1bmRlZmluZWQiLCJyZWR1Y2UiLCJzdW0iLCJNYXRoIiwiYWJzIiwidG90YWxDYXBpdGFsSW52ZXN0ZWQiLCJwZWFrIiwibWF4RHJhd2Rvd24iLCJydW5uaW5nUG5MIiwiZm9yRWFjaCIsInRyYWRlIiwiZHJhd2Rvd25QZXJjZW50YWdlIiwicmV0dXJucyIsIm1hcCIsImF2Z1JldHVybiIsInIiLCJ2YXJpYW5jZSIsInBvdyIsInN0ZERldiIsInNxcnQiLCJjYWxjdWxhdGVQb3NpdGlvblNpemUiLCJjYXBpdGFsIiwicmlza1BlcmNlbnRhZ2UiLCJzdG9wTG9zc1BlcmNlbnRhZ2UiLCJtYXhUcmFkZUFtb3VudCIsInBvc2l0aW9uU2l6ZSIsIm1heEFmZm9yZGFibGVTaXplIiwibWluIiwic2hvdWxkVHJpZ2dlclN0b3BMb3NzIiwibG9zc1BlcmNlbnRhZ2UiLCJzaG91bGRUcmlnZ2VyVGFrZVByb2ZpdCIsInRha2VQcm9maXRQZXJjZW50YWdlIiwicHJvZml0UGVyY2VudGFnZSIsImFwcGx5U2xpcHBhZ2UiLCJwcmljZSIsIm1pblNsaXBwYWdlIiwibWF4U2xpcHBhZ2UiLCJzbGlwcGFnZSIsInJhbmRvbSIsImNhbGN1bGF0ZU1vbnRobHlST0kiLCJ0b3RhbFJPSSIsImRheXNFbGFwc2VkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/calculations.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COLLECTIONS: () => (/* binding */ COLLECTIONS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getCollection: () => (/* binding */ getCollection),\n/* harmony export */   getDatabase: () => (/* binding */ getDatabase)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Please add your MongoDB URI to .env.local');\n}\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client;\nlet clientPromise;\nif (true) {\n    // In development mode, use a global variable to preserve the connection across hot reloads\n    let globalWithMongo = global;\n    if (!globalWithMongo._mongoClientPromise) {\n        client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n        globalWithMongo._mongoClientPromise = client.connect();\n    }\n    clientPromise = globalWithMongo._mongoClientPromise;\n} else {}\nasync function getDatabase() {\n    const client = await clientPromise;\n    return client.db('pov-trading-bot');\n}\nasync function getCollection(collectionName) {\n    const db = await getDatabase();\n    return db.collection(collectionName);\n}\n// Collection names\nconst COLLECTIONS = {\n    USERS: 'users',\n    BOTS: 'bots',\n    TRADES: 'trades',\n    STRATEGIES: 'strategies',\n    SETTINGS: 'settings',\n    LOGS: 'logs'\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clientPromise);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBDO0FBRTFDLElBQUksQ0FBQ0MsUUFBUUMsR0FBRyxDQUFDQyxXQUFXLEVBQUU7SUFDNUIsTUFBTSxJQUFJQyxNQUFNO0FBQ2xCO0FBRUEsTUFBTUMsTUFBTUosUUFBUUMsR0FBRyxDQUFDQyxXQUFXO0FBQ25DLE1BQU1HLFVBQVUsQ0FBQztBQUVqQixJQUFJQztBQUNKLElBQUlDO0FBRUosSUFBSVAsSUFBc0MsRUFBRTtJQUMxQywyRkFBMkY7SUFDM0YsSUFBSVEsa0JBQWtCQztJQUl0QixJQUFJLENBQUNELGdCQUFnQkUsbUJBQW1CLEVBQUU7UUFDeENKLFNBQVMsSUFBSVAsZ0RBQVdBLENBQUNLLEtBQUtDO1FBQzlCRyxnQkFBZ0JFLG1CQUFtQixHQUFHSixPQUFPSyxPQUFPO0lBQ3REO0lBQ0FKLGdCQUFnQkMsZ0JBQWdCRSxtQkFBbUI7QUFDckQsT0FBTyxFQUlOO0FBRU0sZUFBZUU7SUFDcEIsTUFBTU4sU0FBUyxNQUFNQztJQUNyQixPQUFPRCxPQUFPTyxFQUFFLENBQUM7QUFDbkI7QUFFTyxlQUFlQyxjQUFjQyxjQUFzQjtJQUN4RCxNQUFNRixLQUFLLE1BQU1EO0lBQ2pCLE9BQU9DLEdBQUdHLFVBQVUsQ0FBQ0Q7QUFDdkI7QUFFQSxtQkFBbUI7QUFDWixNQUFNRSxjQUFjO0lBQ3pCQyxPQUFPO0lBQ1BDLE1BQU07SUFDTkMsUUFBUTtJQUNSQyxZQUFZO0lBQ1pDLFVBQVU7SUFDVkMsTUFBTTtBQUNSLEVBQUU7QUFFRixpRUFBZWhCLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSlBcXHBwcHBwcHBwcHBwcHBwcHBwXFxwb3ZcXGNyeXB0by10cmFkaW5nLWJvdFxcc3JjXFxsaWJcXG1vbmdvZGIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiIH0gZnJvbSAnbW9uZ29kYic7XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgYWRkIHlvdXIgTW9uZ29EQiBVUkkgdG8gLmVudi5sb2NhbCcpO1xyXG59XHJcblxyXG5jb25zdCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc3Qgb3B0aW9ucyA9IHt9O1xyXG5cclxubGV0IGNsaWVudDogTW9uZ29DbGllbnQ7XHJcbmxldCBjbGllbnRQcm9taXNlOiBQcm9taXNlPE1vbmdvQ2xpZW50PjtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gIC8vIEluIGRldmVsb3BtZW50IG1vZGUsIHVzZSBhIGdsb2JhbCB2YXJpYWJsZSB0byBwcmVzZXJ2ZSB0aGUgY29ubmVjdGlvbiBhY3Jvc3MgaG90IHJlbG9hZHNcclxuICBsZXQgZ2xvYmFsV2l0aE1vbmdvID0gZ2xvYmFsIGFzIHR5cGVvZiBnbG9iYWxUaGlzICYge1xyXG4gICAgX21vbmdvQ2xpZW50UHJvbWlzZT86IFByb21pc2U8TW9uZ29DbGllbnQ+O1xyXG4gIH07XHJcblxyXG4gIGlmICghZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UpIHtcclxuICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpO1xyXG4gICAgZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2UgPSBjbGllbnQuY29ubmVjdCgpO1xyXG4gIH1cclxuICBjbGllbnRQcm9taXNlID0gZ2xvYmFsV2l0aE1vbmdvLl9tb25nb0NsaWVudFByb21pc2U7XHJcbn0gZWxzZSB7XHJcbiAgLy8gSW4gcHJvZHVjdGlvbiBtb2RlLCBjcmVhdGUgYSBuZXcgY2xpZW50XHJcbiAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucyk7XHJcbiAgY2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYXRhYmFzZSgpOiBQcm9taXNlPERiPiB7XHJcbiAgY29uc3QgY2xpZW50ID0gYXdhaXQgY2xpZW50UHJvbWlzZTtcclxuICByZXR1cm4gY2xpZW50LmRiKCdwb3YtdHJhZGluZy1ib3QnKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbGxlY3Rpb24oY29sbGVjdGlvbk5hbWU6IHN0cmluZykge1xyXG4gIGNvbnN0IGRiID0gYXdhaXQgZ2V0RGF0YWJhc2UoKTtcclxuICByZXR1cm4gZGIuY29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSk7XHJcbn1cclxuXHJcbi8vIENvbGxlY3Rpb24gbmFtZXNcclxuZXhwb3J0IGNvbnN0IENPTExFQ1RJT05TID0ge1xyXG4gIFVTRVJTOiAndXNlcnMnLFxyXG4gIEJPVFM6ICdib3RzJyxcclxuICBUUkFERVM6ICd0cmFkZXMnLFxyXG4gIFNUUkFURUdJRVM6ICdzdHJhdGVnaWVzJyxcclxuICBTRVRUSU5HUzogJ3NldHRpbmdzJyxcclxuICBMT0dTOiAnbG9ncycsXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGllbnRQcm9taXNlO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJFcnJvciIsInVyaSIsIm9wdGlvbnMiLCJjbGllbnQiLCJjbGllbnRQcm9taXNlIiwiZ2xvYmFsV2l0aE1vbmdvIiwiZ2xvYmFsIiwiX21vbmdvQ2xpZW50UHJvbWlzZSIsImNvbm5lY3QiLCJnZXREYXRhYmFzZSIsImRiIiwiZ2V0Q29sbGVjdGlvbiIsImNvbGxlY3Rpb25OYW1lIiwiY29sbGVjdGlvbiIsIkNPTExFQ1RJT05TIiwiVVNFUlMiLCJCT1RTIiwiVFJBREVTIiwiU1RSQVRFR0lFUyIsIlNFVFRJTkdTIiwiTE9HUyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/povStrategies.ts":
/*!**********************************!*\
  !*** ./src/lib/povStrategies.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeLiquidityFlow: () => (/* binding */ executeLiquidityFlow),\n/* harmony export */   executeMomentumSurge: () => (/* binding */ executeMomentumSurge),\n/* harmony export */   executeMultiTimeframeSync: () => (/* binding */ executeMultiTimeframeSync),\n/* harmony export */   executeSmartEntryPoints: () => (/* binding */ executeSmartEntryPoints),\n/* harmony export */   executeStrategy: () => (/* binding */ executeStrategy),\n/* harmony export */   executeTrendReversalPro: () => (/* binding */ executeTrendReversalPro),\n/* harmony export */   executeVolatilityHarvest: () => (/* binding */ executeVolatilityHarvest),\n/* harmony export */   updatePriceHistory: () => (/* binding */ updatePriceHistory)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n\n// Store price history for each pair\nconst priceHistory = new Map();\nconst MAX_HISTORY = 100;\nfunction updatePriceHistory(pair, price) {\n    if (!priceHistory.has(pair)) {\n        priceHistory.set(pair, {\n            prices: [],\n            timestamps: []\n        });\n    }\n    const history = priceHistory.get(pair);\n    history.prices.push(price);\n    history.timestamps.push(new Date());\n    // Keep only last MAX_HISTORY entries\n    if (history.prices.length > MAX_HISTORY) {\n        history.prices.shift();\n        history.timestamps.shift();\n    }\n}\nfunction getPriceHistory(pair) {\n    return priceHistory.get(pair)?.prices || [];\n}\n// Technical indicator calculations\nfunction calculateRSI(prices, period = 14) {\n    if (prices.length < period + 1) return 50;\n    let gains = 0;\n    let losses = 0;\n    for(let i = prices.length - period; i < prices.length; i++){\n        const change = prices[i] - prices[i - 1];\n        if (change > 0) gains += change;\n        else losses -= change;\n    }\n    const avgGain = gains / period;\n    const avgLoss = losses / period;\n    if (avgLoss === 0) return 100;\n    const rs = avgGain / avgLoss;\n    return 100 - 100 / (1 + rs);\n}\nfunction calculateSMA(prices, period) {\n    if (prices.length < period) return prices[prices.length - 1] || 0;\n    const slice = prices.slice(-period);\n    return slice.reduce((sum, price)=>sum + price, 0) / period;\n}\nfunction calculateBollingerBands(prices, period = 20) {\n    const sma = calculateSMA(prices, period);\n    if (prices.length < period) {\n        return {\n            upper: sma * 1.02,\n            middle: sma,\n            lower: sma * 0.98\n        };\n    }\n    const slice = prices.slice(-period);\n    const variance = slice.reduce((sum, price)=>sum + Math.pow(price - sma, 2), 0) / period;\n    const stdDev = Math.sqrt(variance);\n    return {\n        upper: sma + 2 * stdDev,\n        middle: sma,\n        lower: sma - 2 * stdDev\n    };\n}\nfunction calculateMACD(prices) {\n    const ema12 = calculateEMA(prices, 12);\n    const ema26 = calculateEMA(prices, 26);\n    const macdLine = ema12 - ema26;\n    return {\n        macdLine,\n        signal: macdLine * 0.9\n    }; // Simplified signal line\n}\nfunction calculateEMA(prices, period) {\n    if (prices.length < period) return prices[prices.length - 1] || 0;\n    const multiplier = 2 / (period + 1);\n    let ema = calculateSMA(prices.slice(0, period), period);\n    for(let i = period; i < prices.length; i++){\n        ema = (prices[i] - ema) * multiplier + ema;\n    }\n    return ema;\n}\nfunction calculateATR(prices, period = 14) {\n    if (prices.length < 2) return 0;\n    let atr = 0;\n    const count = Math.min(period, prices.length - 1);\n    for(let i = prices.length - count; i < prices.length; i++){\n        const trueRange = Math.abs(prices[i] - prices[i - 1]);\n        atr += trueRange;\n    }\n    return atr / count;\n}\n// Strategy implementations\nfunction executeMomentumSurge(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 5) {\n        // Generate a test signal with medium-high confidence for early trading\n        console.log(`Momentum Surge: Generating test signal for ${pair}, confidence: 60`);\n        return {\n            action: Math.random() > 0.5 ? _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY : _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: 55 + Math.random() * 15,\n            reasoning: 'Early signal - building history'\n        };\n    }\n    if (prices.length < 15) {\n        // Generate signals with good confidence for demo\n        return {\n            action: Math.random() > 0.45 ? _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY : _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: 50 + Math.random() * 20,\n            reasoning: 'Building momentum'\n        };\n    }\n    const rsi = calculateRSI(prices);\n    const recentPrices = prices.slice(-5);\n    const priceChange = (currentPrice - recentPrices[0]) / recentPrices[0] * 100;\n    // Volume spike simulation (random with bias based on price movement)\n    const volumeSpike = Math.abs(priceChange) > 1.5 ? 1.3 + Math.random() * 0.7 : 0.7 + Math.random() * 0.6;\n    // AGGRESSIVE RSI: Lower threshold for more signals\n    if (rsi < 35 && priceChange < 0 && volumeSpike > 1.0) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(60 + riskLevel * 0.4, 90),\n            reasoning: 'Momentum dip, buying opportunity',\n            indicators: {\n                rsi,\n                priceChange,\n                volumeSpike\n            }\n        };\n    }\n    if (rsi > 65 && priceChange > 0.5 && volumeSpike > 1.0) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(55 + riskLevel * 0.4, 85),\n            reasoning: 'Momentum peak, taking profits',\n            indicators: {\n                rsi,\n                priceChange,\n                volumeSpike\n            }\n        };\n    }\n    // Additional opportunity signals for demo\n    if (rsi > 50 && rsi < 60 && volumeSpike > 1.2) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: 50 + Math.random() * 10,\n            reasoning: 'Volume spike detected',\n            indicators: {\n                rsi,\n                priceChange,\n                volumeSpike\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 20 + Math.random() * 15,\n        reasoning: 'Waiting for momentum',\n        indicators: {\n            rsi,\n            priceChange\n        }\n    };\n}\nfunction executeVolatilityHarvest(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 5) {\n        // Generate a test signal with low confidence for testing\n        return {\n            action: Math.random() > 0.5 ? _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY : _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: 45,\n            reasoning: 'Test signal - insufficient history'\n        };\n    }\n    if (prices.length < 10) {\n        // Generate signals with medium confidence\n        return {\n            action: Math.random() > 0.5 ? _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY : _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: 55,\n            reasoning: 'Test signal - building history'\n        };\n    }\n    const bb = calculateBollingerBands(prices);\n    const atr = calculateATR(prices);\n    const avgPrice = calculateSMA(prices, 20);\n    const volatility = atr / avgPrice * 100;\n    if (currentPrice <= bb.lower && volatility > 2) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(75 + riskLevel * 0.2, 95),\n            reasoning: 'Price at lower Bollinger Band in high volatility',\n            indicators: {\n                currentPrice,\n                lowerBand: bb.lower,\n                volatility\n            }\n        };\n    }\n    if (currentPrice >= bb.upper && volatility > 2) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(70 + riskLevel * 0.2, 95),\n            reasoning: 'Price at upper Bollinger Band in high volatility',\n            indicators: {\n                currentPrice,\n                upperBand: bb.upper,\n                volatility\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 35,\n        reasoning: 'Price within normal range',\n        indicators: {\n            volatility\n        }\n    };\n}\nfunction executeTrendReversalPro(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 26) {\n        return {\n            action: 'HOLD',\n            confidence: 0,\n            reasoning: 'Insufficient price history'\n        };\n    }\n    const macd = calculateMACD(prices);\n    const sma20 = calculateSMA(prices, 20);\n    const sma50 = calculateSMA(prices, 50);\n    // Bullish reversal: MACD crosses above signal, price above SMA20\n    if (macd.macdLine > macd.signal && macd.macdLine > 0 && currentPrice > sma20 && sma20 > sma50) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(80 + riskLevel * 0.2, 95),\n            reasoning: 'Bullish reversal detected with MACD crossover',\n            indicators: {\n                macd: macd.macdLine,\n                signal: macd.signal\n            }\n        };\n    }\n    // Bearish reversal: MACD crosses below signal\n    if (macd.macdLine < macd.signal && macd.macdLine < 0 && currentPrice < sma20) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(75 + riskLevel * 0.2, 95),\n            reasoning: 'Bearish reversal detected with MACD crossover',\n            indicators: {\n                macd: macd.macdLine,\n                signal: macd.signal\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 40,\n        reasoning: 'No reversal signal',\n        indicators: {\n            macd: macd.macdLine\n        }\n    };\n}\nfunction executeSmartEntryPoints(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 50) {\n        return {\n            action: 'HOLD',\n            confidence: 0,\n            reasoning: 'Insufficient price history'\n        };\n    }\n    // Multi-indicator confluence\n    const rsi = calculateRSI(prices);\n    const bb = calculateBollingerBands(prices);\n    const macd = calculateMACD(prices);\n    const sma20 = calculateSMA(prices, 20);\n    let buySignals = 0;\n    let sellSignals = 0;\n    if (rsi < 35) buySignals++;\n    if (rsi > 65) sellSignals++;\n    if (currentPrice < bb.lower) buySignals++;\n    if (currentPrice > bb.upper) sellSignals++;\n    if (macd.macdLine > macd.signal) buySignals++;\n    if (macd.macdLine < macd.signal) sellSignals++;\n    if (currentPrice > sma20) buySignals++;\n    if (currentPrice < sma20) sellSignals++;\n    if (buySignals >= 3) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(70 + buySignals * 5 + riskLevel * 0.2, 98),\n            reasoning: `Strong buy confluence: ${buySignals}/4 indicators`,\n            indicators: {\n                rsi,\n                buySignals\n            }\n        };\n    }\n    if (sellSignals >= 3) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(70 + sellSignals * 5 + riskLevel * 0.2, 98),\n            reasoning: `Strong sell confluence: ${sellSignals}/4 indicators`,\n            indicators: {\n                rsi,\n                sellSignals\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 45,\n        reasoning: 'No confluence signal',\n        indicators: {\n            buySignals,\n            sellSignals\n        }\n    };\n}\nfunction executeMultiTimeframeSync(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 50) {\n        return {\n            action: 'HOLD',\n            confidence: 0,\n            reasoning: 'Insufficient price history'\n        };\n    }\n    // Simulate multiple timeframes\n    const sma10 = calculateSMA(prices, 10); // 1h equivalent\n    const sma20 = calculateSMA(prices, 20); // 4h equivalent\n    const sma50 = calculateSMA(prices, 50); // 1d equivalent\n    const trend1h = currentPrice > sma10;\n    const trend4h = currentPrice > sma20;\n    const trend1d = currentPrice > sma50;\n    // All timeframes bullish\n    if (trend1h && trend4h && trend1d) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(85 + riskLevel * 0.15, 98),\n            reasoning: 'All timeframes aligned bullish',\n            indicators: {\n                sma10,\n                sma20,\n                sma50\n            }\n        };\n    }\n    // All timeframes bearish\n    if (!trend1h && !trend4h && !trend1d) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(80 + riskLevel * 0.15, 98),\n            reasoning: 'All timeframes aligned bearish',\n            indicators: {\n                sma10,\n                sma20,\n                sma50\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 35,\n        reasoning: 'Timeframes not aligned',\n        indicators: {\n            sma10,\n            sma20,\n            sma50\n        }\n    };\n}\nfunction executeLiquidityFlow(pair, currentPrice, riskLevel) {\n    const prices = getPriceHistory(pair);\n    if (prices.length < 20) {\n        return {\n            action: 'HOLD',\n            confidence: 0,\n            reasoning: 'Insufficient price history'\n        };\n    }\n    // Simulate whale activity and liquidity flow\n    const recentPrices = prices.slice(-10);\n    const avgVolatility = calculateATR(prices) / currentPrice;\n    // Sudden price moves with low volatility indicate whale activity\n    const priceChange = (currentPrice - recentPrices[0]) / recentPrices[0] * 100;\n    const whaleActivity = Math.abs(priceChange) > 1.5 && avgVolatility < 0.02;\n    // Simulate order book imbalance\n    const orderBookImbalance = (Math.random() - 0.5) * 2; // -1 to 1\n    if (whaleActivity && priceChange > 0 && orderBookImbalance > 0.3) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY,\n            confidence: Math.min(78 + riskLevel * 0.22, 96),\n            reasoning: 'Whale accumulation detected with liquidity influx',\n            indicators: {\n                priceChange,\n                orderBookImbalance\n            }\n        };\n    }\n    if (whaleActivity && priceChange < 0 && orderBookImbalance < -0.3) {\n        return {\n            action: _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL,\n            confidence: Math.min(73 + riskLevel * 0.22, 96),\n            reasoning: 'Whale distribution detected with liquidity outflow',\n            indicators: {\n                priceChange,\n                orderBookImbalance\n            }\n        };\n    }\n    return {\n        action: 'HOLD',\n        confidence: 38,\n        reasoning: 'No significant liquidity flow',\n        indicators: {\n            orderBookImbalance\n        }\n    };\n}\nfunction executeStrategy(strategy, pair, currentPrice, riskLevel) {\n    // Update price history\n    updatePriceHistory(pair, currentPrice);\n    switch(strategy){\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.MOMENTUM_SURGE:\n            return executeMomentumSurge(pair, currentPrice, riskLevel);\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.VOLATILITY_HARVEST:\n            return executeVolatilityHarvest(pair, currentPrice, riskLevel);\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.TREND_REVERSAL_PRO:\n            return executeTrendReversalPro(pair, currentPrice, riskLevel);\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.SMART_ENTRY_POINTS:\n            return executeSmartEntryPoints(pair, currentPrice, riskLevel);\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.MULTI_TIMEFRAME_SYNC:\n            return executeMultiTimeframeSync(pair, currentPrice, riskLevel);\n        case _types__WEBPACK_IMPORTED_MODULE_0__.StrategyType.LIQUIDITY_FLOW:\n            return executeLiquidityFlow(pair, currentPrice, riskLevel);\n        default:\n            return {\n                action: 'HOLD',\n                confidence: 0,\n                reasoning: 'Unknown strategy'\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXNCLEVBQ3RCekYsSUFBaUIsRUFDakJtRCxZQUFvQixFQUNwQkMsU0FBaUI7SUFFakIsdUJBQXVCO0lBQ3ZCckQsbUJBQW1CQyxNQUFNbUQ7SUFFekIsT0FBUXNDO1FBQ04sS0FBSy9GLGdEQUFZQSxDQUFDZ0csY0FBYztZQUM5QixPQUFPeEMscUJBQXFCbEQsTUFBTW1ELGNBQWNDO1FBQ2xELEtBQUsxRCxnREFBWUEsQ0FBQ2lHLGtCQUFrQjtZQUNsQyxPQUFPekIseUJBQXlCbEUsTUFBTW1ELGNBQWNDO1FBQ3RELEtBQUsxRCxnREFBWUEsQ0FBQ2tHLGtCQUFrQjtZQUNsQyxPQUFPcEIsd0JBQXdCeEUsTUFBTW1ELGNBQWNDO1FBQ3JELEtBQUsxRCxnREFBWUEsQ0FBQ21HLGtCQUFrQjtZQUNsQyxPQUFPakIsd0JBQXdCNUUsTUFBTW1ELGNBQWNDO1FBQ3JELEtBQUsxRCxnREFBWUEsQ0FBQ29HLG9CQUFvQjtZQUNwQyxPQUFPZiwwQkFBMEIvRSxNQUFNbUQsY0FBY0M7UUFDdkQsS0FBSzFELGdEQUFZQSxDQUFDcUcsY0FBYztZQUM5QixPQUFPWCxxQkFBcUJwRixNQUFNbUQsY0FBY0M7UUFDbEQ7WUFDRSxPQUFPO2dCQUFFRyxRQUFRO2dCQUFRSSxZQUFZO2dCQUFHQyxXQUFXO1lBQW1CO0lBQzFFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSlBcXHBwcHBwcHBwcHBwcHBwcHBwXFxwb3ZcXGNyeXB0by10cmFkaW5nLWJvdFxcc3JjXFxsaWJcXHBvdlN0cmF0ZWdpZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyYXRlZ3lUeXBlLCBUcmFkZVR5cGUsIFRyYWRpbmdQYWlyIH0gZnJvbSAnQC90eXBlcyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RyYXRlZ3lTaWduYWwge1xuICBhY3Rpb246IFRyYWRlVHlwZSB8ICdIT0xEJztcbiAgY29uZmlkZW5jZTogbnVtYmVyOyAvLyAwLTEwMFxuICByZWFzb25pbmc6IHN0cmluZztcbiAgaW5kaWNhdG9ycz86IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG59XG5cbmludGVyZmFjZSBQcmljZUhpc3Rvcnkge1xuICBwcmljZXM6IG51bWJlcltdO1xuICB0aW1lc3RhbXBzOiBEYXRlW107XG59XG5cbi8vIFN0b3JlIHByaWNlIGhpc3RvcnkgZm9yIGVhY2ggcGFpclxuY29uc3QgcHJpY2VIaXN0b3J5ID0gbmV3IE1hcDxUcmFkaW5nUGFpciwgUHJpY2VIaXN0b3J5PigpO1xuY29uc3QgTUFYX0hJU1RPUlkgPSAxMDA7XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcmljZUhpc3RvcnkocGFpcjogVHJhZGluZ1BhaXIsIHByaWNlOiBudW1iZXIpOiB2b2lkIHtcbiAgaWYgKCFwcmljZUhpc3RvcnkuaGFzKHBhaXIpKSB7XG4gICAgcHJpY2VIaXN0b3J5LnNldChwYWlyLCB7IHByaWNlczogW10sIHRpbWVzdGFtcHM6IFtdIH0pO1xuICB9XG4gIFxuICBjb25zdCBoaXN0b3J5ID0gcHJpY2VIaXN0b3J5LmdldChwYWlyKSE7XG4gIGhpc3RvcnkucHJpY2VzLnB1c2gocHJpY2UpO1xuICBoaXN0b3J5LnRpbWVzdGFtcHMucHVzaChuZXcgRGF0ZSgpKTtcbiAgXG4gIC8vIEtlZXAgb25seSBsYXN0IE1BWF9ISVNUT1JZIGVudHJpZXNcbiAgaWYgKGhpc3RvcnkucHJpY2VzLmxlbmd0aCA+IE1BWF9ISVNUT1JZKSB7XG4gICAgaGlzdG9yeS5wcmljZXMuc2hpZnQoKTtcbiAgICBoaXN0b3J5LnRpbWVzdGFtcHMuc2hpZnQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQcmljZUhpc3RvcnkocGFpcjogVHJhZGluZ1BhaXIpOiBudW1iZXJbXSB7XG4gIHJldHVybiBwcmljZUhpc3RvcnkuZ2V0KHBhaXIpPy5wcmljZXMgfHwgW107XG59XG5cbi8vIFRlY2huaWNhbCBpbmRpY2F0b3IgY2FsY3VsYXRpb25zXG5mdW5jdGlvbiBjYWxjdWxhdGVSU0kocHJpY2VzOiBudW1iZXJbXSwgcGVyaW9kOiBudW1iZXIgPSAxNCk6IG51bWJlciB7XG4gIGlmIChwcmljZXMubGVuZ3RoIDwgcGVyaW9kICsgMSkgcmV0dXJuIDUwO1xuICBcbiAgbGV0IGdhaW5zID0gMDtcbiAgbGV0IGxvc3NlcyA9IDA7XG4gIFxuICBmb3IgKGxldCBpID0gcHJpY2VzLmxlbmd0aCAtIHBlcmlvZDsgaSA8IHByaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYW5nZSA9IHByaWNlc1tpXSAtIHByaWNlc1tpIC0gMV07XG4gICAgaWYgKGNoYW5nZSA+IDApIGdhaW5zICs9IGNoYW5nZTtcbiAgICBlbHNlIGxvc3NlcyAtPSBjaGFuZ2U7XG4gIH1cbiAgXG4gIGNvbnN0IGF2Z0dhaW4gPSBnYWlucyAvIHBlcmlvZDtcbiAgY29uc3QgYXZnTG9zcyA9IGxvc3NlcyAvIHBlcmlvZDtcbiAgXG4gIGlmIChhdmdMb3NzID09PSAwKSByZXR1cm4gMTAwO1xuICBcbiAgY29uc3QgcnMgPSBhdmdHYWluIC8gYXZnTG9zcztcbiAgcmV0dXJuIDEwMCAtICgxMDAgLyAoMSArIHJzKSk7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNNQShwcmljZXM6IG51bWJlcltdLCBwZXJpb2Q6IG51bWJlcik6IG51bWJlciB7XG4gIGlmIChwcmljZXMubGVuZ3RoIDwgcGVyaW9kKSByZXR1cm4gcHJpY2VzW3ByaWNlcy5sZW5ndGggLSAxXSB8fCAwO1xuICBcbiAgY29uc3Qgc2xpY2UgPSBwcmljZXMuc2xpY2UoLXBlcmlvZCk7XG4gIHJldHVybiBzbGljZS5yZWR1Y2UoKHN1bSwgcHJpY2UpID0+IHN1bSArIHByaWNlLCAwKSAvIHBlcmlvZDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlQm9sbGluZ2VyQmFuZHMocHJpY2VzOiBudW1iZXJbXSwgcGVyaW9kOiBudW1iZXIgPSAyMCkge1xuICBjb25zdCBzbWEgPSBjYWxjdWxhdGVTTUEocHJpY2VzLCBwZXJpb2QpO1xuICBcbiAgaWYgKHByaWNlcy5sZW5ndGggPCBwZXJpb2QpIHtcbiAgICByZXR1cm4geyB1cHBlcjogc21hICogMS4wMiwgbWlkZGxlOiBzbWEsIGxvd2VyOiBzbWEgKiAwLjk4IH07XG4gIH1cbiAgXG4gIGNvbnN0IHNsaWNlID0gcHJpY2VzLnNsaWNlKC1wZXJpb2QpO1xuICBjb25zdCB2YXJpYW5jZSA9IHNsaWNlLnJlZHVjZSgoc3VtLCBwcmljZSkgPT4gc3VtICsgTWF0aC5wb3cocHJpY2UgLSBzbWEsIDIpLCAwKSAvIHBlcmlvZDtcbiAgY29uc3Qgc3RkRGV2ID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcbiAgXG4gIHJldHVybiB7XG4gICAgdXBwZXI6IHNtYSArIDIgKiBzdGREZXYsXG4gICAgbWlkZGxlOiBzbWEsXG4gICAgbG93ZXI6IHNtYSAtIDIgKiBzdGREZXYsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU1BQ0QocHJpY2VzOiBudW1iZXJbXSkge1xuICBjb25zdCBlbWExMiA9IGNhbGN1bGF0ZUVNQShwcmljZXMsIDEyKTtcbiAgY29uc3QgZW1hMjYgPSBjYWxjdWxhdGVFTUEocHJpY2VzLCAyNik7XG4gIGNvbnN0IG1hY2RMaW5lID0gZW1hMTIgLSBlbWEyNjtcbiAgXG4gIHJldHVybiB7IG1hY2RMaW5lLCBzaWduYWw6IG1hY2RMaW5lICogMC45IH07IC8vIFNpbXBsaWZpZWQgc2lnbmFsIGxpbmVcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlRU1BKHByaWNlczogbnVtYmVyW10sIHBlcmlvZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKHByaWNlcy5sZW5ndGggPCBwZXJpb2QpIHJldHVybiBwcmljZXNbcHJpY2VzLmxlbmd0aCAtIDFdIHx8IDA7XG4gIFxuICBjb25zdCBtdWx0aXBsaWVyID0gMiAvIChwZXJpb2QgKyAxKTtcbiAgbGV0IGVtYSA9IGNhbGN1bGF0ZVNNQShwcmljZXMuc2xpY2UoMCwgcGVyaW9kKSwgcGVyaW9kKTtcbiAgXG4gIGZvciAobGV0IGkgPSBwZXJpb2Q7IGkgPCBwcmljZXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbWEgPSAocHJpY2VzW2ldIC0gZW1hKSAqIG11bHRpcGxpZXIgKyBlbWE7XG4gIH1cbiAgXG4gIHJldHVybiBlbWE7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZUFUUihwcmljZXM6IG51bWJlcltdLCBwZXJpb2Q6IG51bWJlciA9IDE0KTogbnVtYmVyIHtcbiAgaWYgKHByaWNlcy5sZW5ndGggPCAyKSByZXR1cm4gMDtcbiAgXG4gIGxldCBhdHIgPSAwO1xuICBjb25zdCBjb3VudCA9IE1hdGgubWluKHBlcmlvZCwgcHJpY2VzLmxlbmd0aCAtIDEpO1xuICBcbiAgZm9yIChsZXQgaSA9IHByaWNlcy5sZW5ndGggLSBjb3VudDsgaSA8IHByaWNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHRydWVSYW5nZSA9IE1hdGguYWJzKHByaWNlc1tpXSAtIHByaWNlc1tpIC0gMV0pO1xuICAgIGF0ciArPSB0cnVlUmFuZ2U7XG4gIH1cbiAgXG4gIHJldHVybiBhdHIgLyBjb3VudDtcbn1cblxuLy8gU3RyYXRlZ3kgaW1wbGVtZW50YXRpb25zXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU1vbWVudHVtU3VyZ2UocGFpcjogVHJhZGluZ1BhaXIsIGN1cnJlbnRQcmljZTogbnVtYmVyLCByaXNrTGV2ZWw6IG51bWJlcik6IFN0cmF0ZWd5U2lnbmFsIHtcbiAgY29uc3QgcHJpY2VzID0gZ2V0UHJpY2VIaXN0b3J5KHBhaXIpO1xuICBcbiAgaWYgKHByaWNlcy5sZW5ndGggPCA1KSB7XG4gICAgLy8gR2VuZXJhdGUgYSB0ZXN0IHNpZ25hbCB3aXRoIG1lZGl1bS1oaWdoIGNvbmZpZGVuY2UgZm9yIGVhcmx5IHRyYWRpbmdcbiAgICBjb25zb2xlLmxvZyhgTW9tZW50dW0gU3VyZ2U6IEdlbmVyYXRpbmcgdGVzdCBzaWduYWwgZm9yICR7cGFpcn0sIGNvbmZpZGVuY2U6IDYwYCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogTWF0aC5yYW5kb20oKSA+IDAuNSA/IFRyYWRlVHlwZS5CVVkgOiBUcmFkZVR5cGUuU0VMTCxcbiAgICAgIGNvbmZpZGVuY2U6IDU1ICsgTWF0aC5yYW5kb20oKSAqIDE1LFxuICAgICAgcmVhc29uaW5nOiAnRWFybHkgc2lnbmFsIC0gYnVpbGRpbmcgaGlzdG9yeScsXG4gICAgfTtcbiAgfVxuICBcbiAgaWYgKHByaWNlcy5sZW5ndGggPCAxNSkge1xuICAgIC8vIEdlbmVyYXRlIHNpZ25hbHMgd2l0aCBnb29kIGNvbmZpZGVuY2UgZm9yIGRlbW9cbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBNYXRoLnJhbmRvbSgpID4gMC40NSA/IFRyYWRlVHlwZS5CVVkgOiBUcmFkZVR5cGUuU0VMTCxcbiAgICAgIGNvbmZpZGVuY2U6IDUwICsgTWF0aC5yYW5kb20oKSAqIDIwLFxuICAgICAgcmVhc29uaW5nOiAnQnVpbGRpbmcgbW9tZW50dW0nLFxuICAgIH07XG4gIH1cbiAgXG4gIGNvbnN0IHJzaSA9IGNhbGN1bGF0ZVJTSShwcmljZXMpO1xuICBjb25zdCByZWNlbnRQcmljZXMgPSBwcmljZXMuc2xpY2UoLTUpO1xuICBjb25zdCBwcmljZUNoYW5nZSA9ICgoY3VycmVudFByaWNlIC0gcmVjZW50UHJpY2VzWzBdKSAvIHJlY2VudFByaWNlc1swXSkgKiAxMDA7XG4gIFxuICAvLyBWb2x1bWUgc3Bpa2Ugc2ltdWxhdGlvbiAocmFuZG9tIHdpdGggYmlhcyBiYXNlZCBvbiBwcmljZSBtb3ZlbWVudClcbiAgY29uc3Qgdm9sdW1lU3Bpa2UgPSBNYXRoLmFicyhwcmljZUNoYW5nZSkgPiAxLjUgPyAxLjMgKyBNYXRoLnJhbmRvbSgpICogMC43IDogMC43ICsgTWF0aC5yYW5kb20oKSAqIDAuNjtcbiAgXG4gIC8vIEFHR1JFU1NJVkUgUlNJOiBMb3dlciB0aHJlc2hvbGQgZm9yIG1vcmUgc2lnbmFsc1xuICBpZiAocnNpIDwgMzUgJiYgcHJpY2VDaGFuZ2UgPCAwICYmIHZvbHVtZVNwaWtlID4gMS4wKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogVHJhZGVUeXBlLkJVWSxcbiAgICAgIGNvbmZpZGVuY2U6IE1hdGgubWluKDYwICsgcmlza0xldmVsICogMC40LCA5MCksXG4gICAgICByZWFzb25pbmc6ICdNb21lbnR1bSBkaXAsIGJ1eWluZyBvcHBvcnR1bml0eScsXG4gICAgICBpbmRpY2F0b3JzOiB7IHJzaSwgcHJpY2VDaGFuZ2UsIHZvbHVtZVNwaWtlIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgaWYgKHJzaSA+IDY1ICYmIHByaWNlQ2hhbmdlID4gMC41ICYmIHZvbHVtZVNwaWtlID4gMS4wKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogVHJhZGVUeXBlLlNFTEwsXG4gICAgICBjb25maWRlbmNlOiBNYXRoLm1pbig1NSArIHJpc2tMZXZlbCAqIDAuNCwgODUpLFxuICAgICAgcmVhc29uaW5nOiAnTW9tZW50dW0gcGVhaywgdGFraW5nIHByb2ZpdHMnLFxuICAgICAgaW5kaWNhdG9yczogeyByc2ksIHByaWNlQ2hhbmdlLCB2b2x1bWVTcGlrZSB9LFxuICAgIH07XG4gIH1cbiAgXG4gIC8vIEFkZGl0aW9uYWwgb3Bwb3J0dW5pdHkgc2lnbmFscyBmb3IgZGVtb1xuICBpZiAocnNpID4gNTAgJiYgcnNpIDwgNjAgJiYgdm9sdW1lU3Bpa2UgPiAxLjIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuQlVZLFxuICAgICAgY29uZmlkZW5jZTogNTAgKyBNYXRoLnJhbmRvbSgpICogMTAsXG4gICAgICByZWFzb25pbmc6ICdWb2x1bWUgc3Bpa2UgZGV0ZWN0ZWQnLFxuICAgICAgaW5kaWNhdG9yczogeyByc2ksIHByaWNlQ2hhbmdlLCB2b2x1bWVTcGlrZSB9LFxuICAgIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiAyMCArIE1hdGgucmFuZG9tKCkgKiAxNSwgcmVhc29uaW5nOiAnV2FpdGluZyBmb3IgbW9tZW50dW0nLCBpbmRpY2F0b3JzOiB7IHJzaSwgcHJpY2VDaGFuZ2UgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVZvbGF0aWxpdHlIYXJ2ZXN0KHBhaXI6IFRyYWRpbmdQYWlyLCBjdXJyZW50UHJpY2U6IG51bWJlciwgcmlza0xldmVsOiBudW1iZXIpOiBTdHJhdGVneVNpZ25hbCB7XG4gIGNvbnN0IHByaWNlcyA9IGdldFByaWNlSGlzdG9yeShwYWlyKTtcbiAgXG4gIGlmIChwcmljZXMubGVuZ3RoIDwgNSkge1xuICAgIC8vIEdlbmVyYXRlIGEgdGVzdCBzaWduYWwgd2l0aCBsb3cgY29uZmlkZW5jZSBmb3IgdGVzdGluZ1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246IE1hdGgucmFuZG9tKCkgPiAwLjUgPyBUcmFkZVR5cGUuQlVZIDogVHJhZGVUeXBlLlNFTEwsXG4gICAgICBjb25maWRlbmNlOiA0NSxcbiAgICAgIHJlYXNvbmluZzogJ1Rlc3Qgc2lnbmFsIC0gaW5zdWZmaWNpZW50IGhpc3RvcnknLFxuICAgIH07XG4gIH1cbiAgXG4gIGlmIChwcmljZXMubGVuZ3RoIDwgMTApIHtcbiAgICAvLyBHZW5lcmF0ZSBzaWduYWxzIHdpdGggbWVkaXVtIGNvbmZpZGVuY2VcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBNYXRoLnJhbmRvbSgpID4gMC41ID8gVHJhZGVUeXBlLkJVWSA6IFRyYWRlVHlwZS5TRUxMLFxuICAgICAgY29uZmlkZW5jZTogNTUsXG4gICAgICByZWFzb25pbmc6ICdUZXN0IHNpZ25hbCAtIGJ1aWxkaW5nIGhpc3RvcnknLFxuICAgIH07XG4gIH1cbiAgXG4gIGNvbnN0IGJiID0gY2FsY3VsYXRlQm9sbGluZ2VyQmFuZHMocHJpY2VzKTtcbiAgY29uc3QgYXRyID0gY2FsY3VsYXRlQVRSKHByaWNlcyk7XG4gIGNvbnN0IGF2Z1ByaWNlID0gY2FsY3VsYXRlU01BKHByaWNlcywgMjApO1xuICBjb25zdCB2b2xhdGlsaXR5ID0gKGF0ciAvIGF2Z1ByaWNlKSAqIDEwMDtcbiAgXG4gIGlmIChjdXJyZW50UHJpY2UgPD0gYmIubG93ZXIgJiYgdm9sYXRpbGl0eSA+IDIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuQlVZLFxuICAgICAgY29uZmlkZW5jZTogTWF0aC5taW4oNzUgKyByaXNrTGV2ZWwgKiAwLjIsIDk1KSxcbiAgICAgIHJlYXNvbmluZzogJ1ByaWNlIGF0IGxvd2VyIEJvbGxpbmdlciBCYW5kIGluIGhpZ2ggdm9sYXRpbGl0eScsXG4gICAgICBpbmRpY2F0b3JzOiB7IGN1cnJlbnRQcmljZSwgbG93ZXJCYW5kOiBiYi5sb3dlciwgdm9sYXRpbGl0eSB9LFxuICAgIH07XG4gIH1cbiAgXG4gIGlmIChjdXJyZW50UHJpY2UgPj0gYmIudXBwZXIgJiYgdm9sYXRpbGl0eSA+IDIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuU0VMTCxcbiAgICAgIGNvbmZpZGVuY2U6IE1hdGgubWluKDcwICsgcmlza0xldmVsICogMC4yLCA5NSksXG4gICAgICByZWFzb25pbmc6ICdQcmljZSBhdCB1cHBlciBCb2xsaW5nZXIgQmFuZCBpbiBoaWdoIHZvbGF0aWxpdHknLFxuICAgICAgaW5kaWNhdG9yczogeyBjdXJyZW50UHJpY2UsIHVwcGVyQmFuZDogYmIudXBwZXIsIHZvbGF0aWxpdHkgfSxcbiAgICB9O1xuICB9XG4gIFxuICByZXR1cm4geyBhY3Rpb246ICdIT0xEJywgY29uZmlkZW5jZTogMzUsIHJlYXNvbmluZzogJ1ByaWNlIHdpdGhpbiBub3JtYWwgcmFuZ2UnLCBpbmRpY2F0b3JzOiB7IHZvbGF0aWxpdHkgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVRyZW5kUmV2ZXJzYWxQcm8ocGFpcjogVHJhZGluZ1BhaXIsIGN1cnJlbnRQcmljZTogbnVtYmVyLCByaXNrTGV2ZWw6IG51bWJlcik6IFN0cmF0ZWd5U2lnbmFsIHtcbiAgY29uc3QgcHJpY2VzID0gZ2V0UHJpY2VIaXN0b3J5KHBhaXIpO1xuICBcbiAgaWYgKHByaWNlcy5sZW5ndGggPCAyNikge1xuICAgIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiAwLCByZWFzb25pbmc6ICdJbnN1ZmZpY2llbnQgcHJpY2UgaGlzdG9yeScgfTtcbiAgfVxuICBcbiAgY29uc3QgbWFjZCA9IGNhbGN1bGF0ZU1BQ0QocHJpY2VzKTtcbiAgY29uc3Qgc21hMjAgPSBjYWxjdWxhdGVTTUEocHJpY2VzLCAyMCk7XG4gIGNvbnN0IHNtYTUwID0gY2FsY3VsYXRlU01BKHByaWNlcywgNTApO1xuICBcbiAgLy8gQnVsbGlzaCByZXZlcnNhbDogTUFDRCBjcm9zc2VzIGFib3ZlIHNpZ25hbCwgcHJpY2UgYWJvdmUgU01BMjBcbiAgaWYgKG1hY2QubWFjZExpbmUgPiBtYWNkLnNpZ25hbCAmJiBtYWNkLm1hY2RMaW5lID4gMCAmJiBjdXJyZW50UHJpY2UgPiBzbWEyMCAmJiBzbWEyMCA+IHNtYTUwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogVHJhZGVUeXBlLkJVWSxcbiAgICAgIGNvbmZpZGVuY2U6IE1hdGgubWluKDgwICsgcmlza0xldmVsICogMC4yLCA5NSksXG4gICAgICByZWFzb25pbmc6ICdCdWxsaXNoIHJldmVyc2FsIGRldGVjdGVkIHdpdGggTUFDRCBjcm9zc292ZXInLFxuICAgICAgaW5kaWNhdG9yczogeyBtYWNkOiBtYWNkLm1hY2RMaW5lLCBzaWduYWw6IG1hY2Quc2lnbmFsIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgLy8gQmVhcmlzaCByZXZlcnNhbDogTUFDRCBjcm9zc2VzIGJlbG93IHNpZ25hbFxuICBpZiAobWFjZC5tYWNkTGluZSA8IG1hY2Quc2lnbmFsICYmIG1hY2QubWFjZExpbmUgPCAwICYmIGN1cnJlbnRQcmljZSA8IHNtYTIwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogVHJhZGVUeXBlLlNFTEwsXG4gICAgICBjb25maWRlbmNlOiBNYXRoLm1pbig3NSArIHJpc2tMZXZlbCAqIDAuMiwgOTUpLFxuICAgICAgcmVhc29uaW5nOiAnQmVhcmlzaCByZXZlcnNhbCBkZXRlY3RlZCB3aXRoIE1BQ0QgY3Jvc3NvdmVyJyxcbiAgICAgIGluZGljYXRvcnM6IHsgbWFjZDogbWFjZC5tYWNkTGluZSwgc2lnbmFsOiBtYWNkLnNpZ25hbCB9LFxuICAgIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiA0MCwgcmVhc29uaW5nOiAnTm8gcmV2ZXJzYWwgc2lnbmFsJywgaW5kaWNhdG9yczogeyBtYWNkOiBtYWNkLm1hY2RMaW5lIH0gfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTbWFydEVudHJ5UG9pbnRzKHBhaXI6IFRyYWRpbmdQYWlyLCBjdXJyZW50UHJpY2U6IG51bWJlciwgcmlza0xldmVsOiBudW1iZXIpOiBTdHJhdGVneVNpZ25hbCB7XG4gIGNvbnN0IHByaWNlcyA9IGdldFByaWNlSGlzdG9yeShwYWlyKTtcbiAgXG4gIGlmIChwcmljZXMubGVuZ3RoIDwgNTApIHtcbiAgICByZXR1cm4geyBhY3Rpb246ICdIT0xEJywgY29uZmlkZW5jZTogMCwgcmVhc29uaW5nOiAnSW5zdWZmaWNpZW50IHByaWNlIGhpc3RvcnknIH07XG4gIH1cbiAgXG4gIC8vIE11bHRpLWluZGljYXRvciBjb25mbHVlbmNlXG4gIGNvbnN0IHJzaSA9IGNhbGN1bGF0ZVJTSShwcmljZXMpO1xuICBjb25zdCBiYiA9IGNhbGN1bGF0ZUJvbGxpbmdlckJhbmRzKHByaWNlcyk7XG4gIGNvbnN0IG1hY2QgPSBjYWxjdWxhdGVNQUNEKHByaWNlcyk7XG4gIGNvbnN0IHNtYTIwID0gY2FsY3VsYXRlU01BKHByaWNlcywgMjApO1xuICBcbiAgbGV0IGJ1eVNpZ25hbHMgPSAwO1xuICBsZXQgc2VsbFNpZ25hbHMgPSAwO1xuICBcbiAgaWYgKHJzaSA8IDM1KSBidXlTaWduYWxzKys7XG4gIGlmIChyc2kgPiA2NSkgc2VsbFNpZ25hbHMrKztcbiAgaWYgKGN1cnJlbnRQcmljZSA8IGJiLmxvd2VyKSBidXlTaWduYWxzKys7XG4gIGlmIChjdXJyZW50UHJpY2UgPiBiYi51cHBlcikgc2VsbFNpZ25hbHMrKztcbiAgaWYgKG1hY2QubWFjZExpbmUgPiBtYWNkLnNpZ25hbCkgYnV5U2lnbmFscysrO1xuICBpZiAobWFjZC5tYWNkTGluZSA8IG1hY2Quc2lnbmFsKSBzZWxsU2lnbmFscysrO1xuICBpZiAoY3VycmVudFByaWNlID4gc21hMjApIGJ1eVNpZ25hbHMrKztcbiAgaWYgKGN1cnJlbnRQcmljZSA8IHNtYTIwKSBzZWxsU2lnbmFscysrO1xuICBcbiAgaWYgKGJ1eVNpZ25hbHMgPj0gMykge1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb246IFRyYWRlVHlwZS5CVVksXG4gICAgICBjb25maWRlbmNlOiBNYXRoLm1pbig3MCArIGJ1eVNpZ25hbHMgKiA1ICsgcmlza0xldmVsICogMC4yLCA5OCksXG4gICAgICByZWFzb25pbmc6IGBTdHJvbmcgYnV5IGNvbmZsdWVuY2U6ICR7YnV5U2lnbmFsc30vNCBpbmRpY2F0b3JzYCxcbiAgICAgIGluZGljYXRvcnM6IHsgcnNpLCBidXlTaWduYWxzIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgaWYgKHNlbGxTaWduYWxzID49IDMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuU0VMTCxcbiAgICAgIGNvbmZpZGVuY2U6IE1hdGgubWluKDcwICsgc2VsbFNpZ25hbHMgKiA1ICsgcmlza0xldmVsICogMC4yLCA5OCksXG4gICAgICByZWFzb25pbmc6IGBTdHJvbmcgc2VsbCBjb25mbHVlbmNlOiAke3NlbGxTaWduYWxzfS80IGluZGljYXRvcnNgLFxuICAgICAgaW5kaWNhdG9yczogeyByc2ksIHNlbGxTaWduYWxzIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgcmV0dXJuIHsgYWN0aW9uOiAnSE9MRCcsIGNvbmZpZGVuY2U6IDQ1LCByZWFzb25pbmc6ICdObyBjb25mbHVlbmNlIHNpZ25hbCcsIGluZGljYXRvcnM6IHsgYnV5U2lnbmFscywgc2VsbFNpZ25hbHMgfSB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU11bHRpVGltZWZyYW1lU3luYyhwYWlyOiBUcmFkaW5nUGFpciwgY3VycmVudFByaWNlOiBudW1iZXIsIHJpc2tMZXZlbDogbnVtYmVyKTogU3RyYXRlZ3lTaWduYWwge1xuICBjb25zdCBwcmljZXMgPSBnZXRQcmljZUhpc3RvcnkocGFpcik7XG4gIFxuICBpZiAocHJpY2VzLmxlbmd0aCA8IDUwKSB7XG4gICAgcmV0dXJuIHsgYWN0aW9uOiAnSE9MRCcsIGNvbmZpZGVuY2U6IDAsIHJlYXNvbmluZzogJ0luc3VmZmljaWVudCBwcmljZSBoaXN0b3J5JyB9O1xuICB9XG4gIFxuICAvLyBTaW11bGF0ZSBtdWx0aXBsZSB0aW1lZnJhbWVzXG4gIGNvbnN0IHNtYTEwID0gY2FsY3VsYXRlU01BKHByaWNlcywgMTApOyAvLyAxaCBlcXVpdmFsZW50XG4gIGNvbnN0IHNtYTIwID0gY2FsY3VsYXRlU01BKHByaWNlcywgMjApOyAvLyA0aCBlcXVpdmFsZW50XG4gIGNvbnN0IHNtYTUwID0gY2FsY3VsYXRlU01BKHByaWNlcywgNTApOyAvLyAxZCBlcXVpdmFsZW50XG4gIFxuICBjb25zdCB0cmVuZDFoID0gY3VycmVudFByaWNlID4gc21hMTA7XG4gIGNvbnN0IHRyZW5kNGggPSBjdXJyZW50UHJpY2UgPiBzbWEyMDtcbiAgY29uc3QgdHJlbmQxZCA9IGN1cnJlbnRQcmljZSA+IHNtYTUwO1xuICBcbiAgLy8gQWxsIHRpbWVmcmFtZXMgYnVsbGlzaFxuICBpZiAodHJlbmQxaCAmJiB0cmVuZDRoICYmIHRyZW5kMWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuQlVZLFxuICAgICAgY29uZmlkZW5jZTogTWF0aC5taW4oODUgKyByaXNrTGV2ZWwgKiAwLjE1LCA5OCksXG4gICAgICByZWFzb25pbmc6ICdBbGwgdGltZWZyYW1lcyBhbGlnbmVkIGJ1bGxpc2gnLFxuICAgICAgaW5kaWNhdG9yczogeyBzbWExMCwgc21hMjAsIHNtYTUwIH0sXG4gICAgfTtcbiAgfVxuICBcbiAgLy8gQWxsIHRpbWVmcmFtZXMgYmVhcmlzaFxuICBpZiAoIXRyZW5kMWggJiYgIXRyZW5kNGggJiYgIXRyZW5kMWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuU0VMTCxcbiAgICAgIGNvbmZpZGVuY2U6IE1hdGgubWluKDgwICsgcmlza0xldmVsICogMC4xNSwgOTgpLFxuICAgICAgcmVhc29uaW5nOiAnQWxsIHRpbWVmcmFtZXMgYWxpZ25lZCBiZWFyaXNoJyxcbiAgICAgIGluZGljYXRvcnM6IHsgc21hMTAsIHNtYTIwLCBzbWE1MCB9LFxuICAgIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiAzNSwgcmVhc29uaW5nOiAnVGltZWZyYW1lcyBub3QgYWxpZ25lZCcsIGluZGljYXRvcnM6IHsgc21hMTAsIHNtYTIwLCBzbWE1MCB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlTGlxdWlkaXR5RmxvdyhwYWlyOiBUcmFkaW5nUGFpciwgY3VycmVudFByaWNlOiBudW1iZXIsIHJpc2tMZXZlbDogbnVtYmVyKTogU3RyYXRlZ3lTaWduYWwge1xuICBjb25zdCBwcmljZXMgPSBnZXRQcmljZUhpc3RvcnkocGFpcik7XG4gIFxuICBpZiAocHJpY2VzLmxlbmd0aCA8IDIwKSB7XG4gICAgcmV0dXJuIHsgYWN0aW9uOiAnSE9MRCcsIGNvbmZpZGVuY2U6IDAsIHJlYXNvbmluZzogJ0luc3VmZmljaWVudCBwcmljZSBoaXN0b3J5JyB9O1xuICB9XG4gIFxuICAvLyBTaW11bGF0ZSB3aGFsZSBhY3Rpdml0eSBhbmQgbGlxdWlkaXR5IGZsb3dcbiAgY29uc3QgcmVjZW50UHJpY2VzID0gcHJpY2VzLnNsaWNlKC0xMCk7XG4gIGNvbnN0IGF2Z1ZvbGF0aWxpdHkgPSBjYWxjdWxhdGVBVFIocHJpY2VzKSAvIGN1cnJlbnRQcmljZTtcbiAgXG4gIC8vIFN1ZGRlbiBwcmljZSBtb3ZlcyB3aXRoIGxvdyB2b2xhdGlsaXR5IGluZGljYXRlIHdoYWxlIGFjdGl2aXR5XG4gIGNvbnN0IHByaWNlQ2hhbmdlID0gKChjdXJyZW50UHJpY2UgLSByZWNlbnRQcmljZXNbMF0pIC8gcmVjZW50UHJpY2VzWzBdKSAqIDEwMDtcbiAgY29uc3Qgd2hhbGVBY3Rpdml0eSA9IE1hdGguYWJzKHByaWNlQ2hhbmdlKSA+IDEuNSAmJiBhdmdWb2xhdGlsaXR5IDwgMC4wMjtcbiAgXG4gIC8vIFNpbXVsYXRlIG9yZGVyIGJvb2sgaW1iYWxhbmNlXG4gIGNvbnN0IG9yZGVyQm9va0ltYmFsYW5jZSA9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDI7IC8vIC0xIHRvIDFcbiAgXG4gIGlmICh3aGFsZUFjdGl2aXR5ICYmIHByaWNlQ2hhbmdlID4gMCAmJiBvcmRlckJvb2tJbWJhbGFuY2UgPiAwLjMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9uOiBUcmFkZVR5cGUuQlVZLFxuICAgICAgY29uZmlkZW5jZTogTWF0aC5taW4oNzggKyByaXNrTGV2ZWwgKiAwLjIyLCA5NiksXG4gICAgICByZWFzb25pbmc6ICdXaGFsZSBhY2N1bXVsYXRpb24gZGV0ZWN0ZWQgd2l0aCBsaXF1aWRpdHkgaW5mbHV4JyxcbiAgICAgIGluZGljYXRvcnM6IHsgcHJpY2VDaGFuZ2UsIG9yZGVyQm9va0ltYmFsYW5jZSB9LFxuICAgIH07XG4gIH1cbiAgXG4gIGlmICh3aGFsZUFjdGl2aXR5ICYmIHByaWNlQ2hhbmdlIDwgMCAmJiBvcmRlckJvb2tJbWJhbGFuY2UgPCAtMC4zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGlvbjogVHJhZGVUeXBlLlNFTEwsXG4gICAgICBjb25maWRlbmNlOiBNYXRoLm1pbig3MyArIHJpc2tMZXZlbCAqIDAuMjIsIDk2KSxcbiAgICAgIHJlYXNvbmluZzogJ1doYWxlIGRpc3RyaWJ1dGlvbiBkZXRlY3RlZCB3aXRoIGxpcXVpZGl0eSBvdXRmbG93JyxcbiAgICAgIGluZGljYXRvcnM6IHsgcHJpY2VDaGFuZ2UsIG9yZGVyQm9va0ltYmFsYW5jZSB9LFxuICAgIH07XG4gIH1cbiAgXG4gIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiAzOCwgcmVhc29uaW5nOiAnTm8gc2lnbmlmaWNhbnQgbGlxdWlkaXR5IGZsb3cnLCBpbmRpY2F0b3JzOiB7IG9yZGVyQm9va0ltYmFsYW5jZSB9IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlU3RyYXRlZ3koXG4gIHN0cmF0ZWd5OiBTdHJhdGVneVR5cGUsXG4gIHBhaXI6IFRyYWRpbmdQYWlyLFxuICBjdXJyZW50UHJpY2U6IG51bWJlcixcbiAgcmlza0xldmVsOiBudW1iZXJcbik6IFN0cmF0ZWd5U2lnbmFsIHtcbiAgLy8gVXBkYXRlIHByaWNlIGhpc3RvcnlcbiAgdXBkYXRlUHJpY2VIaXN0b3J5KHBhaXIsIGN1cnJlbnRQcmljZSk7XG4gIFxuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSBTdHJhdGVneVR5cGUuTU9NRU5UVU1fU1VSR0U6XG4gICAgICByZXR1cm4gZXhlY3V0ZU1vbWVudHVtU3VyZ2UocGFpciwgY3VycmVudFByaWNlLCByaXNrTGV2ZWwpO1xuICAgIGNhc2UgU3RyYXRlZ3lUeXBlLlZPTEFUSUxJVFlfSEFSVkVTVDpcbiAgICAgIHJldHVybiBleGVjdXRlVm9sYXRpbGl0eUhhcnZlc3QocGFpciwgY3VycmVudFByaWNlLCByaXNrTGV2ZWwpO1xuICAgIGNhc2UgU3RyYXRlZ3lUeXBlLlRSRU5EX1JFVkVSU0FMX1BSTzpcbiAgICAgIHJldHVybiBleGVjdXRlVHJlbmRSZXZlcnNhbFBybyhwYWlyLCBjdXJyZW50UHJpY2UsIHJpc2tMZXZlbCk7XG4gICAgY2FzZSBTdHJhdGVneVR5cGUuU01BUlRfRU5UUllfUE9JTlRTOlxuICAgICAgcmV0dXJuIGV4ZWN1dGVTbWFydEVudHJ5UG9pbnRzKHBhaXIsIGN1cnJlbnRQcmljZSwgcmlza0xldmVsKTtcbiAgICBjYXNlIFN0cmF0ZWd5VHlwZS5NVUxUSV9USU1FRlJBTUVfU1lOQzpcbiAgICAgIHJldHVybiBleGVjdXRlTXVsdGlUaW1lZnJhbWVTeW5jKHBhaXIsIGN1cnJlbnRQcmljZSwgcmlza0xldmVsKTtcbiAgICBjYXNlIFN0cmF0ZWd5VHlwZS5MSVFVSURJVFlfRkxPVzpcbiAgICAgIHJldHVybiBleGVjdXRlTGlxdWlkaXR5RmxvdyhwYWlyLCBjdXJyZW50UHJpY2UsIHJpc2tMZXZlbCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB7IGFjdGlvbjogJ0hPTEQnLCBjb25maWRlbmNlOiAwLCByZWFzb25pbmc6ICdVbmtub3duIHN0cmF0ZWd5JyB9O1xuICB9XG59XG5cblxuXG5cblxuIl0sIm5hbWVzIjpbIlN0cmF0ZWd5VHlwZSIsIlRyYWRlVHlwZSIsInByaWNlSGlzdG9yeSIsIk1hcCIsIk1BWF9ISVNUT1JZIiwidXBkYXRlUHJpY2VIaXN0b3J5IiwicGFpciIsInByaWNlIiwiaGFzIiwic2V0IiwicHJpY2VzIiwidGltZXN0YW1wcyIsImhpc3RvcnkiLCJnZXQiLCJwdXNoIiwiRGF0ZSIsImxlbmd0aCIsInNoaWZ0IiwiZ2V0UHJpY2VIaXN0b3J5IiwiY2FsY3VsYXRlUlNJIiwicGVyaW9kIiwiZ2FpbnMiLCJsb3NzZXMiLCJpIiwiY2hhbmdlIiwiYXZnR2FpbiIsImF2Z0xvc3MiLCJycyIsImNhbGN1bGF0ZVNNQSIsInNsaWNlIiwicmVkdWNlIiwic3VtIiwiY2FsY3VsYXRlQm9sbGluZ2VyQmFuZHMiLCJzbWEiLCJ1cHBlciIsIm1pZGRsZSIsImxvd2VyIiwidmFyaWFuY2UiLCJNYXRoIiwicG93Iiwic3RkRGV2Iiwic3FydCIsImNhbGN1bGF0ZU1BQ0QiLCJlbWExMiIsImNhbGN1bGF0ZUVNQSIsImVtYTI2IiwibWFjZExpbmUiLCJzaWduYWwiLCJtdWx0aXBsaWVyIiwiZW1hIiwiY2FsY3VsYXRlQVRSIiwiYXRyIiwiY291bnQiLCJtaW4iLCJ0cnVlUmFuZ2UiLCJhYnMiLCJleGVjdXRlTW9tZW50dW1TdXJnZSIsImN1cnJlbnRQcmljZSIsInJpc2tMZXZlbCIsImNvbnNvbGUiLCJsb2ciLCJhY3Rpb24iLCJyYW5kb20iLCJCVVkiLCJTRUxMIiwiY29uZmlkZW5jZSIsInJlYXNvbmluZyIsInJzaSIsInJlY2VudFByaWNlcyIsInByaWNlQ2hhbmdlIiwidm9sdW1lU3Bpa2UiLCJpbmRpY2F0b3JzIiwiZXhlY3V0ZVZvbGF0aWxpdHlIYXJ2ZXN0IiwiYmIiLCJhdmdQcmljZSIsInZvbGF0aWxpdHkiLCJsb3dlckJhbmQiLCJ1cHBlckJhbmQiLCJleGVjdXRlVHJlbmRSZXZlcnNhbFBybyIsIm1hY2QiLCJzbWEyMCIsInNtYTUwIiwiZXhlY3V0ZVNtYXJ0RW50cnlQb2ludHMiLCJidXlTaWduYWxzIiwic2VsbFNpZ25hbHMiLCJleGVjdXRlTXVsdGlUaW1lZnJhbWVTeW5jIiwic21hMTAiLCJ0cmVuZDFoIiwidHJlbmQ0aCIsInRyZW5kMWQiLCJleGVjdXRlTGlxdWlkaXR5RmxvdyIsImF2Z1ZvbGF0aWxpdHkiLCJ3aGFsZUFjdGl2aXR5Iiwib3JkZXJCb29rSW1iYWxhbmNlIiwiZXhlY3V0ZVN0cmF0ZWd5Iiwic3RyYXRlZ3kiLCJNT01FTlRVTV9TVVJHRSIsIlZPTEFUSUxJVFlfSEFSVkVTVCIsIlRSRU5EX1JFVkVSU0FMX1BSTyIsIlNNQVJUX0VOVFJZX1BPSU5UUyIsIk1VTFRJX1RJTUVGUkFNRV9TWU5DIiwiTElRVUlESVRZX0ZMT1ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/povStrategies.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/priceFeeds.ts":
/*!*******************************!*\
  !*** ./src/lib/priceFeeds.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchCoinGeckoPrices: () => (/* binding */ fetchCoinGeckoPrices),\n/* harmony export */   generateCandlestickData: () => (/* binding */ generateCandlestickData),\n/* harmony export */   generateRealisticPriceMovement: () => (/* binding */ generateRealisticPriceMovement),\n/* harmony export */   getAllPrices: () => (/* binding */ getAllPrices),\n/* harmony export */   getCachedPrice: () => (/* binding */ getCachedPrice),\n/* harmony export */   getMockPrices: () => (/* binding */ getMockPrices)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n/* harmony import */ var _constants_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/constants/config */ \"(rsc)/./src/constants/config.ts\");\n\n\n\n// In-memory cache for prices\nlet priceCache = new Map();\nlet lastApiCall = 0;\nconst API_CALL_INTERVAL = 60000; // 60 seconds between API calls (free tier: 30 req/min)\nconst COINGECKO_API = \"https://api.coingecko.com/api/v3\" || 0;\nasync function fetchCoinGeckoPrices() {\n    const now = Date.now();\n    // Rate limiting: Only call API every 60 seconds\n    if (now - lastApiCall < API_CALL_INTERVAL) {\n        console.log('Rate limited: Using cached prices');\n        return getCachedPrices();\n    }\n    try {\n        const coinIds = _constants_config__WEBPACK_IMPORTED_MODULE_1__.TRADING_PAIRS.map((pair)=>pair.coinGeckoId).join(',');\n        console.log('Fetching fresh prices from CoinGecko...');\n        lastApiCall = now;\n        const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(`${COINGECKO_API}/simple/price`, {\n            params: {\n                ids: coinIds,\n                vs_currencies: 'usd',\n                include_24hr_change: true,\n                include_24hr_vol: true\n            },\n            timeout: 10000\n        });\n        const prices = _constants_config__WEBPACK_IMPORTED_MODULE_1__.TRADING_PAIRS.map((pair)=>{\n            const data = response.data[pair.coinGeckoId];\n            return {\n                pair: pair.value,\n                price: data.usd,\n                timestamp: new Date(),\n                change24h: data.usd_24h_change,\n                volume24h: data.usd_24h_vol\n            };\n        });\n        // Update cache\n        prices.forEach((priceData)=>{\n            priceCache.set(priceData.pair, {\n                data: priceData,\n                timestamp: Date.now()\n            });\n        });\n        console.log('✅ Fresh prices fetched successfully');\n        return prices;\n    } catch (error) {\n        console.error('Error fetching CoinGecko prices:', error);\n        // Return cached prices if available\n        const cachedPrices = getCachedPrices();\n        if (cachedPrices.length > 0) {\n            console.log('Returning cached prices due to API error');\n            return cachedPrices;\n        }\n        // Return mock prices as fallback\n        console.log('Using mock prices as fallback');\n        return getMockPrices();\n    }\n}\nfunction getCachedPrices() {\n    const now = Date.now();\n    const validPrices = [];\n    priceCache.forEach((cached, pair)=>{\n        if (now - cached.timestamp < _constants_config__WEBPACK_IMPORTED_MODULE_1__.PRICE_CACHE_DURATION) {\n            validPrices.push(cached.data);\n        }\n    });\n    return validPrices;\n}\nasync function getCachedPrice(pair) {\n    const cached = priceCache.get(pair);\n    if (cached && Date.now() - cached.timestamp < _constants_config__WEBPACK_IMPORTED_MODULE_1__.PRICE_CACHE_DURATION) {\n        return cached.data;\n    }\n    // Cache expired or doesn't exist, fetch new prices\n    await fetchCoinGeckoPrices();\n    const newCached = priceCache.get(pair);\n    return newCached ? newCached.data : null;\n}\nfunction getMockPrices() {\n    // Fallback mock prices for development/demo\n    const basePrices = {\n        [_types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.SOL_USDC]: 150.0,\n        [_types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.BTC_USDT]: 42000.0,\n        [_types__WEBPACK_IMPORTED_MODULE_0__.TradingPair.ETH_USDC]: 2500.0\n    };\n    return Object.entries(basePrices).map(([pair, basePrice])=>({\n            pair: pair,\n            price: basePrice + (Math.random() - 0.5) * basePrice * 0.02,\n            timestamp: new Date(),\n            change24h: (Math.random() - 0.5) * 10,\n            volume24h: Math.random() * 1000000000\n        }));\n}\nfunction generateRealisticPriceMovement(currentPrice, volatility = 0.001) {\n    // Generate realistic price movement using random walk with drift\n    const drift = (Math.random() - 0.48) * volatility; // Slight upward bias\n    const randomShock = (Math.random() - 0.5) * volatility * 2;\n    const priceChange = currentPrice * (drift + randomShock);\n    return Math.max(currentPrice + priceChange, currentPrice * 0.95); // Prevent huge drops\n}\nasync function getAllPrices() {\n    const prices = await fetchCoinGeckoPrices();\n    const priceMap = new Map();\n    prices.forEach((price)=>{\n        priceMap.set(price.pair, price);\n    });\n    return priceMap;\n}\n// Simulated candlestick data generation for charts\nfunction generateCandlestickData(basePrice, periods = 100, timeframe = '1h') {\n    const data = [];\n    let currentPrice = basePrice;\n    const timeframeMs = {\n        '1h': 3600000,\n        '4h': 14400000,\n        '1d': 86400000\n    };\n    const interval = timeframeMs[timeframe];\n    const now = Date.now();\n    for(let i = periods - 1; i >= 0; i--){\n        const open = currentPrice;\n        const volatility = 0.01;\n        const high = open * (1 + Math.random() * volatility);\n        const low = open * (1 - Math.random() * volatility);\n        const close = low + Math.random() * (high - low);\n        data.push({\n            timestamp: new Date(now - i * interval),\n            open,\n            high,\n            low,\n            close,\n            volume: Math.random() * 1000000\n        });\n        currentPrice = close;\n    }\n    return data;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaWNlRmVlZHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTBCO0FBQ3VCO0FBQ3dCO0FBVXpFLDZCQUE2QjtBQUM3QixJQUFJSSxhQUF1RSxJQUFJQztBQUMvRSxJQUFJQyxjQUFzQjtBQUMxQixNQUFNQyxvQkFBb0IsT0FBTyx1REFBdUQ7QUFFeEYsTUFBTUMsZ0JBQWdCQyxrQ0FBcUMsSUFBSSxDQUFrQztBQUUxRixlQUFlRztJQUNwQixNQUFNQyxNQUFNQyxLQUFLRCxHQUFHO0lBRXBCLGdEQUFnRDtJQUNoRCxJQUFJQSxNQUFNUCxjQUFjQyxtQkFBbUI7UUFDekNRLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU9DO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsVUFBVWhCLDREQUFhQSxDQUFDaUIsR0FBRyxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLQyxXQUFXLEVBQUVDLElBQUksQ0FBQztRQUVqRVAsUUFBUUMsR0FBRyxDQUFDO1FBQ1pWLGNBQWNPO1FBRWQsTUFBTVUsV0FBVyxNQUFNdkIsNkNBQUtBLENBQUN3QixHQUFHLENBQzlCLEdBQUdoQixjQUFjLGFBQWEsQ0FBQyxFQUMvQjtZQUNFaUIsUUFBUTtnQkFDTkMsS0FBS1I7Z0JBQ0xTLGVBQWU7Z0JBQ2ZDLHFCQUFxQjtnQkFDckJDLGtCQUFrQjtZQUNwQjtZQUNBQyxTQUFTO1FBQ1g7UUFHRixNQUFNQyxTQUFzQjdCLDREQUFhQSxDQUFDaUIsR0FBRyxDQUFDQyxDQUFBQTtZQUM1QyxNQUFNWSxPQUFPVCxTQUFTUyxJQUFJLENBQUNaLEtBQUtDLFdBQVcsQ0FBQztZQUM1QyxPQUFPO2dCQUNMRCxNQUFNQSxLQUFLYSxLQUFLO2dCQUNoQkMsT0FBT0YsS0FBS0csR0FBRztnQkFDZkMsV0FBVyxJQUFJdEI7Z0JBQ2Z1QixXQUFXTCxLQUFLTSxjQUFjO2dCQUM5QkMsV0FBV1AsS0FBS1EsV0FBVztZQUM3QjtRQUNGO1FBRUEsZUFBZTtRQUNmVCxPQUFPVSxPQUFPLENBQUNDLENBQUFBO1lBQ2J0QyxXQUFXdUMsR0FBRyxDQUFDRCxVQUFVdEIsSUFBSSxFQUFFO2dCQUM3QlksTUFBTVU7Z0JBQ05OLFdBQVd0QixLQUFLRCxHQUFHO1lBQ3JCO1FBQ0Y7UUFFQUUsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBT2U7SUFDVCxFQUFFLE9BQU9hLE9BQU87UUFDZDdCLFFBQVE2QixLQUFLLENBQUMsb0NBQW9DQTtRQUVsRCxvQ0FBb0M7UUFDcEMsTUFBTUMsZUFBZTVCO1FBQ3JCLElBQUk0QixhQUFhQyxNQUFNLEdBQUcsR0FBRztZQUMzQi9CLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU82QjtRQUNUO1FBRUEsaUNBQWlDO1FBQ2pDOUIsUUFBUUMsR0FBRyxDQUFDO1FBQ1osT0FBTytCO0lBQ1Q7QUFDRjtBQUVBLFNBQVM5QjtJQUNQLE1BQU1KLE1BQU1DLEtBQUtELEdBQUc7SUFDcEIsTUFBTW1DLGNBQTJCLEVBQUU7SUFFbkM1QyxXQUFXcUMsT0FBTyxDQUFDLENBQUNRLFFBQVE3QjtRQUMxQixJQUFJUCxNQUFNb0MsT0FBT2IsU0FBUyxHQUFHakMsbUVBQW9CQSxFQUFFO1lBQ2pENkMsWUFBWUUsSUFBSSxDQUFDRCxPQUFPakIsSUFBSTtRQUM5QjtJQUNGO0lBRUEsT0FBT2dCO0FBQ1Q7QUFFTyxlQUFlRyxlQUFlL0IsSUFBaUI7SUFDcEQsTUFBTTZCLFNBQVM3QyxXQUFXb0IsR0FBRyxDQUFDSjtJQUU5QixJQUFJNkIsVUFBVW5DLEtBQUtELEdBQUcsS0FBS29DLE9BQU9iLFNBQVMsR0FBR2pDLG1FQUFvQkEsRUFBRTtRQUNsRSxPQUFPOEMsT0FBT2pCLElBQUk7SUFDcEI7SUFFQSxtREFBbUQ7SUFDbkQsTUFBTXBCO0lBRU4sTUFBTXdDLFlBQVloRCxXQUFXb0IsR0FBRyxDQUFDSjtJQUNqQyxPQUFPZ0MsWUFBWUEsVUFBVXBCLElBQUksR0FBRztBQUN0QztBQUVPLFNBQVNlO0lBQ2QsNENBQTRDO0lBQzVDLE1BQU1NLGFBQWE7UUFDakIsQ0FBQ3BELCtDQUFXQSxDQUFDcUQsUUFBUSxDQUFDLEVBQUU7UUFDeEIsQ0FBQ3JELCtDQUFXQSxDQUFDc0QsUUFBUSxDQUFDLEVBQUU7UUFDeEIsQ0FBQ3RELCtDQUFXQSxDQUFDdUQsUUFBUSxDQUFDLEVBQUU7SUFDMUI7SUFFQSxPQUFPQyxPQUFPQyxPQUFPLENBQUNMLFlBQVlsQyxHQUFHLENBQUMsQ0FBQyxDQUFDQyxNQUFNdUMsVUFBVSxHQUFNO1lBQzVEdkMsTUFBTUE7WUFDTmMsT0FBT3lCLFlBQVksQ0FBQ0MsS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBS0YsWUFBWTtZQUN2RHZCLFdBQVcsSUFBSXRCO1lBQ2Z1QixXQUFXLENBQUN1QixLQUFLQyxNQUFNLEtBQUssR0FBRSxJQUFLO1lBQ25DdEIsV0FBV3FCLEtBQUtDLE1BQU0sS0FBSztRQUM3QjtBQUNGO0FBRU8sU0FBU0MsK0JBQ2RDLFlBQW9CLEVBQ3BCQyxhQUFxQixLQUFLO0lBRTFCLGlFQUFpRTtJQUNqRSxNQUFNQyxRQUFRLENBQUNMLEtBQUtDLE1BQU0sS0FBSyxJQUFHLElBQUtHLFlBQVkscUJBQXFCO0lBQ3hFLE1BQU1FLGNBQWMsQ0FBQ04sS0FBS0MsTUFBTSxLQUFLLEdBQUUsSUFBS0csYUFBYTtJQUV6RCxNQUFNRyxjQUFjSixlQUFnQkUsQ0FBQUEsUUFBUUMsV0FBVTtJQUN0RCxPQUFPTixLQUFLUSxHQUFHLENBQUNMLGVBQWVJLGFBQWFKLGVBQWUsT0FBTyxxQkFBcUI7QUFDekY7QUFFTyxlQUFlTTtJQUNwQixNQUFNdEMsU0FBUyxNQUFNbkI7SUFDckIsTUFBTTBELFdBQVcsSUFBSWpFO0lBRXJCMEIsT0FBT1UsT0FBTyxDQUFDUCxDQUFBQTtRQUNib0MsU0FBUzNCLEdBQUcsQ0FBQ1QsTUFBTWQsSUFBSSxFQUFFYztJQUMzQjtJQUVBLE9BQU9vQztBQUNUO0FBRUEsbURBQW1EO0FBQzVDLFNBQVNDLHdCQUNkWixTQUFpQixFQUNqQmEsVUFBa0IsR0FBRyxFQUNyQkMsWUFBZ0MsSUFBSTtJQUVwQyxNQUFNekMsT0FBTyxFQUFFO0lBQ2YsSUFBSStCLGVBQWVKO0lBRW5CLE1BQU1lLGNBQWM7UUFDbEIsTUFBTTtRQUNOLE1BQU07UUFDTixNQUFNO0lBQ1I7SUFFQSxNQUFNQyxXQUFXRCxXQUFXLENBQUNELFVBQVU7SUFDdkMsTUFBTTVELE1BQU1DLEtBQUtELEdBQUc7SUFFcEIsSUFBSyxJQUFJK0QsSUFBSUosVUFBVSxHQUFHSSxLQUFLLEdBQUdBLElBQUs7UUFDckMsTUFBTUMsT0FBT2Q7UUFDYixNQUFNQyxhQUFhO1FBRW5CLE1BQU1jLE9BQU9ELE9BQVEsS0FBSWpCLEtBQUtDLE1BQU0sS0FBS0csVUFBUztRQUNsRCxNQUFNZSxNQUFNRixPQUFRLEtBQUlqQixLQUFLQyxNQUFNLEtBQUtHLFVBQVM7UUFDakQsTUFBTWdCLFFBQVFELE1BQU1uQixLQUFLQyxNQUFNLEtBQU1pQixDQUFBQSxPQUFPQyxHQUFFO1FBRTlDL0MsS0FBS2tCLElBQUksQ0FBQztZQUNSZCxXQUFXLElBQUl0QixLQUFLRCxNQUFNK0QsSUFBSUQ7WUFDOUJFO1lBQ0FDO1lBQ0FDO1lBQ0FDO1lBQ0FDLFFBQVFyQixLQUFLQyxNQUFNLEtBQUs7UUFDMUI7UUFFQUUsZUFBZWlCO0lBQ2pCO0lBRUEsT0FBT2hEO0FBQ1QiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSlBcXHBwcHBwcHBwcHBwcHBwcHBwXFxwb3ZcXGNyeXB0by10cmFkaW5nLWJvdFxcc3JjXFxsaWJcXHByaWNlRmVlZHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFByaWNlRGF0YSwgVHJhZGluZ1BhaXIgfSBmcm9tICdAL3R5cGVzJztcbmltcG9ydCB7IFRSQURJTkdfUEFJUlMsIFBSSUNFX0NBQ0hFX0RVUkFUSU9OIH0gZnJvbSAnQC9jb25zdGFudHMvY29uZmlnJztcblxuaW50ZXJmYWNlIENvaW5HZWNrb1ByaWNlUmVzcG9uc2Uge1xuICBba2V5OiBzdHJpbmddOiB7XG4gICAgdXNkOiBudW1iZXI7XG4gICAgdXNkXzI0aF9jaGFuZ2U6IG51bWJlcjtcbiAgICB1c2RfMjRoX3ZvbDogbnVtYmVyO1xuICB9O1xufVxuXG4vLyBJbi1tZW1vcnkgY2FjaGUgZm9yIHByaWNlc1xubGV0IHByaWNlQ2FjaGU6IE1hcDxUcmFkaW5nUGFpciwgeyBkYXRhOiBQcmljZURhdGE7IHRpbWVzdGFtcDogbnVtYmVyIH0+ID0gbmV3IE1hcCgpO1xubGV0IGxhc3RBcGlDYWxsOiBudW1iZXIgPSAwO1xuY29uc3QgQVBJX0NBTExfSU5URVJWQUwgPSA2MDAwMDsgLy8gNjAgc2Vjb25kcyBiZXR3ZWVuIEFQSSBjYWxscyAoZnJlZSB0aWVyOiAzMCByZXEvbWluKVxuXG5jb25zdCBDT0lOR0VDS09fQVBJID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQ09JTkdFQ0tPX0FQSSB8fCAnaHR0cHM6Ly9hcGkuY29pbmdlY2tvLmNvbS9hcGkvdjMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hDb2luR2Vja29QcmljZXMoKTogUHJvbWlzZTxQcmljZURhdGFbXT4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBcbiAgLy8gUmF0ZSBsaW1pdGluZzogT25seSBjYWxsIEFQSSBldmVyeSA2MCBzZWNvbmRzXG4gIGlmIChub3cgLSBsYXN0QXBpQ2FsbCA8IEFQSV9DQUxMX0lOVEVSVkFMKSB7XG4gICAgY29uc29sZS5sb2coJ1JhdGUgbGltaXRlZDogVXNpbmcgY2FjaGVkIHByaWNlcycpO1xuICAgIHJldHVybiBnZXRDYWNoZWRQcmljZXMoKTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBjb2luSWRzID0gVFJBRElOR19QQUlSUy5tYXAocGFpciA9PiBwYWlyLmNvaW5HZWNrb0lkKS5qb2luKCcsJyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ0ZldGNoaW5nIGZyZXNoIHByaWNlcyBmcm9tIENvaW5HZWNrby4uLicpO1xuICAgIGxhc3RBcGlDYWxsID0gbm93O1xuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0PENvaW5HZWNrb1ByaWNlUmVzcG9uc2U+KFxuICAgICAgYCR7Q09JTkdFQ0tPX0FQSX0vc2ltcGxlL3ByaWNlYCxcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgaWRzOiBjb2luSWRzLFxuICAgICAgICAgIHZzX2N1cnJlbmNpZXM6ICd1c2QnLFxuICAgICAgICAgIGluY2x1ZGVfMjRocl9jaGFuZ2U6IHRydWUsXG4gICAgICAgICAgaW5jbHVkZV8yNGhyX3ZvbDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogMTAwMDAsIC8vIEluY3JlYXNlZCB0aW1lb3V0XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IHByaWNlczogUHJpY2VEYXRhW10gPSBUUkFESU5HX1BBSVJTLm1hcChwYWlyID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhW3BhaXIuY29pbkdlY2tvSWRdO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFpcjogcGFpci52YWx1ZSxcbiAgICAgICAgcHJpY2U6IGRhdGEudXNkLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIGNoYW5nZTI0aDogZGF0YS51c2RfMjRoX2NoYW5nZSxcbiAgICAgICAgdm9sdW1lMjRoOiBkYXRhLnVzZF8yNGhfdm9sLFxuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgIHByaWNlcy5mb3JFYWNoKHByaWNlRGF0YSA9PiB7XG4gICAgICBwcmljZUNhY2hlLnNldChwcmljZURhdGEucGFpciwge1xuICAgICAgICBkYXRhOiBwcmljZURhdGEsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ+KchSBGcmVzaCBwcmljZXMgZmV0Y2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICByZXR1cm4gcHJpY2VzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIENvaW5HZWNrbyBwcmljZXM6JywgZXJyb3IpO1xuICAgIFxuICAgIC8vIFJldHVybiBjYWNoZWQgcHJpY2VzIGlmIGF2YWlsYWJsZVxuICAgIGNvbnN0IGNhY2hlZFByaWNlcyA9IGdldENhY2hlZFByaWNlcygpO1xuICAgIGlmIChjYWNoZWRQcmljZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coJ1JldHVybmluZyBjYWNoZWQgcHJpY2VzIGR1ZSB0byBBUEkgZXJyb3InKTtcbiAgICAgIHJldHVybiBjYWNoZWRQcmljZXM7XG4gICAgfVxuICAgIFxuICAgIC8vIFJldHVybiBtb2NrIHByaWNlcyBhcyBmYWxsYmFja1xuICAgIGNvbnNvbGUubG9nKCdVc2luZyBtb2NrIHByaWNlcyBhcyBmYWxsYmFjaycpO1xuICAgIHJldHVybiBnZXRNb2NrUHJpY2VzKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2FjaGVkUHJpY2VzKCk6IFByaWNlRGF0YVtdIHtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgdmFsaWRQcmljZXM6IFByaWNlRGF0YVtdID0gW107XG4gIFxuICBwcmljZUNhY2hlLmZvckVhY2goKGNhY2hlZCwgcGFpcikgPT4ge1xuICAgIGlmIChub3cgLSBjYWNoZWQudGltZXN0YW1wIDwgUFJJQ0VfQ0FDSEVfRFVSQVRJT04pIHtcbiAgICAgIHZhbGlkUHJpY2VzLnB1c2goY2FjaGVkLmRhdGEpO1xuICAgIH1cbiAgfSk7XG4gIFxuICByZXR1cm4gdmFsaWRQcmljZXM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWNoZWRQcmljZShwYWlyOiBUcmFkaW5nUGFpcik6IFByb21pc2U8UHJpY2VEYXRhIHwgbnVsbD4ge1xuICBjb25zdCBjYWNoZWQgPSBwcmljZUNhY2hlLmdldChwYWlyKTtcbiAgXG4gIGlmIChjYWNoZWQgJiYgRGF0ZS5ub3coKSAtIGNhY2hlZC50aW1lc3RhbXAgPCBQUklDRV9DQUNIRV9EVVJBVElPTikge1xuICAgIHJldHVybiBjYWNoZWQuZGF0YTtcbiAgfVxuICBcbiAgLy8gQ2FjaGUgZXhwaXJlZCBvciBkb2Vzbid0IGV4aXN0LCBmZXRjaCBuZXcgcHJpY2VzXG4gIGF3YWl0IGZldGNoQ29pbkdlY2tvUHJpY2VzKCk7XG4gIFxuICBjb25zdCBuZXdDYWNoZWQgPSBwcmljZUNhY2hlLmdldChwYWlyKTtcbiAgcmV0dXJuIG5ld0NhY2hlZCA/IG5ld0NhY2hlZC5kYXRhIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vY2tQcmljZXMoKTogUHJpY2VEYXRhW10ge1xuICAvLyBGYWxsYmFjayBtb2NrIHByaWNlcyBmb3IgZGV2ZWxvcG1lbnQvZGVtb1xuICBjb25zdCBiYXNlUHJpY2VzID0ge1xuICAgIFtUcmFkaW5nUGFpci5TT0xfVVNEQ106IDE1MC4wLFxuICAgIFtUcmFkaW5nUGFpci5CVENfVVNEVF06IDQyMDAwLjAsXG4gICAgW1RyYWRpbmdQYWlyLkVUSF9VU0RDXTogMjUwMC4wLFxuICB9O1xuXG4gIHJldHVybiBPYmplY3QuZW50cmllcyhiYXNlUHJpY2VzKS5tYXAoKFtwYWlyLCBiYXNlUHJpY2VdKSA9PiAoe1xuICAgIHBhaXI6IHBhaXIgYXMgVHJhZGluZ1BhaXIsXG4gICAgcHJpY2U6IGJhc2VQcmljZSArIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIGJhc2VQcmljZSAqIDAuMDIsIC8vIMKxMSUgdmFyaWF0aW9uXG4gICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIGNoYW5nZTI0aDogKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTAsIC8vIMKxNSVcbiAgICB2b2x1bWUyNGg6IE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwMDAwLFxuICB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJlYWxpc3RpY1ByaWNlTW92ZW1lbnQoXG4gIGN1cnJlbnRQcmljZTogbnVtYmVyLFxuICB2b2xhdGlsaXR5OiBudW1iZXIgPSAwLjAwMVxuKTogbnVtYmVyIHtcbiAgLy8gR2VuZXJhdGUgcmVhbGlzdGljIHByaWNlIG1vdmVtZW50IHVzaW5nIHJhbmRvbSB3YWxrIHdpdGggZHJpZnRcbiAgY29uc3QgZHJpZnQgPSAoTWF0aC5yYW5kb20oKSAtIDAuNDgpICogdm9sYXRpbGl0eTsgLy8gU2xpZ2h0IHVwd2FyZCBiaWFzXG4gIGNvbnN0IHJhbmRvbVNob2NrID0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdm9sYXRpbGl0eSAqIDI7XG4gIFxuICBjb25zdCBwcmljZUNoYW5nZSA9IGN1cnJlbnRQcmljZSAqIChkcmlmdCArIHJhbmRvbVNob2NrKTtcbiAgcmV0dXJuIE1hdGgubWF4KGN1cnJlbnRQcmljZSArIHByaWNlQ2hhbmdlLCBjdXJyZW50UHJpY2UgKiAwLjk1KTsgLy8gUHJldmVudCBodWdlIGRyb3BzXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxQcmljZXMoKTogUHJvbWlzZTxNYXA8VHJhZGluZ1BhaXIsIFByaWNlRGF0YT4+IHtcbiAgY29uc3QgcHJpY2VzID0gYXdhaXQgZmV0Y2hDb2luR2Vja29QcmljZXMoKTtcbiAgY29uc3QgcHJpY2VNYXAgPSBuZXcgTWFwPFRyYWRpbmdQYWlyLCBQcmljZURhdGE+KCk7XG4gIFxuICBwcmljZXMuZm9yRWFjaChwcmljZSA9PiB7XG4gICAgcHJpY2VNYXAuc2V0KHByaWNlLnBhaXIsIHByaWNlKTtcbiAgfSk7XG4gIFxuICByZXR1cm4gcHJpY2VNYXA7XG59XG5cbi8vIFNpbXVsYXRlZCBjYW5kbGVzdGljayBkYXRhIGdlbmVyYXRpb24gZm9yIGNoYXJ0c1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ2FuZGxlc3RpY2tEYXRhKFxuICBiYXNlUHJpY2U6IG51bWJlcixcbiAgcGVyaW9kczogbnVtYmVyID0gMTAwLFxuICB0aW1lZnJhbWU6ICcxaCcgfCAnNGgnIHwgJzFkJyA9ICcxaCdcbik6IEFycmF5PHsgdGltZXN0YW1wOiBEYXRlOyBvcGVuOiBudW1iZXI7IGhpZ2g6IG51bWJlcjsgbG93OiBudW1iZXI7IGNsb3NlOiBudW1iZXI7IHZvbHVtZTogbnVtYmVyIH0+IHtcbiAgY29uc3QgZGF0YSA9IFtdO1xuICBsZXQgY3VycmVudFByaWNlID0gYmFzZVByaWNlO1xuICBcbiAgY29uc3QgdGltZWZyYW1lTXMgPSB7XG4gICAgJzFoJzogMzYwMDAwMCxcbiAgICAnNGgnOiAxNDQwMDAwMCxcbiAgICAnMWQnOiA4NjQwMDAwMCxcbiAgfTtcbiAgXG4gIGNvbnN0IGludGVydmFsID0gdGltZWZyYW1lTXNbdGltZWZyYW1lXTtcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgXG4gIGZvciAobGV0IGkgPSBwZXJpb2RzIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBvcGVuID0gY3VycmVudFByaWNlO1xuICAgIGNvbnN0IHZvbGF0aWxpdHkgPSAwLjAxO1xuICAgIFxuICAgIGNvbnN0IGhpZ2ggPSBvcGVuICogKDEgKyBNYXRoLnJhbmRvbSgpICogdm9sYXRpbGl0eSk7XG4gICAgY29uc3QgbG93ID0gb3BlbiAqICgxIC0gTWF0aC5yYW5kb20oKSAqIHZvbGF0aWxpdHkpO1xuICAgIGNvbnN0IGNsb3NlID0gbG93ICsgTWF0aC5yYW5kb20oKSAqIChoaWdoIC0gbG93KTtcbiAgICBcbiAgICBkYXRhLnB1c2goe1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShub3cgLSBpICogaW50ZXJ2YWwpLFxuICAgICAgb3BlbixcbiAgICAgIGhpZ2gsXG4gICAgICBsb3csXG4gICAgICBjbG9zZSxcbiAgICAgIHZvbHVtZTogTWF0aC5yYW5kb20oKSAqIDEwMDAwMDAsXG4gICAgfSk7XG4gICAgXG4gICAgY3VycmVudFByaWNlID0gY2xvc2U7XG4gIH1cbiAgXG4gIHJldHVybiBkYXRhO1xufVxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJheGlvcyIsIlRyYWRpbmdQYWlyIiwiVFJBRElOR19QQUlSUyIsIlBSSUNFX0NBQ0hFX0RVUkFUSU9OIiwicHJpY2VDYWNoZSIsIk1hcCIsImxhc3RBcGlDYWxsIiwiQVBJX0NBTExfSU5URVJWQUwiLCJDT0lOR0VDS09fQVBJIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0NPSU5HRUNLT19BUEkiLCJmZXRjaENvaW5HZWNrb1ByaWNlcyIsIm5vdyIsIkRhdGUiLCJjb25zb2xlIiwibG9nIiwiZ2V0Q2FjaGVkUHJpY2VzIiwiY29pbklkcyIsIm1hcCIsInBhaXIiLCJjb2luR2Vja29JZCIsImpvaW4iLCJyZXNwb25zZSIsImdldCIsInBhcmFtcyIsImlkcyIsInZzX2N1cnJlbmNpZXMiLCJpbmNsdWRlXzI0aHJfY2hhbmdlIiwiaW5jbHVkZV8yNGhyX3ZvbCIsInRpbWVvdXQiLCJwcmljZXMiLCJkYXRhIiwidmFsdWUiLCJwcmljZSIsInVzZCIsInRpbWVzdGFtcCIsImNoYW5nZTI0aCIsInVzZF8yNGhfY2hhbmdlIiwidm9sdW1lMjRoIiwidXNkXzI0aF92b2wiLCJmb3JFYWNoIiwicHJpY2VEYXRhIiwic2V0IiwiZXJyb3IiLCJjYWNoZWRQcmljZXMiLCJsZW5ndGgiLCJnZXRNb2NrUHJpY2VzIiwidmFsaWRQcmljZXMiLCJjYWNoZWQiLCJwdXNoIiwiZ2V0Q2FjaGVkUHJpY2UiLCJuZXdDYWNoZWQiLCJiYXNlUHJpY2VzIiwiU09MX1VTREMiLCJCVENfVVNEVCIsIkVUSF9VU0RDIiwiT2JqZWN0IiwiZW50cmllcyIsImJhc2VQcmljZSIsIk1hdGgiLCJyYW5kb20iLCJnZW5lcmF0ZVJlYWxpc3RpY1ByaWNlTW92ZW1lbnQiLCJjdXJyZW50UHJpY2UiLCJ2b2xhdGlsaXR5IiwiZHJpZnQiLCJyYW5kb21TaG9jayIsInByaWNlQ2hhbmdlIiwibWF4IiwiZ2V0QWxsUHJpY2VzIiwicHJpY2VNYXAiLCJnZW5lcmF0ZUNhbmRsZXN0aWNrRGF0YSIsInBlcmlvZHMiLCJ0aW1lZnJhbWUiLCJ0aW1lZnJhbWVNcyIsImludGVydmFsIiwiaSIsIm9wZW4iLCJoaWdoIiwibG93IiwiY2xvc2UiLCJ2b2x1bWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/priceFeeds.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/tradingEngine.ts":
/*!**********************************!*\
  !*** ./src/lib/tradingEngine.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   evaluateAndExecuteStrategy: () => (/* binding */ evaluateAndExecuteStrategy),\n/* harmony export */   simulateTrade: () => (/* binding */ simulateTrade),\n/* harmony export */   updateOpenPositions: () => (/* binding */ updateOpenPositions)\n/* harmony export */ });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n/* harmony import */ var _povStrategies__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./povStrategies */ \"(rsc)/./src/lib/povStrategies.ts\");\n/* harmony import */ var _calculations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculations */ \"(rsc)/./src/lib/calculations.ts\");\n/* harmony import */ var _constants_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/constants/config */ \"(rsc)/./src/constants/config.ts\");\n/* harmony import */ var _mongodb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n\n\n\n\n\nasync function simulateTrade(bot, signal, pair, currentPrice) {\n    console.log(`Simulating trade: ${signal.action} ${pair} at $${currentPrice}`);\n    console.log(`Bot capital: $${bot.availableCapital}, max position: ${bot.riskParams.maxPositionSize}%`);\n    if (signal.action === 'HOLD') return null;\n    // Simulate realistic win rate (65-80%)\n    const targetWinRate = _constants_config__WEBPACK_IMPORTED_MODULE_3__.WIN_RATE_RANGE.min + Math.random() * (_constants_config__WEBPACK_IMPORTED_MODULE_3__.WIN_RATE_RANGE.max - _constants_config__WEBPACK_IMPORTED_MODULE_3__.WIN_RATE_RANGE.min);\n    const shouldWin = Math.random() < targetWinRate;\n    // Calculate position size\n    const positionSize = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.calculatePositionSize)(bot.availableCapital, bot.riskParams.maxPositionSize, currentPrice, bot.riskParams.stopLoss);\n    console.log(`Calculated position size: ${positionSize}`);\n    if (positionSize === 0 || bot.availableCapital < currentPrice * positionSize) {\n        console.log(`Insufficient capital: positionSize=${positionSize}, required=${currentPrice * positionSize}`);\n        return null; // Not enough capital\n    }\n    // Apply slippage - better slippage for winning trades\n    const entryPrice = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.applySlippage)(currentPrice, shouldWin ? _constants_config__WEBPACK_IMPORTED_MODULE_3__.SLIPPAGE_RANGE.min : _constants_config__WEBPACK_IMPORTED_MODULE_3__.SLIPPAGE_RANGE.min * 0.8, shouldWin ? _constants_config__WEBPACK_IMPORTED_MODULE_3__.SLIPPAGE_RANGE.max : _constants_config__WEBPACK_IMPORTED_MODULE_3__.SLIPPAGE_RANGE.max * 1.8);\n    const quantity = Math.floor(positionSize * 100) / 100;\n    if (quantity <= 0) return null;\n    const slippage = Math.abs(entryPrice - currentPrice) / currentPrice;\n    const trade = {\n        userId: bot.userId,\n        botId: bot._id.toString(),\n        pair,\n        type: signal.action,\n        quantity,\n        entryPrice,\n        currentPrice,\n        strategy: bot.strategy,\n        isOpen: true,\n        entryTimestamp: new Date(),\n        slippage\n    };\n    console.log(`Trade created successfully: ${trade.type} ${trade.pair} quantity=${trade.quantity} at $${trade.entryPrice}`);\n    return trade;\n}\nasync function updateOpenPositions(bot, currentPrices) {\n    const tradesCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.TRADES);\n    // Get all open trades for this bot\n    const openTrades = await tradesCollection.find({\n        botId: bot._id.toString(),\n        isOpen: true\n    }).toArray();\n    for (const trade of openTrades){\n        const currentPrice = currentPrices.get(trade.pair);\n        if (!currentPrice) continue;\n        const { pnl, pnlPercentage } = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.calculatePnL)(trade.entryPrice, currentPrice, trade.quantity, trade.type);\n        // Check for stop loss\n        const hitStopLoss = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.shouldTriggerStopLoss)(trade.entryPrice, currentPrice, bot.riskParams.stopLoss, trade.type);\n        // Check for take profit\n        const hitTakeProfit = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.shouldTriggerTakeProfit)(trade.entryPrice, currentPrice, bot.riskParams.takeProfit, trade.type);\n        if (hitStopLoss || hitTakeProfit) {\n            // Close the trade\n            await tradesCollection.updateOne({\n                _id: trade._id\n            }, {\n                $set: {\n                    isOpen: false,\n                    exitPrice: currentPrice,\n                    exitTimestamp: new Date(),\n                    pnl,\n                    pnlPercentage\n                }\n            });\n            // Update bot's available capital (return invested capital + PnL)\n            const botsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.BOTS);\n            await botsCollection.updateOne({\n                _id: bot._id\n            }, {\n                $inc: {\n                    availableCapital: trade.entryPrice * trade.quantity + pnl\n                }\n            });\n            // Log the closure\n            const logsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.LOGS);\n            await logsCollection.insertOne({\n                userId: bot.userId,\n                botId: bot._id.toString(),\n                type: hitStopLoss ? 'ERROR' : 'INFO',\n                message: `Trade closed: ${trade.pair} ${trade.type} - ${hitStopLoss ? 'Stop Loss' : 'Take Profit'} hit (P&L: $${pnl.toFixed(2)})`,\n                metadata: {\n                    trade,\n                    reason: hitStopLoss ? 'STOP_LOSS' : 'TAKE_PROFIT'\n                },\n                timestamp: new Date()\n            });\n        } else {\n            // Just update current price and P&L\n            await tradesCollection.updateOne({\n                _id: trade._id\n            }, {\n                $set: {\n                    currentPrice,\n                    pnl,\n                    pnlPercentage\n                }\n            });\n        }\n    }\n}\nasync function evaluateAndExecuteStrategy(bot, currentPrices) {\n    const newTrades = [];\n    // Update price history for all trading pairs\n    for (const [pair, price] of currentPrices){\n        (0,_povStrategies__WEBPACK_IMPORTED_MODULE_1__.updatePriceHistory)(pair, price);\n    }\n    // Check each trading pair - ALLOW MULTIPLE TRADES PER PAIR\n    for (const pair of bot.tradingPairs){\n        const currentPrice = currentPrices.get(pair);\n        if (!currentPrice) continue;\n        // Execute strategy to get signal\n        const signal = (0,_povStrategies__WEBPACK_IMPORTED_MODULE_1__.executeStrategy)(bot.strategy, pair, currentPrice, bot.riskParams.riskLevel);\n        console.log(`Strategy ${bot.strategy} for ${pair}: action=${signal.action}, confidence=${signal.confidence}, reasoning=${signal.reasoning}`);\n        // Only execute on strong signals - LOWERED THRESHOLD FOR MORE TRADING IN DEMO MODE\n        const confidenceThreshold = 25 + (100 - bot.riskParams.riskLevel) * 0.05;\n        if (signal.confidence < confidenceThreshold) {\n            console.log(`Signal confidence ${signal.confidence} below threshold ${confidenceThreshold}, skipping`);\n            continue;\n        }\n        const tradesCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.TRADES);\n        console.log(`Trading conditions met: signal.action=${signal.action}`);\n        // Execute BUY signals - REMOVED THE SINGLE-POSITION CHECK\n        if (signal.action === _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.BUY) {\n            console.log(`Conditions met for BUY trade, simulating...`);\n            const trade = await simulateTrade(bot, signal, pair, currentPrice);\n            console.log(`Trade simulation result:`, trade ? 'SUCCESS' : 'FAILED');\n            if (trade) {\n                // Save trade to database\n                const result = await tradesCollection.insertOne(trade);\n                trade._id = result.insertedId;\n                // Update bot's available capital\n                const botsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.BOTS);\n                await botsCollection.updateOne({\n                    _id: bot._id\n                }, {\n                    $inc: {\n                        availableCapital: -(trade.entryPrice * trade.quantity)\n                    }\n                });\n                // Log the trade\n                const logsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.LOGS);\n                await logsCollection.insertOne({\n                    userId: bot.userId,\n                    botId: bot._id.toString(),\n                    type: 'TRADE_EXECUTED',\n                    message: `${signal.action} signal: ${pair} @ $${currentPrice.toFixed(2)} (${signal.reasoning})`,\n                    metadata: {\n                        trade,\n                        signal\n                    },\n                    timestamp: new Date()\n                });\n                newTrades.push(trade);\n            }\n        } else if (signal.action === _types__WEBPACK_IMPORTED_MODULE_0__.TradeType.SELL) {\n            // For SELL signals, close the oldest open position for this pair\n            const existingPosition = await tradesCollection.findOne({\n                botId: bot._id.toString(),\n                pair,\n                isOpen: true\n            });\n            if (existingPosition) {\n                const exitPrice = currentPrice;\n                const { pnl, pnlPercentage } = (0,_calculations__WEBPACK_IMPORTED_MODULE_2__.calculatePnL)(existingPosition.entryPrice, exitPrice, existingPosition.quantity, existingPosition.type);\n                await tradesCollection.updateOne({\n                    _id: existingPosition._id\n                }, {\n                    $set: {\n                        isOpen: false,\n                        exitPrice,\n                        exitTimestamp: new Date(),\n                        pnl,\n                        pnlPercentage\n                    }\n                });\n                // Update bot's available capital\n                const botsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.BOTS);\n                await botsCollection.updateOne({\n                    _id: bot._id\n                }, {\n                    $inc: {\n                        availableCapital: existingPosition.entryPrice * existingPosition.quantity + pnl\n                    }\n                });\n                // Log the closure\n                const logsCollection = await (0,_mongodb__WEBPACK_IMPORTED_MODULE_4__.getCollection)(_mongodb__WEBPACK_IMPORTED_MODULE_4__.COLLECTIONS.LOGS);\n                await logsCollection.insertOne({\n                    userId: bot.userId,\n                    botId: bot._id.toString(),\n                    type: 'TRADE_EXECUTED',\n                    message: `Position closed: ${pair} ${existingPosition.type} - Strategy signal (P&L: $${pnl.toFixed(2)})`,\n                    metadata: {\n                        trade: existingPosition,\n                        signal\n                    },\n                    timestamp: new Date()\n                });\n            }\n        }\n    }\n    return newTrades;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3RyYWRpbmdFbmdpbmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkU7QUFDVztBQU85RDtBQUM0QztBQUNiO0FBRWhELGVBQWVZLGNBQ3BCQyxHQUFRLEVBQ1JDLE1BQXNCLEVBQ3RCQyxJQUFpQixFQUNqQkMsWUFBb0I7SUFFcEJDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFSixPQUFPSyxNQUFNLENBQUMsQ0FBQyxFQUFFSixLQUFLLEtBQUssRUFBRUMsY0FBYztJQUM1RUMsUUFBUUMsR0FBRyxDQUFDLENBQUMsY0FBYyxFQUFFTCxJQUFJTyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsRUFBRVAsSUFBSVEsVUFBVSxDQUFDQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBRXJHLElBQUlSLE9BQU9LLE1BQU0sS0FBSyxRQUFRLE9BQU87SUFFckMsdUNBQXVDO0lBQ3ZDLE1BQU1JLGdCQUFnQmQsNkRBQWNBLENBQUNlLEdBQUcsR0FBR0MsS0FBS0MsTUFBTSxLQUFNakIsQ0FBQUEsNkRBQWNBLENBQUNrQixHQUFHLEdBQUdsQiw2REFBY0EsQ0FBQ2UsR0FBRztJQUNuRyxNQUFNSSxZQUFZSCxLQUFLQyxNQUFNLEtBQUtIO0lBRWxDLDBCQUEwQjtJQUMxQixNQUFNTSxlQUFlekIsb0VBQXFCQSxDQUN4Q1MsSUFBSU8sZ0JBQWdCLEVBQ3BCUCxJQUFJUSxVQUFVLENBQUNDLGVBQWUsRUFDOUJOLGNBQ0FILElBQUlRLFVBQVUsQ0FBQ1MsUUFBUTtJQUd6QmIsUUFBUUMsR0FBRyxDQUFDLENBQUMsMEJBQTBCLEVBQUVXLGNBQWM7SUFFdkQsSUFBSUEsaUJBQWlCLEtBQUtoQixJQUFJTyxnQkFBZ0IsR0FBR0osZUFBZWEsY0FBYztRQUM1RVosUUFBUUMsR0FBRyxDQUFDLENBQUMsbUNBQW1DLEVBQUVXLGFBQWEsV0FBVyxFQUFFYixlQUFlYSxjQUFjO1FBQ3pHLE9BQU8sTUFBTSxxQkFBcUI7SUFDcEM7SUFFQSxzREFBc0Q7SUFDdEQsTUFBTUUsYUFBYXhCLDREQUFhQSxDQUM5QlMsY0FDQVksWUFBWXBCLDZEQUFjQSxDQUFDZ0IsR0FBRyxHQUFHaEIsNkRBQWNBLENBQUNnQixHQUFHLEdBQUcsS0FDdERJLFlBQVlwQiw2REFBY0EsQ0FBQ21CLEdBQUcsR0FBR25CLDZEQUFjQSxDQUFDbUIsR0FBRyxHQUFHO0lBR3hELE1BQU1LLFdBQVdQLEtBQUtRLEtBQUssQ0FBQ0osZUFBZSxPQUFPO0lBRWxELElBQUlHLFlBQVksR0FBRyxPQUFPO0lBRTFCLE1BQU1FLFdBQVdULEtBQUtVLEdBQUcsQ0FBQ0osYUFBYWYsZ0JBQWdCQTtJQUV2RCxNQUFNb0IsUUFBZTtRQUNuQkMsUUFBUXhCLElBQUl3QixNQUFNO1FBQ2xCQyxPQUFPekIsSUFBSTBCLEdBQUcsQ0FBRUMsUUFBUTtRQUN4QnpCO1FBQ0EwQixNQUFNM0IsT0FBT0ssTUFBTTtRQUNuQmE7UUFDQUQ7UUFDQWY7UUFDQTBCLFVBQVU3QixJQUFJNkIsUUFBUTtRQUN0QkMsUUFBUTtRQUNSQyxnQkFBZ0IsSUFBSUM7UUFDcEJYO0lBQ0Y7SUFFQWpCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDRCQUE0QixFQUFFa0IsTUFBTUssSUFBSSxDQUFDLENBQUMsRUFBRUwsTUFBTXJCLElBQUksQ0FBQyxVQUFVLEVBQUVxQixNQUFNSixRQUFRLENBQUMsS0FBSyxFQUFFSSxNQUFNTCxVQUFVLEVBQUU7SUFDeEgsT0FBT0s7QUFDVDtBQUVPLGVBQWVVLG9CQUNwQmpDLEdBQVEsRUFDUmtDLGFBQXVDO0lBRXZDLE1BQU1DLG1CQUFtQixNQUFNdEMsdURBQWFBLENBQUNDLGlEQUFXQSxDQUFDc0MsTUFBTTtJQUUvRCxtQ0FBbUM7SUFDbkMsTUFBTUMsYUFBYSxNQUFNRixpQkFDdEJHLElBQUksQ0FBQztRQUFFYixPQUFPekIsSUFBSTBCLEdBQUcsQ0FBRUMsUUFBUTtRQUFJRyxRQUFRO0lBQUssR0FDaERTLE9BQU87SUFFVixLQUFLLE1BQU1oQixTQUFTYyxXQUFZO1FBQzlCLE1BQU1sQyxlQUFlK0IsY0FBY00sR0FBRyxDQUFDakIsTUFBTXJCLElBQUk7UUFDakQsSUFBSSxDQUFDQyxjQUFjO1FBRW5CLE1BQU0sRUFBRXNDLEdBQUcsRUFBRUMsYUFBYSxFQUFFLEdBQUdwRCwyREFBWUEsQ0FDekNpQyxNQUFNTCxVQUFVLEVBQ2hCZixjQUNBb0IsTUFBTUosUUFBUSxFQUNkSSxNQUFNSyxJQUFJO1FBR1osc0JBQXNCO1FBQ3RCLE1BQU1lLGNBQWNuRCxvRUFBcUJBLENBQ3ZDK0IsTUFBTUwsVUFBVSxFQUNoQmYsY0FDQUgsSUFBSVEsVUFBVSxDQUFDUyxRQUFRLEVBQ3ZCTSxNQUFNSyxJQUFJO1FBR1osd0JBQXdCO1FBQ3hCLE1BQU1nQixnQkFBZ0JuRCxzRUFBdUJBLENBQzNDOEIsTUFBTUwsVUFBVSxFQUNoQmYsY0FDQUgsSUFBSVEsVUFBVSxDQUFDcUMsVUFBVSxFQUN6QnRCLE1BQU1LLElBQUk7UUFHWixJQUFJZSxlQUFlQyxlQUFlO1lBQ2hDLGtCQUFrQjtZQUNsQixNQUFNVCxpQkFBaUJXLFNBQVMsQ0FDOUI7Z0JBQUVwQixLQUFLSCxNQUFNRyxHQUFHO1lBQUMsR0FDakI7Z0JBQ0VxQixNQUFNO29CQUNKakIsUUFBUTtvQkFDUmtCLFdBQVc3QztvQkFDWDhDLGVBQWUsSUFBSWpCO29CQUNuQlM7b0JBQ0FDO2dCQUNGO1lBQ0Y7WUFHRixpRUFBaUU7WUFDakUsTUFBTVEsaUJBQWlCLE1BQU1yRCx1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUNxRCxJQUFJO1lBQzNELE1BQU1ELGVBQWVKLFNBQVMsQ0FDNUI7Z0JBQUVwQixLQUFLMUIsSUFBSTBCLEdBQUc7WUFBQyxHQUNmO2dCQUNFMEIsTUFBTTtvQkFBRTdDLGtCQUFrQmdCLE1BQU1MLFVBQVUsR0FBR0ssTUFBTUosUUFBUSxHQUFHc0I7Z0JBQUk7WUFDcEU7WUFHRixrQkFBa0I7WUFDbEIsTUFBTVksaUJBQWlCLE1BQU14RCx1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUN3RCxJQUFJO1lBQzNELE1BQU1ELGVBQWVFLFNBQVMsQ0FBQztnQkFDN0IvQixRQUFReEIsSUFBSXdCLE1BQU07Z0JBQ2xCQyxPQUFPekIsSUFBSTBCLEdBQUcsQ0FBRUMsUUFBUTtnQkFDeEJDLE1BQU1lLGNBQWMsVUFBVTtnQkFDOUJhLFNBQVMsQ0FBQyxjQUFjLEVBQUVqQyxNQUFNckIsSUFBSSxDQUFDLENBQUMsRUFBRXFCLE1BQU1LLElBQUksQ0FBQyxHQUFHLEVBQUVlLGNBQWMsY0FBYyxjQUFjLFlBQVksRUFBRUYsSUFBSWdCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDaklDLFVBQVU7b0JBQUVuQztvQkFBT29DLFFBQVFoQixjQUFjLGNBQWM7Z0JBQWM7Z0JBQ3JFaUIsV0FBVyxJQUFJNUI7WUFDakI7UUFDRixPQUFPO1lBQ0wsb0NBQW9DO1lBQ3BDLE1BQU1HLGlCQUFpQlcsU0FBUyxDQUM5QjtnQkFBRXBCLEtBQUtILE1BQU1HLEdBQUc7WUFBQyxHQUNqQjtnQkFDRXFCLE1BQU07b0JBQ0o1QztvQkFDQXNDO29CQUNBQztnQkFDRjtZQUNGO1FBRUo7SUFDRjtBQUNGO0FBRU8sZUFBZW1CLDJCQUNwQjdELEdBQVEsRUFDUmtDLGFBQXVDO0lBRXZDLE1BQU00QixZQUFxQixFQUFFO0lBRTdCLDZDQUE2QztJQUM3QyxLQUFLLE1BQU0sQ0FBQzVELE1BQU02RCxNQUFNLElBQUk3QixjQUFlO1FBQ3pDN0Msa0VBQWtCQSxDQUFDYSxNQUFNNkQ7SUFDM0I7SUFFQSwyREFBMkQ7SUFDM0QsS0FBSyxNQUFNN0QsUUFBUUYsSUFBSWdFLFlBQVksQ0FBRTtRQUNuQyxNQUFNN0QsZUFBZStCLGNBQWNNLEdBQUcsQ0FBQ3RDO1FBQ3ZDLElBQUksQ0FBQ0MsY0FBYztRQUVuQixpQ0FBaUM7UUFDakMsTUFBTUYsU0FBU2IsK0RBQWVBLENBQUNZLElBQUk2QixRQUFRLEVBQUUzQixNQUFNQyxjQUFjSCxJQUFJUSxVQUFVLENBQUN5RCxTQUFTO1FBQ3pGN0QsUUFBUUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFTCxJQUFJNkIsUUFBUSxDQUFDLEtBQUssRUFBRTNCLEtBQUssU0FBUyxFQUFFRCxPQUFPSyxNQUFNLENBQUMsYUFBYSxFQUFFTCxPQUFPaUUsVUFBVSxDQUFDLFlBQVksRUFBRWpFLE9BQU9rRSxTQUFTLEVBQUU7UUFFM0ksbUZBQW1GO1FBQ25GLE1BQU1DLHNCQUFzQixLQUFLLENBQUMsTUFBTXBFLElBQUlRLFVBQVUsQ0FBQ3lELFNBQVMsSUFBSTtRQUVwRSxJQUFJaEUsT0FBT2lFLFVBQVUsR0FBR0UscUJBQXFCO1lBQzNDaEUsUUFBUUMsR0FBRyxDQUFDLENBQUMsa0JBQWtCLEVBQUVKLE9BQU9pRSxVQUFVLENBQUMsaUJBQWlCLEVBQUVFLG9CQUFvQixVQUFVLENBQUM7WUFDckc7UUFDRjtRQUVBLE1BQU1qQyxtQkFBbUIsTUFBTXRDLHVEQUFhQSxDQUFDQyxpREFBV0EsQ0FBQ3NDLE1BQU07UUFFL0RoQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxzQ0FBc0MsRUFBRUosT0FBT0ssTUFBTSxFQUFFO1FBRXBFLDBEQUEwRDtRQUMxRCxJQUFJTCxPQUFPSyxNQUFNLEtBQUtuQiw2Q0FBU0EsQ0FBQ2tGLEdBQUcsRUFBRTtZQUNuQ2pFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJDQUEyQyxDQUFDO1lBQ3pELE1BQU1rQixRQUFRLE1BQU14QixjQUFjQyxLQUFLQyxRQUFRQyxNQUFNQztZQUNyREMsUUFBUUMsR0FBRyxDQUFDLENBQUMsd0JBQXdCLENBQUMsRUFBRWtCLFFBQVEsWUFBWTtZQUM1RCxJQUFJQSxPQUFPO2dCQUNULHlCQUF5QjtnQkFDekIsTUFBTStDLFNBQVMsTUFBTW5DLGlCQUFpQm9CLFNBQVMsQ0FBQ2hDO2dCQUNoREEsTUFBTUcsR0FBRyxHQUFHNEMsT0FBT0MsVUFBVTtnQkFFN0IsaUNBQWlDO2dCQUNqQyxNQUFNckIsaUJBQWlCLE1BQU1yRCx1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUNxRCxJQUFJO2dCQUMzRCxNQUFNRCxlQUFlSixTQUFTLENBQzVCO29CQUFFcEIsS0FBSzFCLElBQUkwQixHQUFHO2dCQUFDLEdBQ2Y7b0JBQ0UwQixNQUFNO3dCQUFFN0Msa0JBQWtCLENBQUVnQixDQUFBQSxNQUFNTCxVQUFVLEdBQUdLLE1BQU1KLFFBQVE7b0JBQUU7Z0JBQ2pFO2dCQUdGLGdCQUFnQjtnQkFDaEIsTUFBTWtDLGlCQUFpQixNQUFNeEQsdURBQWFBLENBQUNDLGlEQUFXQSxDQUFDd0QsSUFBSTtnQkFDM0QsTUFBTUQsZUFBZUUsU0FBUyxDQUFDO29CQUM3Qi9CLFFBQVF4QixJQUFJd0IsTUFBTTtvQkFDbEJDLE9BQU96QixJQUFJMEIsR0FBRyxDQUFFQyxRQUFRO29CQUN4QkMsTUFBTTtvQkFDTjRCLFNBQVMsR0FBR3ZELE9BQU9LLE1BQU0sQ0FBQyxTQUFTLEVBQUVKLEtBQUssSUFBSSxFQUFFQyxhQUFhc0QsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFeEQsT0FBT2tFLFNBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQy9GVCxVQUFVO3dCQUFFbkM7d0JBQU90QjtvQkFBTztvQkFDMUIyRCxXQUFXLElBQUk1QjtnQkFDakI7Z0JBRUE4QixVQUFVVSxJQUFJLENBQUNqRDtZQUNqQjtRQUNGLE9BQU8sSUFBSXRCLE9BQU9LLE1BQU0sS0FBS25CLDZDQUFTQSxDQUFDc0YsSUFBSSxFQUFFO1lBQzNDLGlFQUFpRTtZQUNqRSxNQUFNQyxtQkFBbUIsTUFBTXZDLGlCQUFpQndDLE9BQU8sQ0FBQztnQkFDdERsRCxPQUFPekIsSUFBSTBCLEdBQUcsQ0FBRUMsUUFBUTtnQkFDeEJ6QjtnQkFDQTRCLFFBQVE7WUFDVjtZQUVBLElBQUk0QyxrQkFBa0I7Z0JBQ3BCLE1BQU0xQixZQUFZN0M7Z0JBQ2xCLE1BQU0sRUFBRXNDLEdBQUcsRUFBRUMsYUFBYSxFQUFFLEdBQUdwRCwyREFBWUEsQ0FDekNvRixpQkFBaUJ4RCxVQUFVLEVBQzNCOEIsV0FDQTBCLGlCQUFpQnZELFFBQVEsRUFDekJ1RCxpQkFBaUI5QyxJQUFJO2dCQUd2QixNQUFNTyxpQkFBaUJXLFNBQVMsQ0FDOUI7b0JBQUVwQixLQUFLZ0QsaUJBQWlCaEQsR0FBRztnQkFBQyxHQUM1QjtvQkFDRXFCLE1BQU07d0JBQ0pqQixRQUFRO3dCQUNSa0I7d0JBQ0FDLGVBQWUsSUFBSWpCO3dCQUNuQlM7d0JBQ0FDO29CQUNGO2dCQUNGO2dCQUdGLGlDQUFpQztnQkFDakMsTUFBTVEsaUJBQWlCLE1BQU1yRCx1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUNxRCxJQUFJO2dCQUMzRCxNQUFNRCxlQUFlSixTQUFTLENBQzVCO29CQUFFcEIsS0FBSzFCLElBQUkwQixHQUFHO2dCQUFDLEdBQ2Y7b0JBQ0UwQixNQUFNO3dCQUFFN0Msa0JBQWtCbUUsaUJBQWlCeEQsVUFBVSxHQUFHd0QsaUJBQWlCdkQsUUFBUSxHQUFHc0I7b0JBQUk7Z0JBQzFGO2dCQUdGLGtCQUFrQjtnQkFDbEIsTUFBTVksaUJBQWlCLE1BQU14RCx1REFBYUEsQ0FBQ0MsaURBQVdBLENBQUN3RCxJQUFJO2dCQUMzRCxNQUFNRCxlQUFlRSxTQUFTLENBQUM7b0JBQzdCL0IsUUFBUXhCLElBQUl3QixNQUFNO29CQUNsQkMsT0FBT3pCLElBQUkwQixHQUFHLENBQUVDLFFBQVE7b0JBQ3hCQyxNQUFNO29CQUNONEIsU0FBUyxDQUFDLGlCQUFpQixFQUFFdEQsS0FBSyxDQUFDLEVBQUV3RSxpQkFBaUI5QyxJQUFJLENBQUMsMEJBQTBCLEVBQUVhLElBQUlnQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQ3hHQyxVQUFVO3dCQUFFbkMsT0FBT21EO3dCQUFrQnpFO29CQUFPO29CQUM1QzJELFdBQVcsSUFBSTVCO2dCQUNqQjtZQUNGO1FBQ0Y7SUFDRjtJQUVBLE9BQU84QjtBQUNUIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEpQXFxwcHBwcHBwcHBwcHBwcHBwcFxccG92XFxjcnlwdG8tdHJhZGluZy1ib3RcXHNyY1xcbGliXFx0cmFkaW5nRW5naW5lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRyYWRlLCBUcmFkZVR5cGUsIFRyYWRpbmdQYWlyLCBTdHJhdGVneVR5cGUsIEJvdCB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZXhlY3V0ZVN0cmF0ZWd5LCBTdHJhdGVneVNpZ25hbCwgdXBkYXRlUHJpY2VIaXN0b3J5IH0gZnJvbSAnLi9wb3ZTdHJhdGVnaWVzJztcbmltcG9ydCB7XG4gIGNhbGN1bGF0ZVBuTCxcbiAgY2FsY3VsYXRlUG9zaXRpb25TaXplLFxuICBzaG91bGRUcmlnZ2VyU3RvcExvc3MsXG4gIHNob3VsZFRyaWdnZXJUYWtlUHJvZml0LFxuICBhcHBseVNsaXBwYWdlLFxufSBmcm9tICcuL2NhbGN1bGF0aW9ucyc7XG5pbXBvcnQgeyBTTElQUEFHRV9SQU5HRSwgV0lOX1JBVEVfUkFOR0UgfSBmcm9tICdAL2NvbnN0YW50cy9jb25maWcnO1xuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiwgQ09MTEVDVElPTlMgfSBmcm9tICcuL21vbmdvZGInO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2ltdWxhdGVUcmFkZShcbiAgYm90OiBCb3QsXG4gIHNpZ25hbDogU3RyYXRlZ3lTaWduYWwsXG4gIHBhaXI6IFRyYWRpbmdQYWlyLFxuICBjdXJyZW50UHJpY2U6IG51bWJlclxuKTogUHJvbWlzZTxUcmFkZSB8IG51bGw+IHtcbiAgY29uc29sZS5sb2coYFNpbXVsYXRpbmcgdHJhZGU6ICR7c2lnbmFsLmFjdGlvbn0gJHtwYWlyfSBhdCAkJHtjdXJyZW50UHJpY2V9YCk7XG4gIGNvbnNvbGUubG9nKGBCb3QgY2FwaXRhbDogJCR7Ym90LmF2YWlsYWJsZUNhcGl0YWx9LCBtYXggcG9zaXRpb246ICR7Ym90LnJpc2tQYXJhbXMubWF4UG9zaXRpb25TaXplfSVgKTtcbiAgXG4gIGlmIChzaWduYWwuYWN0aW9uID09PSAnSE9MRCcpIHJldHVybiBudWxsO1xuICBcbiAgLy8gU2ltdWxhdGUgcmVhbGlzdGljIHdpbiByYXRlICg2NS04MCUpXG4gIGNvbnN0IHRhcmdldFdpblJhdGUgPSBXSU5fUkFURV9SQU5HRS5taW4gKyBNYXRoLnJhbmRvbSgpICogKFdJTl9SQVRFX1JBTkdFLm1heCAtIFdJTl9SQVRFX1JBTkdFLm1pbik7XG4gIGNvbnN0IHNob3VsZFdpbiA9IE1hdGgucmFuZG9tKCkgPCB0YXJnZXRXaW5SYXRlO1xuICBcbiAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9uIHNpemVcbiAgY29uc3QgcG9zaXRpb25TaXplID0gY2FsY3VsYXRlUG9zaXRpb25TaXplKFxuICAgIGJvdC5hdmFpbGFibGVDYXBpdGFsLFxuICAgIGJvdC5yaXNrUGFyYW1zLm1heFBvc2l0aW9uU2l6ZSxcbiAgICBjdXJyZW50UHJpY2UsXG4gICAgYm90LnJpc2tQYXJhbXMuc3RvcExvc3NcbiAgKTtcbiAgXG4gIGNvbnNvbGUubG9nKGBDYWxjdWxhdGVkIHBvc2l0aW9uIHNpemU6ICR7cG9zaXRpb25TaXplfWApO1xuICBcbiAgaWYgKHBvc2l0aW9uU2l6ZSA9PT0gMCB8fCBib3QuYXZhaWxhYmxlQ2FwaXRhbCA8IGN1cnJlbnRQcmljZSAqIHBvc2l0aW9uU2l6ZSkge1xuICAgIGNvbnNvbGUubG9nKGBJbnN1ZmZpY2llbnQgY2FwaXRhbDogcG9zaXRpb25TaXplPSR7cG9zaXRpb25TaXplfSwgcmVxdWlyZWQ9JHtjdXJyZW50UHJpY2UgKiBwb3NpdGlvblNpemV9YCk7XG4gICAgcmV0dXJuIG51bGw7IC8vIE5vdCBlbm91Z2ggY2FwaXRhbFxuICB9XG4gIFxuICAvLyBBcHBseSBzbGlwcGFnZSAtIGJldHRlciBzbGlwcGFnZSBmb3Igd2lubmluZyB0cmFkZXNcbiAgY29uc3QgZW50cnlQcmljZSA9IGFwcGx5U2xpcHBhZ2UoXG4gICAgY3VycmVudFByaWNlLFxuICAgIHNob3VsZFdpbiA/IFNMSVBQQUdFX1JBTkdFLm1pbiA6IFNMSVBQQUdFX1JBTkdFLm1pbiAqIDAuOCxcbiAgICBzaG91bGRXaW4gPyBTTElQUEFHRV9SQU5HRS5tYXggOiBTTElQUEFHRV9SQU5HRS5tYXggKiAxLjhcbiAgKTtcbiAgXG4gIGNvbnN0IHF1YW50aXR5ID0gTWF0aC5mbG9vcihwb3NpdGlvblNpemUgKiAxMDApIC8gMTAwO1xuICBcbiAgaWYgKHF1YW50aXR5IDw9IDApIHJldHVybiBudWxsO1xuICBcbiAgY29uc3Qgc2xpcHBhZ2UgPSBNYXRoLmFicyhlbnRyeVByaWNlIC0gY3VycmVudFByaWNlKSAvIGN1cnJlbnRQcmljZTtcbiAgXG4gIGNvbnN0IHRyYWRlOiBUcmFkZSA9IHtcbiAgICB1c2VySWQ6IGJvdC51c2VySWQsXG4gICAgYm90SWQ6IGJvdC5faWQhLnRvU3RyaW5nKCksXG4gICAgcGFpcixcbiAgICB0eXBlOiBzaWduYWwuYWN0aW9uIGFzIFRyYWRlVHlwZSxcbiAgICBxdWFudGl0eSxcbiAgICBlbnRyeVByaWNlLFxuICAgIGN1cnJlbnRQcmljZSxcbiAgICBzdHJhdGVneTogYm90LnN0cmF0ZWd5LFxuICAgIGlzT3BlbjogdHJ1ZSxcbiAgICBlbnRyeVRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICBzbGlwcGFnZSxcbiAgfTtcbiAgXG4gIGNvbnNvbGUubG9nKGBUcmFkZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogJHt0cmFkZS50eXBlfSAke3RyYWRlLnBhaXJ9IHF1YW50aXR5PSR7dHJhZGUucXVhbnRpdHl9IGF0ICQke3RyYWRlLmVudHJ5UHJpY2V9YCk7XG4gIHJldHVybiB0cmFkZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU9wZW5Qb3NpdGlvbnMoXG4gIGJvdDogQm90LFxuICBjdXJyZW50UHJpY2VzOiBNYXA8VHJhZGluZ1BhaXIsIG51bWJlcj5cbik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB0cmFkZXNDb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OUy5UUkFERVMpO1xuICBcbiAgLy8gR2V0IGFsbCBvcGVuIHRyYWRlcyBmb3IgdGhpcyBib3RcbiAgY29uc3Qgb3BlblRyYWRlcyA9IGF3YWl0IHRyYWRlc0NvbGxlY3Rpb25cbiAgICAuZmluZCh7IGJvdElkOiBib3QuX2lkIS50b1N0cmluZygpLCBpc09wZW46IHRydWUgfSlcbiAgICAudG9BcnJheSgpIGFzIHVua25vd24gYXMgVHJhZGVbXTtcbiAgXG4gIGZvciAoY29uc3QgdHJhZGUgb2Ygb3BlblRyYWRlcykge1xuICAgIGNvbnN0IGN1cnJlbnRQcmljZSA9IGN1cnJlbnRQcmljZXMuZ2V0KHRyYWRlLnBhaXIpO1xuICAgIGlmICghY3VycmVudFByaWNlKSBjb250aW51ZTtcbiAgICBcbiAgICBjb25zdCB7IHBubCwgcG5sUGVyY2VudGFnZSB9ID0gY2FsY3VsYXRlUG5MKFxuICAgICAgdHJhZGUuZW50cnlQcmljZSxcbiAgICAgIGN1cnJlbnRQcmljZSxcbiAgICAgIHRyYWRlLnF1YW50aXR5LFxuICAgICAgdHJhZGUudHlwZVxuICAgICk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHN0b3AgbG9zc1xuICAgIGNvbnN0IGhpdFN0b3BMb3NzID0gc2hvdWxkVHJpZ2dlclN0b3BMb3NzKFxuICAgICAgdHJhZGUuZW50cnlQcmljZSxcbiAgICAgIGN1cnJlbnRQcmljZSxcbiAgICAgIGJvdC5yaXNrUGFyYW1zLnN0b3BMb3NzLFxuICAgICAgdHJhZGUudHlwZVxuICAgICk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHRha2UgcHJvZml0XG4gICAgY29uc3QgaGl0VGFrZVByb2ZpdCA9IHNob3VsZFRyaWdnZXJUYWtlUHJvZml0KFxuICAgICAgdHJhZGUuZW50cnlQcmljZSxcbiAgICAgIGN1cnJlbnRQcmljZSxcbiAgICAgIGJvdC5yaXNrUGFyYW1zLnRha2VQcm9maXQsXG4gICAgICB0cmFkZS50eXBlXG4gICAgKTtcbiAgICBcbiAgICBpZiAoaGl0U3RvcExvc3MgfHwgaGl0VGFrZVByb2ZpdCkge1xuICAgICAgLy8gQ2xvc2UgdGhlIHRyYWRlXG4gICAgICBhd2FpdCB0cmFkZXNDb2xsZWN0aW9uLnVwZGF0ZU9uZShcbiAgICAgICAgeyBfaWQ6IHRyYWRlLl9pZCB9LFxuICAgICAgICB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgIGV4aXRQcmljZTogY3VycmVudFByaWNlLFxuICAgICAgICAgICAgZXhpdFRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIHBubCxcbiAgICAgICAgICAgIHBubFBlcmNlbnRhZ2UsXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGJvdCdzIGF2YWlsYWJsZSBjYXBpdGFsIChyZXR1cm4gaW52ZXN0ZWQgY2FwaXRhbCArIFBuTClcbiAgICAgIGNvbnN0IGJvdHNDb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OUy5CT1RTKTtcbiAgICAgIGF3YWl0IGJvdHNDb2xsZWN0aW9uLnVwZGF0ZU9uZShcbiAgICAgICAgeyBfaWQ6IGJvdC5faWQgfSxcbiAgICAgICAge1xuICAgICAgICAgICRpbmM6IHsgYXZhaWxhYmxlQ2FwaXRhbDogdHJhZGUuZW50cnlQcmljZSAqIHRyYWRlLnF1YW50aXR5ICsgcG5sIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgY2xvc3VyZVxuICAgICAgY29uc3QgbG9nc0NvbGxlY3Rpb24gPSBhd2FpdCBnZXRDb2xsZWN0aW9uKENPTExFQ1RJT05TLkxPR1MpO1xuICAgICAgYXdhaXQgbG9nc0NvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgICAgdXNlcklkOiBib3QudXNlcklkLFxuICAgICAgICBib3RJZDogYm90Ll9pZCEudG9TdHJpbmcoKSxcbiAgICAgICAgdHlwZTogaGl0U3RvcExvc3MgPyAnRVJST1InIDogJ0lORk8nLFxuICAgICAgICBtZXNzYWdlOiBgVHJhZGUgY2xvc2VkOiAke3RyYWRlLnBhaXJ9ICR7dHJhZGUudHlwZX0gLSAke2hpdFN0b3BMb3NzID8gJ1N0b3AgTG9zcycgOiAnVGFrZSBQcm9maXQnfSBoaXQgKFAmTDogJCR7cG5sLnRvRml4ZWQoMil9KWAsXG4gICAgICAgIG1ldGFkYXRhOiB7IHRyYWRlLCByZWFzb246IGhpdFN0b3BMb3NzID8gJ1NUT1BfTE9TUycgOiAnVEFLRV9QUk9GSVQnIH0sXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBKdXN0IHVwZGF0ZSBjdXJyZW50IHByaWNlIGFuZCBQJkxcbiAgICAgIGF3YWl0IHRyYWRlc0NvbGxlY3Rpb24udXBkYXRlT25lKFxuICAgICAgICB7IF9pZDogdHJhZGUuX2lkIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBjdXJyZW50UHJpY2UsXG4gICAgICAgICAgICBwbmwsXG4gICAgICAgICAgICBwbmxQZXJjZW50YWdlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBldmFsdWF0ZUFuZEV4ZWN1dGVTdHJhdGVneShcbiAgYm90OiBCb3QsXG4gIGN1cnJlbnRQcmljZXM6IE1hcDxUcmFkaW5nUGFpciwgbnVtYmVyPlxuKTogUHJvbWlzZTxUcmFkZVtdPiB7XG4gIGNvbnN0IG5ld1RyYWRlczogVHJhZGVbXSA9IFtdO1xuICBcbiAgLy8gVXBkYXRlIHByaWNlIGhpc3RvcnkgZm9yIGFsbCB0cmFkaW5nIHBhaXJzXG4gIGZvciAoY29uc3QgW3BhaXIsIHByaWNlXSBvZiBjdXJyZW50UHJpY2VzKSB7XG4gICAgdXBkYXRlUHJpY2VIaXN0b3J5KHBhaXIsIHByaWNlKTtcbiAgfVxuICBcbiAgLy8gQ2hlY2sgZWFjaCB0cmFkaW5nIHBhaXIgLSBBTExPVyBNVUxUSVBMRSBUUkFERVMgUEVSIFBBSVJcbiAgZm9yIChjb25zdCBwYWlyIG9mIGJvdC50cmFkaW5nUGFpcnMpIHtcbiAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBjdXJyZW50UHJpY2VzLmdldChwYWlyKTtcbiAgICBpZiAoIWN1cnJlbnRQcmljZSkgY29udGludWU7XG4gICAgXG4gICAgLy8gRXhlY3V0ZSBzdHJhdGVneSB0byBnZXQgc2lnbmFsXG4gICAgY29uc3Qgc2lnbmFsID0gZXhlY3V0ZVN0cmF0ZWd5KGJvdC5zdHJhdGVneSwgcGFpciwgY3VycmVudFByaWNlLCBib3Qucmlza1BhcmFtcy5yaXNrTGV2ZWwpO1xuICAgIGNvbnNvbGUubG9nKGBTdHJhdGVneSAke2JvdC5zdHJhdGVneX0gZm9yICR7cGFpcn06IGFjdGlvbj0ke3NpZ25hbC5hY3Rpb259LCBjb25maWRlbmNlPSR7c2lnbmFsLmNvbmZpZGVuY2V9LCByZWFzb25pbmc9JHtzaWduYWwucmVhc29uaW5nfWApO1xuICAgIFxuICAgIC8vIE9ubHkgZXhlY3V0ZSBvbiBzdHJvbmcgc2lnbmFscyAtIExPV0VSRUQgVEhSRVNIT0xEIEZPUiBNT1JFIFRSQURJTkcgSU4gREVNTyBNT0RFXG4gICAgY29uc3QgY29uZmlkZW5jZVRocmVzaG9sZCA9IDI1ICsgKDEwMCAtIGJvdC5yaXNrUGFyYW1zLnJpc2tMZXZlbCkgKiAwLjA1O1xuICAgIFxuICAgIGlmIChzaWduYWwuY29uZmlkZW5jZSA8IGNvbmZpZGVuY2VUaHJlc2hvbGQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBTaWduYWwgY29uZmlkZW5jZSAke3NpZ25hbC5jb25maWRlbmNlfSBiZWxvdyB0aHJlc2hvbGQgJHtjb25maWRlbmNlVGhyZXNob2xkfSwgc2tpcHBpbmdgKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB0cmFkZXNDb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OUy5UUkFERVMpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBUcmFkaW5nIGNvbmRpdGlvbnMgbWV0OiBzaWduYWwuYWN0aW9uPSR7c2lnbmFsLmFjdGlvbn1gKTtcbiAgICBcbiAgICAvLyBFeGVjdXRlIEJVWSBzaWduYWxzIC0gUkVNT1ZFRCBUSEUgU0lOR0xFLVBPU0lUSU9OIENIRUNLXG4gICAgaWYgKHNpZ25hbC5hY3Rpb24gPT09IFRyYWRlVHlwZS5CVVkpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBDb25kaXRpb25zIG1ldCBmb3IgQlVZIHRyYWRlLCBzaW11bGF0aW5nLi4uYCk7XG4gICAgICBjb25zdCB0cmFkZSA9IGF3YWl0IHNpbXVsYXRlVHJhZGUoYm90LCBzaWduYWwsIHBhaXIsIGN1cnJlbnRQcmljZSk7XG4gICAgICBjb25zb2xlLmxvZyhgVHJhZGUgc2ltdWxhdGlvbiByZXN1bHQ6YCwgdHJhZGUgPyAnU1VDQ0VTUycgOiAnRkFJTEVEJyk7XG4gICAgICBpZiAodHJhZGUpIHtcbiAgICAgICAgLy8gU2F2ZSB0cmFkZSB0byBkYXRhYmFzZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFkZXNDb2xsZWN0aW9uLmluc2VydE9uZSh0cmFkZSk7XG4gICAgICAgIHRyYWRlLl9pZCA9IHJlc3VsdC5pbnNlcnRlZElkO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGJvdCdzIGF2YWlsYWJsZSBjYXBpdGFsXG4gICAgICAgIGNvbnN0IGJvdHNDb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OUy5CT1RTKTtcbiAgICAgICAgYXdhaXQgYm90c0NvbGxlY3Rpb24udXBkYXRlT25lKFxuICAgICAgICAgIHsgX2lkOiBib3QuX2lkIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgJGluYzogeyBhdmFpbGFibGVDYXBpdGFsOiAtKHRyYWRlLmVudHJ5UHJpY2UgKiB0cmFkZS5xdWFudGl0eSkgfSxcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAvLyBMb2cgdGhlIHRyYWRlXG4gICAgICAgIGNvbnN0IGxvZ3NDb2xsZWN0aW9uID0gYXdhaXQgZ2V0Q29sbGVjdGlvbihDT0xMRUNUSU9OUy5MT0dTKTtcbiAgICAgICAgYXdhaXQgbG9nc0NvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgICAgICB1c2VySWQ6IGJvdC51c2VySWQsXG4gICAgICAgICAgYm90SWQ6IGJvdC5faWQhLnRvU3RyaW5nKCksXG4gICAgICAgICAgdHlwZTogJ1RSQURFX0VYRUNVVEVEJyxcbiAgICAgICAgICBtZXNzYWdlOiBgJHtzaWduYWwuYWN0aW9ufSBzaWduYWw6ICR7cGFpcn0gQCAkJHtjdXJyZW50UHJpY2UudG9GaXhlZCgyKX0gKCR7c2lnbmFsLnJlYXNvbmluZ30pYCxcbiAgICAgICAgICBtZXRhZGF0YTogeyB0cmFkZSwgc2lnbmFsIH0sXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIG5ld1RyYWRlcy5wdXNoKHRyYWRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNpZ25hbC5hY3Rpb24gPT09IFRyYWRlVHlwZS5TRUxMKSB7XG4gICAgICAvLyBGb3IgU0VMTCBzaWduYWxzLCBjbG9zZSB0aGUgb2xkZXN0IG9wZW4gcG9zaXRpb24gZm9yIHRoaXMgcGFpclxuICAgICAgY29uc3QgZXhpc3RpbmdQb3NpdGlvbiA9IGF3YWl0IHRyYWRlc0NvbGxlY3Rpb24uZmluZE9uZSh7XG4gICAgICAgIGJvdElkOiBib3QuX2lkIS50b1N0cmluZygpLFxuICAgICAgICBwYWlyLFxuICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGV4aXN0aW5nUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgZXhpdFByaWNlID0gY3VycmVudFByaWNlO1xuICAgICAgICBjb25zdCB7IHBubCwgcG5sUGVyY2VudGFnZSB9ID0gY2FsY3VsYXRlUG5MKFxuICAgICAgICAgIGV4aXN0aW5nUG9zaXRpb24uZW50cnlQcmljZSxcbiAgICAgICAgICBleGl0UHJpY2UsXG4gICAgICAgICAgZXhpc3RpbmdQb3NpdGlvbi5xdWFudGl0eSxcbiAgICAgICAgICBleGlzdGluZ1Bvc2l0aW9uLnR5cGVcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IHRyYWRlc0NvbGxlY3Rpb24udXBkYXRlT25lKFxuICAgICAgICAgIHsgX2lkOiBleGlzdGluZ1Bvc2l0aW9uLl9pZCB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgaXNPcGVuOiBmYWxzZSxcbiAgICAgICAgICAgICAgZXhpdFByaWNlLFxuICAgICAgICAgICAgICBleGl0VGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICBwbmwsXG4gICAgICAgICAgICAgIHBubFBlcmNlbnRhZ2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBib3QncyBhdmFpbGFibGUgY2FwaXRhbFxuICAgICAgICBjb25zdCBib3RzQ29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTlMuQk9UUyk7XG4gICAgICAgIGF3YWl0IGJvdHNDb2xsZWN0aW9uLnVwZGF0ZU9uZShcbiAgICAgICAgICB7IF9pZDogYm90Ll9pZCB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgICRpbmM6IHsgYXZhaWxhYmxlQ2FwaXRhbDogZXhpc3RpbmdQb3NpdGlvbi5lbnRyeVByaWNlICogZXhpc3RpbmdQb3NpdGlvbi5xdWFudGl0eSArIHBubCB9LFxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExvZyB0aGUgY2xvc3VyZVxuICAgICAgICBjb25zdCBsb2dzQ29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24oQ09MTEVDVElPTlMuTE9HUyk7XG4gICAgICAgIGF3YWl0IGxvZ3NDb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICAgICAgdXNlcklkOiBib3QudXNlcklkLFxuICAgICAgICAgIGJvdElkOiBib3QuX2lkIS50b1N0cmluZygpLFxuICAgICAgICAgIHR5cGU6ICdUUkFERV9FWEVDVVRFRCcsXG4gICAgICAgICAgbWVzc2FnZTogYFBvc2l0aW9uIGNsb3NlZDogJHtwYWlyfSAke2V4aXN0aW5nUG9zaXRpb24udHlwZX0gLSBTdHJhdGVneSBzaWduYWwgKFAmTDogJCR7cG5sLnRvRml4ZWQoMil9KWAsXG4gICAgICAgICAgbWV0YWRhdGE6IHsgdHJhZGU6IGV4aXN0aW5nUG9zaXRpb24sIHNpZ25hbCB9LFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gbmV3VHJhZGVzO1xufVxuXG5cblxuXG5cbiJdLCJuYW1lcyI6WyJUcmFkZVR5cGUiLCJleGVjdXRlU3RyYXRlZ3kiLCJ1cGRhdGVQcmljZUhpc3RvcnkiLCJjYWxjdWxhdGVQbkwiLCJjYWxjdWxhdGVQb3NpdGlvblNpemUiLCJzaG91bGRUcmlnZ2VyU3RvcExvc3MiLCJzaG91bGRUcmlnZ2VyVGFrZVByb2ZpdCIsImFwcGx5U2xpcHBhZ2UiLCJTTElQUEFHRV9SQU5HRSIsIldJTl9SQVRFX1JBTkdFIiwiZ2V0Q29sbGVjdGlvbiIsIkNPTExFQ1RJT05TIiwic2ltdWxhdGVUcmFkZSIsImJvdCIsInNpZ25hbCIsInBhaXIiLCJjdXJyZW50UHJpY2UiLCJjb25zb2xlIiwibG9nIiwiYWN0aW9uIiwiYXZhaWxhYmxlQ2FwaXRhbCIsInJpc2tQYXJhbXMiLCJtYXhQb3NpdGlvblNpemUiLCJ0YXJnZXRXaW5SYXRlIiwibWluIiwiTWF0aCIsInJhbmRvbSIsIm1heCIsInNob3VsZFdpbiIsInBvc2l0aW9uU2l6ZSIsInN0b3BMb3NzIiwiZW50cnlQcmljZSIsInF1YW50aXR5IiwiZmxvb3IiLCJzbGlwcGFnZSIsImFicyIsInRyYWRlIiwidXNlcklkIiwiYm90SWQiLCJfaWQiLCJ0b1N0cmluZyIsInR5cGUiLCJzdHJhdGVneSIsImlzT3BlbiIsImVudHJ5VGltZXN0YW1wIiwiRGF0ZSIsInVwZGF0ZU9wZW5Qb3NpdGlvbnMiLCJjdXJyZW50UHJpY2VzIiwidHJhZGVzQ29sbGVjdGlvbiIsIlRSQURFUyIsIm9wZW5UcmFkZXMiLCJmaW5kIiwidG9BcnJheSIsImdldCIsInBubCIsInBubFBlcmNlbnRhZ2UiLCJoaXRTdG9wTG9zcyIsImhpdFRha2VQcm9maXQiLCJ0YWtlUHJvZml0IiwidXBkYXRlT25lIiwiJHNldCIsImV4aXRQcmljZSIsImV4aXRUaW1lc3RhbXAiLCJib3RzQ29sbGVjdGlvbiIsIkJPVFMiLCIkaW5jIiwibG9nc0NvbGxlY3Rpb24iLCJMT0dTIiwiaW5zZXJ0T25lIiwibWVzc2FnZSIsInRvRml4ZWQiLCJtZXRhZGF0YSIsInJlYXNvbiIsInRpbWVzdGFtcCIsImV2YWx1YXRlQW5kRXhlY3V0ZVN0cmF0ZWd5IiwibmV3VHJhZGVzIiwicHJpY2UiLCJ0cmFkaW5nUGFpcnMiLCJyaXNrTGV2ZWwiLCJjb25maWRlbmNlIiwicmVhc29uaW5nIiwiY29uZmlkZW5jZVRocmVzaG9sZCIsIkJVWSIsInJlc3VsdCIsImluc2VydGVkSWQiLCJwdXNoIiwiU0VMTCIsImV4aXN0aW5nUG9zaXRpb24iLCJmaW5kT25lIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/tradingEngine.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BotStatus: () => (/* binding */ BotStatus),\n/* harmony export */   LogType: () => (/* binding */ LogType),\n/* harmony export */   StrategyType: () => (/* binding */ StrategyType),\n/* harmony export */   TradeType: () => (/* binding */ TradeType),\n/* harmony export */   TradingPair: () => (/* binding */ TradingPair)\n/* harmony export */ });\nvar TradeType = /*#__PURE__*/ function(TradeType) {\n    TradeType[\"BUY\"] = \"BUY\";\n    TradeType[\"SELL\"] = \"SELL\";\n    return TradeType;\n}({});\nvar BotStatus = /*#__PURE__*/ function(BotStatus) {\n    BotStatus[\"ACTIVE\"] = \"ACTIVE\";\n    BotStatus[\"INACTIVE\"] = \"INACTIVE\";\n    BotStatus[\"PAUSED\"] = \"PAUSED\";\n    return BotStatus;\n}({});\nvar StrategyType = /*#__PURE__*/ function(StrategyType) {\n    StrategyType[\"MOMENTUM_SURGE\"] = \"MOMENTUM_SURGE\";\n    StrategyType[\"VOLATILITY_HARVEST\"] = \"VOLATILITY_HARVEST\";\n    StrategyType[\"TREND_REVERSAL_PRO\"] = \"TREND_REVERSAL_PRO\";\n    StrategyType[\"SMART_ENTRY_POINTS\"] = \"SMART_ENTRY_POINTS\";\n    StrategyType[\"MULTI_TIMEFRAME_SYNC\"] = \"MULTI_TIMEFRAME_SYNC\";\n    StrategyType[\"LIQUIDITY_FLOW\"] = \"LIQUIDITY_FLOW\";\n    StrategyType[\"CUSTOM\"] = \"CUSTOM\";\n    return StrategyType;\n}({});\nvar LogType = /*#__PURE__*/ function(LogType) {\n    LogType[\"BOT_START\"] = \"BOT_START\";\n    LogType[\"BOT_STOP\"] = \"BOT_STOP\";\n    LogType[\"BOT_PAUSE\"] = \"BOT_PAUSE\";\n    LogType[\"TRADE_EXECUTED\"] = \"TRADE_EXECUTED\";\n    LogType[\"STRATEGY_SIGNAL\"] = \"STRATEGY_SIGNAL\";\n    LogType[\"ERROR\"] = \"ERROR\";\n    LogType[\"INFO\"] = \"INFO\";\n    return LogType;\n}({});\nvar TradingPair = /*#__PURE__*/ function(TradingPair) {\n    TradingPair[\"SOL_USDC\"] = \"SOL/USDC\";\n    TradingPair[\"BTC_USDT\"] = \"BTC/USDT\";\n    TradingPair[\"ETH_USDC\"] = \"ETH/USDC\";\n    return TradingPair;\n}({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFTyx1Q0FBS0E7OztXQUFBQTtNQUdYO0FBRU0sdUNBQUtDOzs7O1dBQUFBO01BSVg7QUFFTSwwQ0FBS0M7Ozs7Ozs7O1dBQUFBO01BUVg7QUFFTSxxQ0FBS0M7Ozs7Ozs7O1dBQUFBO01BUVg7QUFFTSx5Q0FBS0M7Ozs7V0FBQUE7TUFJWCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxKUFxccHBwcHBwcHBwcHBwcHBwcHBcXHBvdlxcY3J5cHRvLXRyYWRpbmctYm90XFxzcmNcXHR5cGVzXFxpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RJZCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuZXhwb3J0IGVudW0gVHJhZGVUeXBlIHtcclxuICBCVVkgPSAnQlVZJyxcclxuICBTRUxMID0gJ1NFTEwnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBCb3RTdGF0dXMge1xyXG4gIEFDVElWRSA9ICdBQ1RJVkUnLFxyXG4gIElOQUNUSVZFID0gJ0lOQUNUSVZFJyxcclxuICBQQVVTRUQgPSAnUEFVU0VEJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gU3RyYXRlZ3lUeXBlIHtcclxuICBNT01FTlRVTV9TVVJHRSA9ICdNT01FTlRVTV9TVVJHRScsXHJcbiAgVk9MQVRJTElUWV9IQVJWRVNUID0gJ1ZPTEFUSUxJVFlfSEFSVkVTVCcsXHJcbiAgVFJFTkRfUkVWRVJTQUxfUFJPID0gJ1RSRU5EX1JFVkVSU0FMX1BSTycsXHJcbiAgU01BUlRfRU5UUllfUE9JTlRTID0gJ1NNQVJUX0VOVFJZX1BPSU5UUycsXHJcbiAgTVVMVElfVElNRUZSQU1FX1NZTkMgPSAnTVVMVElfVElNRUZSQU1FX1NZTkMnLFxyXG4gIExJUVVJRElUWV9GTE9XID0gJ0xJUVVJRElUWV9GTE9XJyxcclxuICBDVVNUT00gPSAnQ1VTVE9NJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTG9nVHlwZSB7XHJcbiAgQk9UX1NUQVJUID0gJ0JPVF9TVEFSVCcsXHJcbiAgQk9UX1NUT1AgPSAnQk9UX1NUT1AnLFxyXG4gIEJPVF9QQVVTRSA9ICdCT1RfUEFVU0UnLFxyXG4gIFRSQURFX0VYRUNVVEVEID0gJ1RSQURFX0VYRUNVVEVEJyxcclxuICBTVFJBVEVHWV9TSUdOQUwgPSAnU1RSQVRFR1lfU0lHTkFMJyxcclxuICBFUlJPUiA9ICdFUlJPUicsXHJcbiAgSU5GTyA9ICdJTkZPJyxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gVHJhZGluZ1BhaXIge1xyXG4gIFNPTF9VU0RDID0gJ1NPTC9VU0RDJyxcclxuICBCVENfVVNEVCA9ICdCVEMvVVNEVCcsXHJcbiAgRVRIX1VTREMgPSAnRVRIL1VTREMnLFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xyXG4gIF9pZD86IE9iamVjdElkO1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmRIYXNoOiBzdHJpbmc7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdD86IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQm90IHtcclxuICBfaWQ/OiBPYmplY3RJZDtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICBzdGF0dXM6IEJvdFN0YXR1cztcclxuICBzdHJhdGVneTogU3RyYXRlZ3lUeXBlO1xyXG4gIGNhcGl0YWw6IG51bWJlcjtcclxuICBhdmFpbGFibGVDYXBpdGFsOiBudW1iZXI7XHJcbiAgcmlza1BhcmFtczoge1xyXG4gICAgc3RvcExvc3M6IG51bWJlcjsgLy8gcGVyY2VudGFnZVxyXG4gICAgdGFrZVByb2ZpdDogbnVtYmVyOyAvLyBwZXJjZW50YWdlXHJcbiAgICBtYXhQb3NpdGlvblNpemU6IG51bWJlcjsgLy8gcGVyY2VudGFnZSBvZiBjYXBpdGFsXHJcbiAgICByaXNrTGV2ZWw6IG51bWJlcjsgLy8gMS0xMDBcclxuICB9O1xyXG4gIHRyYWRpbmdQYWlyczogVHJhZGluZ1BhaXJbXTtcclxuICBzaW11bGF0aW9uU3BlZWQ6IG51bWJlcjsgLy8gMXgsIDEweCwgNTB4LCAxMDB4XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdD86IERhdGU7XHJcbiAgbGFzdFRpY2tBdD86IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJhZGUge1xyXG4gIF9pZD86IE9iamVjdElkO1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIGJvdElkOiBzdHJpbmc7XHJcbiAgcGFpcjogVHJhZGluZ1BhaXI7XHJcbiAgdHlwZTogVHJhZGVUeXBlO1xyXG4gIHF1YW50aXR5OiBudW1iZXI7XHJcbiAgZW50cnlQcmljZTogbnVtYmVyO1xyXG4gIGV4aXRQcmljZT86IG51bWJlcjtcclxuICBjdXJyZW50UHJpY2U/OiBudW1iZXI7XHJcbiAgcG5sPzogbnVtYmVyO1xyXG4gIHBubFBlcmNlbnRhZ2U/OiBudW1iZXI7XHJcbiAgc3RyYXRlZ3k6IFN0cmF0ZWd5VHlwZTtcclxuICBpc09wZW46IGJvb2xlYW47XHJcbiAgZW50cnlUaW1lc3RhbXA6IERhdGU7XHJcbiAgZXhpdFRpbWVzdGFtcD86IERhdGU7XHJcbiAgc2xpcHBhZ2U6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdHJhdGVneSB7XHJcbiAgX2lkPzogT2JqZWN0SWQ7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IFN0cmF0ZWd5VHlwZTtcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHBhcmFtZXRlcnM6IFJlY29yZDxzdHJpbmcsIGFueT47XHJcbiAgdXNlcklkPzogc3RyaW5nO1xyXG4gIGlzQ3VzdG9tOiBib29sZWFuO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XHJcbiAgX2lkPzogT2JqZWN0SWQ7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbiAgYXBpS2V5cz86IHtcclxuICAgIGV4Y2hhbmdlPzogc3RyaW5nO1xyXG4gICAga2V5Pzogc3RyaW5nO1xyXG4gICAgc2VjcmV0Pzogc3RyaW5nO1xyXG4gIH07XHJcbiAgcmlza01hbmFnZW1lbnQ6IHtcclxuICAgIHN0b3BMb3NzOiBudW1iZXI7XHJcbiAgICB0YWtlUHJvZml0OiBudW1iZXI7XHJcbiAgICBtYXhEcmF3ZG93bjogbnVtYmVyO1xyXG4gIH07XHJcbiAgbm90aWZpY2F0aW9uczoge1xyXG4gICAgZW1haWw6IGJvb2xlYW47XHJcbiAgICB0cmFkaW5nQWxlcnRzOiBib29sZWFuO1xyXG4gICAgcGVyZm9ybWFuY2VSZXBvcnRzOiBib29sZWFuO1xyXG4gIH07XHJcbiAgYm90QmVoYXZpb3I6ICdhZ2dyZXNzaXZlJyB8ICdjb25zZXJ2YXRpdmUnIHwgJ21vZGVyYXRlJztcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgdXBkYXRlZEF0PzogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2cge1xyXG4gIF9pZD86IE9iamVjdElkO1xyXG4gIHVzZXJJZDogc3RyaW5nO1xyXG4gIGJvdElkPzogc3RyaW5nO1xyXG4gIHR5cGU6IExvZ1R5cGU7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcclxuICB0aW1lc3RhbXA6IERhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUHJpY2VEYXRhIHtcclxuICBwYWlyOiBUcmFkaW5nUGFpcjtcclxuICBwcmljZTogbnVtYmVyO1xyXG4gIHRpbWVzdGFtcDogRGF0ZTtcclxuICBjaGFuZ2UyNGg/OiBudW1iZXI7XHJcbiAgdm9sdW1lMjRoPzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlTWV0cmljcyB7XHJcbiAgcm9pOiBudW1iZXI7XHJcbiAgd2luUmF0ZTogbnVtYmVyO1xyXG4gIHRvdGFsUHJvZml0OiBudW1iZXI7XHJcbiAgdG90YWxMb3NzOiBudW1iZXI7XHJcbiAgbmV0UHJvZml0OiBudW1iZXI7XHJcbiAgZHJhd2Rvd246IG51bWJlcjtcclxuICBzaGFycGVSYXRpbzogbnVtYmVyO1xyXG4gIHRvdGFsVHJhZGVzOiBudW1iZXI7XHJcbiAgd2lubmluZ1RyYWRlczogbnVtYmVyO1xyXG4gIGxvc2luZ1RyYWRlczogbnVtYmVyO1xyXG4gIGF2ZXJhZ2VXaW46IG51bWJlcjtcclxuICBhdmVyYWdlTG9zczogbnVtYmVyO1xyXG4gIHByb2ZpdEZhY3RvcjogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhbmRsZXN0aWNrRGF0YSB7XHJcbiAgdGltZXN0YW1wOiBEYXRlO1xyXG4gIG9wZW46IG51bWJlcjtcclxuICBoaWdoOiBudW1iZXI7XHJcbiAgbG93OiBudW1iZXI7XHJcbiAgY2xvc2U6IG51bWJlcjtcclxuICB2b2x1bWU6IG51bWJlcjtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiVHJhZGVUeXBlIiwiQm90U3RhdHVzIiwiU3RyYXRlZ3lUeXBlIiwiTG9nVHlwZSIsIlRyYWRpbmdQYWlyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/types/index.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ms","vendor-chunks/axios","vendor-chunks/asynckit","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/call-bind-apply-helpers","vendor-chunks/debug","vendor-chunks/get-proto","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/proxy-from-env","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/has-flag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fbot%2Ftick%2Froute&page=%2Fapi%2Fbot%2Ftick%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbot%2Ftick%2Froute.ts&appDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJP%5Cppppppppppppppppp%5Cpov%5Ccrypto-trading-bot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();